(this["webpackJsonplanesbro-driver"]=this["webpackJsonplanesbro-driver"]||[]).push([[0],{142:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s}));var i="setLoginDetails",a="setLogoutDetails",s="setUpdatedUserDetails"},152:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(142),a=function(e){return function(t){return t({type:i.a,payload:e})}}},153:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(179),a=function(e){return function(t){return t({type:i.a,payload:e})}}},177:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(180),a=function(e){return function(t){return t({type:i.a,payload:e})}}},179:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i="setLoginDetails",a="setLogoutDetails"},180:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i="setLoginDetails",a="setLogoutDetails"},263:function(e,t,n){"use strict";var i=n(1),a=n.n(i),s=n(24),l=n(0),o=n(3),r=n(18),d=n(15),c=n(22),u=n(23),h=n(9),p=n(805),m=n(6),v=n(910),b=n(902),j=n(901),g=n(913),x=n(911),O=n(895),f=n(806),_=(n(41),n(898)),y=n(896),C=n(807),k=n(160),w=n(893),S=n(891),A=n(427),D=n(17),P=n.n(D),T="https://api.onit.fit/",I=function(){function e(){Object(r.a)(this,e),this.base_url=T}return Object(d.a)(e,[{key:"getCenterOnboarderObjectId",value:function(e){var t=this;return new Promise((function(n,i){P()({method:"get",url:"".concat(t.base_url,"common/get-center-onboarder-objectId"),params:e}).then((function(e){n(e.data)})).catch((function(e){i(e)}))}))}},{key:"updateCenterAdmin",value:function(e){var t=this;return new Promise((function(n,i){P()({method:"post",url:"".concat(t.base_url,"admin/update-center"),data:e}).then((function(e){n(e.data)})).catch((function(e){i(e)}))}))}},{key:"getAllClients",value:function(e){var t=this;return new Promise((function(n,i){P()({method:"get",url:"".concat(t.base_url,"admin/get-all-clients"),params:e}).then((function(e){n(e.data)})).catch((function(e){i(e)}))}))}},{key:"getCenterDetails",value:function(e){var t=this;return new Promise((function(n,i){P()({method:"get",url:"".concat(t.base_url,"admin/get-all-centers"),params:e}).then((function(e){n(e.data)})).catch((function(e){i(e)}))}))}},{key:"uploadImage",value:function(e,t){var n=this;return new Promise((function(i,a){P()({method:"post",url:"".concat(n.base_url,"common/upload-image/").concat(t),data:e}).then((function(e){i(e.data)})).catch((function(e){a(e)}))}))}},{key:"submitFeedBack",value:function(e){var t=this;return new Promise((function(n,i){P()({method:"post",url:"".concat(t.base_url,"common/submit-feedback"),data:e}).then((function(e){n(e.data)})).catch((function(e){i(e)}))}))}},{key:"checkIfFeedBackExistsForThisId",value:function(e){var t=this;return new Promise((function(n,i){P()({method:"get",url:"".concat(t.base_url,"common/check-feedback-link-valid"),params:e}).then((function(e){n(e.data)})).catch((function(e){i(e)}))}))}},{key:"sendOtp",value:function(e,t){var n=this;return new Promise((function(i,a){P()({method:"post",url:"".concat(n.base_url,"center/sent-otp"),data:e,params:t}).then((function(e){i(e.data)})).catch((function(e){a(e)}))}))}},{key:"getCenterByQrId",value:function(e){var t=this;return new Promise((function(n,i){P()({method:"get",params:e,url:"".concat(t.base_url,"center/get-center-based-on-qr")}).then((function(e){n(e.data)})).catch((function(e){i(e)}))}))}},{key:"getAllServices",value:function(){var e=this;return new Promise((function(t,n){P()({method:"get",url:"".concat(e.base_url,"admin/get-all-services")}).then((function(e){t(e.data)})).catch((function(e){n(e)}))}))}},{key:"getAllActiveServices",value:function(){var e=this;return new Promise((function(t,n){P()({method:"get",url:"".concat(e.base_url,"admin/get-all-active-services")}).then((function(e){t(e.data)})).catch((function(e){n(e)}))}))}},{key:"verifyOtp",value:function(e){var t=this;return new Promise((function(n,i){P()({method:"post",url:"".concat(t.base_url,"center/verify-otp"),data:e}).then((function(e){n(e.data)})).catch((function(e){i(e)}))}))}},{key:"registerCenter",value:function(e){var t=this;return new Promise((function(n,i){P()({method:"post",url:"".concat(t.base_url,"center/register-center-via-web"),data:e}).then((function(e){n(e.data)})).catch((function(e){i(e)}))}))}},{key:"adminCreateCenter",value:function(e){var t=this;return new Promise((function(n,i){P()({method:"post",url:"".concat(t.base_url,"admin/create-center"),data:e}).then((function(e){n(e.data)})).catch((function(e){i(e)}))}))}},{key:"loginCenter",value:function(e){var t=this;return new Promise((function(n,i){P()({method:"post",url:"".concat(t.base_url,"center/login-with-otp"),data:e}).then((function(e){n(e.data)})).catch((function(e){i(e)}))}))}}]),e}(),F=function(){function e(){Object(r.a)(this,e),this.base_url=T}return Object(d.a)(e,[{key:"getAllTickets",value:function(){var e=this;return new Promise((function(t,n){P()({method:"get",url:"".concat(e.base_url,"center/get-all-ticket")}).then((function(e){t(e.data)})).catch((function(e){n(e)}))}))}},{key:"createTechnician",value:function(e){var t=this;return new Promise((function(n,i){P()({method:"post",url:"".concat(t.base_url,"center/create-technician"),data:e}).then((function(e){n(e.data)})).catch((function(e){i(e)}))}))}},{key:"PublicTicketBooking",value:function(e){var t=this;return new Promise((function(n,i){P()({method:"post",url:"".concat(t.base_url,"center/public-ticket-booking"),data:e}).then((function(e){n(e.data)})).catch((function(e){i(e)}))}))}},{key:"createTicket",value:function(e){var t=this;return new Promise((function(n,i){P()({method:"post",url:"".concat(t.base_url,"center/create-ticket"),data:e}).then((function(e){n(e.data)})).catch((function(e){i(e)}))}))}},{key:"getAllTechnician",value:function(e){var t=this;return new Promise((function(n,i){P()({method:"get",url:"".concat(t.base_url,"center/get-all-technician"),params:e}).then((function(e){n(e.data)})).catch((function(e){i(e)}))}))}},{key:"closeTicket",value:function(e){var t=this;return new Promise((function(n,i){P()({method:"post",url:"".concat(t.base_url,"center/close-ticket"),data:e}).then((function(e){n(e.data)})).catch((function(e){i(e)}))}))}},{key:"assignTechnician",value:function(e){var t=this;return new Promise((function(n,i){P()({method:"post",data:e,url:"".concat(t.base_url,"center/assigning-ticket-technician")}).then((function(e){n(e.data)})).catch((function(e){i(e)}))}))}},{key:"changeTechnician",value:function(e){var t=this;return new Promise((function(n,i){P()({method:"post",data:e,url:"".concat(t.base_url,"center/change-ticket-technician")}).then((function(e){n(e.data)})).catch((function(e){i(e)}))}))}},{key:"addTicketRemarks",value:function(e){var t=this;return new Promise((function(n,i){P()({method:"post",data:e,url:"".concat(t.base_url,"center/add-remarks-ticket")}).then((function(e){n(e.data)})).catch((function(e){i(e)}))}))}},{key:"centerUpdateTechnician",value:function(e){var t=this;return new Promise((function(n,i){P()({method:"post",url:"".concat(t.base_url,"center/update-technician"),data:e}).then((function(e){n(e.data)})).catch((function(e){i(e)}))}))}}]),e}(),R=[{label:"AN",value:"Andaman and Nicobar Islands"},{label:"AP",value:"Andhra Pradesh"},{label:"AR",value:"Arunachal Pradesh"},{label:"AS",value:"Assam"},{label:"BR",value:"Bihar"},{label:"CG",value:"Chandigarh"},{label:"CH",value:"Chhattisgarh"},{label:"DN",value:"Dadra and Nagar Haveli"},{label:"DD",value:"Daman and Diu"},{label:"DL",value:"Delhi"},{label:"GA",value:"Goa"},{label:"GJ",value:"Gujarat"},{label:"HR",value:"Haryana"},{label:"HP",value:"Himachal Pradesh"},{label:"JK",value:"Jammu and Kashmir"},{label:"JH",value:"Jharkhand"},{label:"KA",value:"Karnataka"},{label:"KL",value:"Kerala"},{label:"LA",value:"Ladakh"},{label:"LD",value:"Lakshadweep"},{label:"MP",value:"Madhya Pradesh"},{label:"MH",value:"Maharashtra"},{label:"MN",value:"Manipur"},{label:"ML",value:"Meghalaya"},{label:"MZ",value:"Mizoram"},{label:"NL",value:"Nagaland"},{label:"OR",value:"Odisha"},{label:"PY",value:"Puducherry"},{label:"PB",value:"Punjab"},{label:"RJ",value:"Rajasthan"},{label:"SK",value:"Sikkim"},{label:"TN",value:"Tamil Nadu"},{label:"TS",value:"Telangana"},{label:"TR",value:"Tripura"},{label:"UP",value:"Uttar Pradesh"},{label:"UK",value:"Uttarakhand"},{label:"WB",value:"West Bengal"}],E=Object(m.a)(v.a)((function(e){var t=e.theme;return Object(h.a)(Object(h.a)({backgroundColor:"dark"===t.palette.mode?"#1A2027":"#fff"},t.typography.body2),{},{padding:t.spacing(1),textAlign:"center",color:t.palette.text.secondary})})),B={inputBox:{width:"100%",marginBottom:"10px"},gridStyle:{width:"80%",margin:"auto"},paddingInnerGrids:{paddingRight:"10px",paddingLeft:"10px",paddingTop:"10px"}},N=["IMMEDIATELY","WITHIN_24_HOURS","SPECIFIC_DATE_AND_TIME"],L=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).showDialog=function(e,t,n){i.setState({toast:{open:e,msg:n,duration:5e3,type:t}})},i.closeDialog=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];i.setState({toast:{open:e,msg:"",duration:5e3,type:""}})},i.handleChange=function(e){var t=e.target,n=t.name,a=t.value;"pincode"!=n?i.setState(Object(o.a)({},n,a),(function(){console.log(i.state)})):a.length<=6&&i.setState({pincode:a})},i.handleRegister=function(){var e=i.state,t=e.serviceRequired,n=e.specificRequirement,a=e.name,s=e.phoneNumber,l=e.alternatePhoneNumber,o=e.houseNumber,r=e.locality,d=e.city,c=e.state,u=e.country,h=e.pincode,p=e.timePreference,m=e.offerCode;if(!(t&&a&&s&&o&&h&&p&&m))return i.setState({isFormValid:!0}),void i.showDialog(!0,"error","Please fill in all required details");if(i.setState({isRegistering:!0}),"SPECIFIC_DATE_AND_TIME"!=i.state.timePreference||i.state.specific_date_time){var v={personal_details:{primary_phone:{country_code:"+91",mobile_number:s},alternate_phone:{country_code:l.length>0?"+91":"",mobile_number:l},name:a},specific_requirement:n,service_provided_for:t,address_details:{house_number:o,locality:r,city:d,state:c,pincode:h,country:u},time_preference:{time_preference_type:p,specific_date_time:i.state.specific_date_time},offers_applied:{offer_code:m}};(new F).PublicTicketBooking(v).then((function(e){i.showDialog(!0,"success","Ticket Created successfully"),i.setState({isRegistering:!1,serviceRequired:"",specificRequirement:"",name:"",phoneNumber:"",alternatePhoneNumber:"",houseNumber:"",locality:"",city:"",state:"",country:"INDIA",pincode:"",timePreference:"",offerCode:""}),setTimeout((function(){i.showDialog(!0,"info","Add more ticket")}),2e3)})).catch((function(e){var t,n;console.log(e),i.setState({isRegistering:!1}),i.showDialog(!0,"error",null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)}))}else i.showDialog(!0,"error","Please fill in Specific date and time")},i.state={serviceRequired:"",specificRequirement:"",name:"",phoneNumber:"",alternatePhoneNumber:"",houseNumber:"",locality:"",city:"",state:"",country:"INDIA",pincode:"",timePreference:"",offerCode:"OniT 2022",specific_date_time:new Date,toast:{open:!1,msg:"",duration:5e3,type:""},isFormValid:!1,servicesList:[],isRegistering:!1},i}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.getAllServicesExists()}},{key:"getAllServicesExists",value:function(){var e=this;(new I).getAllActiveServices().then((function(t){e.setState({servicesList:t.data})})).catch((function(e){console.log(e)}))}},{key:"onChangeSpecificDateAndTime",value:function(e){this.setState({specific_date_time:e})}},{key:"render",value:function(){var e,t=this,n=this.state,i=n.toast,a=n.isFormValid,s=n.serviceRequired,o=n.specificRequirement,r=n.name,d=n.phoneNumber,c=n.alternatePhoneNumber,u=n.houseNumber,m=n.locality,v=n.city,D=n.state,P=n.country,T=n.pincode,I=n.timePreference,F=n.offerCode;return Object(l.jsxs)("div",{children:[i.open&&Object(l.jsx)(_.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:i.open,autoHideDuration:i.duration,onClose:this.closeDialog,children:Object(l.jsx)(y.a,{onClose:this.closeDialog,severity:i.type,sx:{width:"100%"},children:i.msg})}),Object(l.jsx)("h2",{className:"text-align-center",children:"Namaste !"}),Object(l.jsx)("h4",{className:"text-align-center",children:"Please help us understand your need"}),Object(l.jsx)(E,{children:Object(l.jsxs)(p.a,{container:!0,children:[Object(l.jsx)(p.a,{item:!0,md:6,style:B.paddingInnerGrids,children:Object(l.jsxs)(x.a,{md:6,style:B.inputBox,sx:{minWidth:120},children:[Object(l.jsx)(j.a,{id:"demo-simple-select-helper-label",children:"Service You Required"}),Object(l.jsx)(O.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",label:"Service You Required",name:"serviceRequired",onChange:this.handleChange,value:s,error:a&&!s,children:null===(e=this.state.servicesList)||void 0===e?void 0:e.map((function(e){return Object(l.jsx)(g.a,{value:e._id,children:e.service_name})}))})]})}),Object(l.jsx)(p.a,{item:!0,style:B.paddingInnerGrids,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Specific Requirement - it helps",style:B.inputBox,name:"specificRequirement",value:o,onChange:this.handleChange,error:a&&!o})}),Object(l.jsx)(p.a,{item:!0,style:B.paddingInnerGrids,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Name (Contact Person)",style:B.inputBox,name:"name",value:r,onChange:this.handleChange,error:a&&!r})}),Object(l.jsx)(p.a,{item:!0,style:B.paddingInnerGrids,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Phone Number",style:B.inputBox,name:"phoneNumber",value:d,onChange:this.handleChange,error:a&&!d,InputProps:{startAdornment:Object(l.jsx)(C.a,{position:"start",children:Object(l.jsx)(k.a,{children:"+91"})})},inputProps:{maxLength:10}})}),Object(l.jsx)(p.a,{item:!0,style:B.paddingInnerGrids,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Alternate Phone Number",style:B.inputBox,name:"alternatePhoneNumber",value:c,onChange:this.handleChange,InputProps:{startAdornment:Object(l.jsx)(C.a,{position:"start",children:Object(l.jsx)(k.a,{children:"+91"})})},inputProps:{maxLength:10}})}),Object(l.jsx)(p.a,{item:!0,style:B.paddingInnerGrids,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"House Number / Street",style:B.inputBox,name:"houseNumber",value:u,onChange:this.handleChange,error:a&&!u})}),Object(l.jsx)(p.a,{style:B.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Locality",style:B.inputBox,name:"locality",value:m,onChange:this.handleChange,error:a&&!m})}),Object(l.jsx)(p.a,{style:B.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"City",style:B.inputBox,name:"city",value:v,onChange:this.handleChange,error:a&&!v})}),Object(l.jsx)(p.a,{style:B.paddingInnerGrids,item:!0,md:6,children:Object(l.jsxs)(x.a,{md:6,style:B.inputBox,sx:{minWidth:120},children:[Object(l.jsx)(j.a,{id:"demo-simple-select-helper-label",children:"State"}),Object(l.jsx)(O.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",label:"State",name:"state",onChange:this.handleChange,value:D,error:a&&!D,children:null===R||void 0===R?void 0:R.map((function(e){return Object(l.jsx)(g.a,{value:e.value,children:e.value})}))})]})}),Object(l.jsx)(p.a,{style:B.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Country",style:B.inputBox,name:"country",value:P,onChange:this.handleChange,error:a&&!P,disabled:!0})}),Object(l.jsx)(p.a,{style:B.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Pincode",style:B.inputBox,name:"pincode",type:"number",value:T,onChange:this.handleChange,error:a&&!T})}),Object(l.jsx)(p.a,{style:B.paddingInnerGrids,item:!0,md:6,children:Object(l.jsxs)(x.a,{md:6,style:B.inputBox,sx:{minWidth:120},children:[Object(l.jsx)(j.a,{id:"demo-simple-select-helper-label",children:"Time Preference"}),Object(l.jsx)(O.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",label:"Time Preference",name:"timePreference",onChange:this.handleChange,value:I,error:a&&!I,children:null===N||void 0===N?void 0:N.map((function(e){return Object(l.jsx)(g.a,{value:e,children:e})}))})]})}),"SPECIFIC_DATE_AND_TIME"==this.state.timePreference?Object(l.jsx)(p.a,{style:B.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(A.a,{dateAdapter:S.a,children:Object(l.jsx)(w.a,{renderInput:function(e){return Object(l.jsx)(b.a,Object(h.a)({},e))},label:"Select date and time",value:this.state.specific_date_time,onChange:function(e){t.onChangeSpecificDateAndTime(e)},minDate:new Date,minTime:new Date(0,0,0,8),maxTime:new Date(0,0,0,20)})})}):"",Object(l.jsx)(p.a,{style:B.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Offer Code",style:B.inputBox,name:"offerCode",value:F,onChange:this.handleChange,error:a&&!F})}),Object(l.jsx)(p.a,{style:B.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(f.a,{variant:"contained",onClick:function(){return t.handleRegister()},disabled:this.state.isRegistering,children:"SUBMIT"})})]})})]})}}]),n}(i.Component),G=L,V=Object(m.a)(v.a)((function(e){var t=e.theme;return Object(h.a)(Object(h.a)({backgroundColor:"dark"===t.palette.mode?"#1A2027":"#fff"},t.typography.body2),{},{padding:t.spacing(1),textAlign:"center",color:t.palette.text.secondary})})),q={inputBox:{width:"100%",marginBottom:"10px"},gridStyle:{width:"80%",margin:"auto"},paddingInnerGrids:{paddingRight:"10px",paddingLeft:"10px",paddingTop:"10px"}},U=["IMMEDIATELY","WITHIN_24_HOURS","SPECIFIC_DATE_AND_TIME"],M=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).showDialog=function(e,t,n){i.setState({toast:{open:e,msg:n,duration:5e3,type:t}})},i.closeDialog=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];i.setState({toast:{open:e,msg:"",duration:5e3,type:""}})},i.handleChange=function(e){var t=e.target,n=t.name,a=t.value;"pincode"!=n?i.setState(Object(o.a)({},n,a),(function(){console.log(i.state)})):a.length<=6&&i.setState({pincode:a})},i.handleRegister=function(){var e=i.state,t=e.serviceRequired,n=e.specificRequirement,a=e.name,s=e.phoneNumber,l=e.alternatePhoneNumber,o=e.houseNumber,r=e.locality,d=e.city,c=e.state,u=e.country,p=e.pincode,m=e.timePreference,v=e.offerCode;if(!(t&&a&&s&&o&&p&&m&&v))return i.setState({isFormValid:!0}),void i.showDialog(!0,"error","Please fill in all required details");if(i.setState({isRegistering:!0}),"SPECIFIC_DATE_AND_TIME"!=i.state.timePreference||i.state.specific_date_time){var b,j={personal_details:{primary_phone:{country_code:"+91",mobile_number:s},alternate_phone:{country_code:l.length>0?"+91":"",mobile_number:l},name:a},specific_requirement:n,service_provided_for:t,address_details:{house_number:o,locality:r,city:d,state:c,pincode:p,country:u},time_preference:{time_preference_type:m,specific_date_time:i.state.specific_date_time},offers_applied:{offer_code:v}};if(i.state.isCenterExist)j=Object(h.a)(Object(h.a)({},j),{},{center_obj_id:null===(b=i.state.centerDetails)||void 0===b?void 0:b._id});(new F).PublicTicketBooking(j).then((function(e){i.showDialog(!0,"success","Ticket Created successfully"),i.setState({isRegistering:!1,serviceRequired:"",specificRequirement:"",name:"",phoneNumber:"",alternatePhoneNumber:"",houseNumber:"",locality:"",city:"",state:"",country:"INDIA",pincode:"",timePreference:"",offerCode:""}),setTimeout((function(){i.showDialog(!0,"info","Add more ticket")}),2e3)})).catch((function(e){var t,n;console.log(e),i.setState({isRegistering:!1}),i.showDialog(!0,"error",null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)}))}else i.showDialog(!0,"error","Please fill in Specific date and time")},i.state={serviceRequired:"",specificRequirement:"",name:"",phoneNumber:"",alternatePhoneNumber:"",houseNumber:"",locality:"",city:"",state:"",country:"INDIA",pincode:"",timePreference:"",offerCode:"OniT 2022",specific_date_time:new Date,toast:{open:!1,msg:"",duration:5e3,type:""},isFormValid:!1,servicesList:[],isRegistering:!1,isCenterExist:!1,centerDetails:{},centerName:""},i}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.getAllServicesExists();var e=window.location.hash.split("/")[2];console.log(e,"qr id"),this.getCenterByQrid(e)}},{key:"getCenterByQrid",value:function(e){var t=this,n={qr_id:e};(new I).getCenterByQrId(n).then((function(e){var n;t.setState({isCenterExist:e.data.isCenterExist,centerDetails:e.data.doesCenterExists,centerName:null===(n=e.data.doesCenterExists)||void 0===n?void 0:n.center_name})})).catch((function(e){console.log(e)}))}},{key:"getAllServicesExists",value:function(){var e=this;(new I).getAllActiveServices().then((function(t){e.setState({servicesList:t.data})})).catch((function(e){console.log(e)}))}},{key:"onChangeSpecificDateAndTime",value:function(e){this.setState({specific_date_time:e})}},{key:"render",value:function(){var e,t=this,n=this.state,i=n.toast,a=n.isFormValid,s=n.serviceRequired,o=n.specificRequirement,r=n.name,d=n.phoneNumber,c=n.alternatePhoneNumber,u=n.houseNumber,m=n.locality,v=n.city,D=n.state,P=n.country,T=n.pincode,I=n.timePreference,F=n.offerCode;return Object(l.jsxs)("div",{children:[i.open&&Object(l.jsx)(_.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:i.open,autoHideDuration:i.duration,onClose:this.closeDialog,children:Object(l.jsx)(y.a,{onClose:this.closeDialog,severity:i.type,sx:{width:"100%"},children:i.msg})}),Object(l.jsx)("h2",{className:"text-align-center",children:"Namaste !"}),Object(l.jsx)("h4",{className:"text-align-center",children:"Please help us understand your need"}),Object(l.jsx)(V,{children:Object(l.jsxs)(p.a,{container:!0,children:[Object(l.jsx)(p.a,{item:!0,md:6,style:q.paddingInnerGrids,children:Object(l.jsxs)(x.a,{md:6,style:q.inputBox,sx:{minWidth:120},children:[Object(l.jsx)(j.a,{id:"demo-simple-select-helper-label",children:"Service You Required"}),Object(l.jsx)(O.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",label:"Service You Required",name:"serviceRequired",onChange:this.handleChange,value:s,error:a&&!s,children:null===(e=this.state.servicesList)||void 0===e?void 0:e.map((function(e){return Object(l.jsx)(g.a,{value:e._id,children:e.service_name})}))})]})}),Object(l.jsx)(p.a,{item:!0,style:q.paddingInnerGrids,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Specific Requirement - it helps",style:q.inputBox,name:"specificRequirement",value:o,onChange:this.handleChange,error:a&&!o})}),Object(l.jsx)(p.a,{item:!0,style:q.paddingInnerGrids,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Name (Contact Person)",style:q.inputBox,name:"name",value:r,onChange:this.handleChange,error:a&&!r})}),Object(l.jsx)(p.a,{item:!0,style:q.paddingInnerGrids,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Phone Number",style:q.inputBox,name:"phoneNumber",value:d,onChange:this.handleChange,error:a&&!d,InputProps:{startAdornment:Object(l.jsx)(C.a,{position:"start",children:Object(l.jsx)(k.a,{children:"+91"})})},inputProps:{maxLength:10}})}),Object(l.jsx)(p.a,{item:!0,style:q.paddingInnerGrids,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Alternate Phone Number",style:q.inputBox,name:"alternatePhoneNumber",value:c,onChange:this.handleChange,InputProps:{startAdornment:Object(l.jsx)(C.a,{position:"start",children:Object(l.jsx)(k.a,{children:"+91"})})},inputProps:{maxLength:10}})}),Object(l.jsx)(p.a,{item:!0,style:q.paddingInnerGrids,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"House Number / Street",style:q.inputBox,name:"houseNumber",value:u,onChange:this.handleChange,error:a&&!u})}),Object(l.jsx)(p.a,{style:q.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Locality",style:q.inputBox,name:"locality",value:m,onChange:this.handleChange,error:a&&!m})}),Object(l.jsx)(p.a,{style:q.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"City",style:q.inputBox,name:"city",value:v,onChange:this.handleChange,error:a&&!v})}),Object(l.jsx)(p.a,{style:q.paddingInnerGrids,item:!0,md:6,children:Object(l.jsxs)(x.a,{md:6,style:q.inputBox,sx:{minWidth:120},children:[Object(l.jsx)(j.a,{id:"demo-simple-select-helper-label",children:"State"}),Object(l.jsx)(O.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",label:"State",name:"state",onChange:this.handleChange,value:D,error:a&&!D,children:null===R||void 0===R?void 0:R.map((function(e){return Object(l.jsx)(g.a,{value:e.value,children:e.value})}))})]})}),Object(l.jsx)(p.a,{style:q.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Country",style:q.inputBox,name:"country",value:P,onChange:this.handleChange,error:a&&!P,disabled:!0})}),Object(l.jsx)(p.a,{style:q.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Pincode",style:q.inputBox,name:"pincode",value:T,onChange:this.handleChange,error:a&&!T,type:"number"})}),Object(l.jsx)(p.a,{style:q.paddingInnerGrids,item:!0,md:6,children:Object(l.jsxs)(x.a,{md:6,style:q.inputBox,sx:{minWidth:120},children:[Object(l.jsx)(j.a,{id:"demo-simple-select-helper-label",children:"Time Preference"}),Object(l.jsx)(O.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",label:"Time Preference",name:"timePreference",onChange:this.handleChange,value:I,error:a&&!I,children:null===U||void 0===U?void 0:U.map((function(e){return Object(l.jsx)(g.a,{value:e,children:e})}))})]})}),"SPECIFIC_DATE_AND_TIME"==this.state.timePreference?Object(l.jsx)(p.a,{style:q.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(A.a,{dateAdapter:S.a,children:Object(l.jsx)(w.a,{renderInput:function(e){return Object(l.jsx)(b.a,Object(h.a)({},e))},label:"Select date and time",value:this.state.specific_date_time,onChange:function(e){t.onChangeSpecificDateAndTime(e)},minDate:new Date,minTime:new Date(0,0,0,8),maxTime:new Date(0,0,0,20)})})}):"",Object(l.jsx)(p.a,{style:q.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Offer Code",style:q.inputBox,name:"offerCode",value:F,onChange:this.handleChange,error:a&&!F})}),this.state.isCenterExist&&Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(p.a,{style:q.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Partner Name",style:q.inputBox,name:"offerCode",value:this.state.centerName,disabled:!0})})}),Object(l.jsx)(p.a,{style:q.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(f.a,{variant:"contained",onClick:function(){return t.handleRegister()},disabled:this.state.isRegistering,children:"SUBMIT"})})]})})]})}}]),n}(i.Component),z=M,W=Object(m.a)(v.a)((function(e){var t=e.theme;return Object(h.a)(Object(h.a)({backgroundColor:"dark"===t.palette.mode?"#1A2027":"#fff"},t.typography.body2),{},{padding:t.spacing(1),textAlign:"center",color:t.palette.text.secondary})})),H={inputBox:{width:"100%",marginBottom:"10px"},gridStyle:{width:"80%",margin:"auto"},paddingInnerGrids:{paddingRight:"10px",paddingLeft:"10px",paddingTop:"10px"}},Y=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).showDialog=function(e,t,n){i.setState({toast:{open:e,msg:n,duration:5e3,type:t}})},i.closeDialog=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];i.setState({toast:{open:e,msg:"",duration:5e3,type:""}})},i.handleChangeInputOuter=function(e){var t=e.target,n=t.name,a=t.value;"primary_services"===n&&i.setState({secondary_services:Object(h.a)(Object(h.a)({},i.state.secondary_services),{},{secondary_services_id:a})}),i.setState(Object(o.a)({},n,a),(function(){console.log(i.state)}))},i.handleChangePersonalDetails=function(e){var t=e.target,n=t.name,a=t.value;i.setState({personal_details:{phone:Object(h.a)(Object(h.a)({},i.state.personal_details.phone),{},Object(o.a)({},n,a))}},(function(){console.log(i.state)}))},i.handleChangeAddressDetails=function(e){var t=e.target,n=t.name,a=t.value;"pincode"!==n?i.setState({address_details:Object(h.a)(Object(h.a)({},i.state.address_details),{},Object(o.a)({},n,a))}):a.length<=6&&i.setState({address_details:Object(h.a)(Object(h.a)({},i.state.address_details),{},{additional_pincode:a})},(function(){i.setState({address_details:Object(h.a)(Object(h.a)({},i.state.address_details),{},Object(o.a)({},n,a))})}))},i.handleChangeSecondaryServiceDetails=function(e){var t=e.target,n=t.name,a=t.value;i.setState({secondary_services:Object(h.a)(Object(h.a)({},i.state.secondary_services),{},Object(o.a)({},n,a))})},i.handleSendOtp=function(){if(!(i.state.center_name&&i.state.personal_details.phone.mobile_number&&i.state.primary_services&&i.state.secondary_services.secondary_services_id&&i.state.address_details.address_line&&i.state.address_details.city&&i.state.address_details.state&&i.state.address_details.pincode&&i.state.address_details.country&&(0===i.state.no_of_technicians||i.state.no_of_technicians)&&i.state.address_details.additional_pincode))return i.setState({isFormValid:!0}),void i.showDialog(!0,"error","Please fill in all required details");i.setState({sendingOtp:!0});var e={country_code:i.state.personal_details.phone.country_code,mobile_number:i.state.personal_details.phone.mobile_number};(new I).sendOtp(e,{action:"registration"}).then((function(e){i.showDialog(!0,"success","otp sent successfully"),i.setState({sendingOtp:!1,isOtpSentSuccess:!0})})).catch((function(e){var t,n;console.log(e),i.setState({sendingOtp:!1}),i.showDialog(!0,"error",null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)}))},i.handleVerifyOtp=function(){var e=i.state.otpEntered;if(e){var t={country_code:"+91",mobile_number:i.state.personal_details.phone.mobile_number,otp:e};i.setState({isVerifyingOtp:!0}),(new I).verifyOtp(t).then((function(e){i.showDialog(!0,"success","otp verified successfully , register "),i.setState({isVerifyingOtp:!1,isOtpVerfied:!0}),i.handleRegister()})).catch((function(e){var t,n;console.log(e),i.setState({isVerifyingOtp:!1}),i.showDialog(!0,"error",null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)}))}else i.showDialog(!0,"error","otp not entered")},i.handleRegister=function(){var e={center_name:i.state.center_name,personal_details:i.state.personal_details,primary_services:i.state.primary_services,secondary_services:[{secondary_services_id:i.state.secondary_services.secondary_services_id,priority:1}],address_details:i.state.address_details,no_of_technicians:i.state.no_of_technicians};i.state.center_on_boarder_object&&i.state.center_on_boarder_object._id&&(e.onboarded_by=i.state.center_on_boarder_object._id),i.setState({isRegistering:!0}),(new I).registerCenter(e).then((function(e){i.showDialog(!0,"success","Registered successfully , Please Login "),i.setState({isRegistering:!1}),setTimeout((function(){i.props.history.push("/login")}),5e3)})).catch((function(e){var t,n;console.log(e),i.setState({isRegistering:!1}),i.showDialog(!0,"error",null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)}))},i.state={center_name:"",personal_details:{phone:{country_code:"+91",mobile_number:""},email:"",name:"",user_name:"",about:""},primary_services:"",secondary_services:{secondary_services_id:"",priority:""},address_details:{address_line:"",city:"",state:"",pincode:"",additional_pincode:"",country:"INDIA"},no_of_technicians:"",center_on_boarder_object:{},toast:{open:!1,msg:"",duration:5e3,type:""},isFormValid:!1,servicesList:[],sendingOtp:!1,isOtpSentSuccess:!1,otpEntered:"",isVerifyingOtp:!1,isOtpVerfied:!1,isRegistering:!1},i}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e,t,n;this.getAllServicesExists();var i=null===this||void 0===this||null===(e=this.props)||void 0===e||null===(t=e.match)||void 0===t||null===(n=t.params)||void 0===n?void 0:n.centerOnboarderId;null!=i&&this.getCenterOnboarderDetails(i)}},{key:"getCenterOnboarderDetails",value:function(e){var t=this,n={center_onboarder_id:e};(new I).getCenterOnboarderObjectId(n).then((function(e){var n,i;null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.length&&t.setState({center_on_boarder_object:null===(i=e.data)||void 0===i?void 0:i[0]})})).catch((function(e){console.log(e)}))}},{key:"getAllServicesExists",value:function(){var e=this;(new I).getAllActiveServices().then((function(t){e.setState({servicesList:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e,t,n=this,i=this.state,a=i.toast,s=i.isFormValid;return Object(l.jsxs)("div",{children:[a.open&&Object(l.jsx)(_.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:a.open,autoHideDuration:a.duration,onClose:this.closeDialog,children:Object(l.jsx)(y.a,{onClose:this.closeDialog,severity:a.type,sx:{width:"100%"},children:a.msg})}),Object(l.jsx)("h2",{className:"text-align-center",children:"Center Registration"}),Object(l.jsx)(W,{children:Object(l.jsxs)(p.a,{container:!0,children:[Object(l.jsx)(p.a,{item:!0,style:H.paddingInnerGrids,md:6,children:Object(l.jsx)(b.a,{helperText:"Please provide your Shop / Center (Name)",id:"demo-helper-text-misaligned",label:"Shop / Center (Name)",name:"center_name",onChange:this.handleChangeInputOuter,style:H.inputBox,error:s&&!this.state.center_name,value:this.state.center_name})}),Object(l.jsx)(p.a,{item:!0,style:H.paddingInnerGrids,md:6,children:Object(l.jsx)(b.a,{helperText:"Please provide your Shop / Center (Name)",id:"demo-helper-text-misaligned",label:"What's App Number",name:"mobile_number",disabled:this.state.isOtpSentSuccess,onChange:this.handleChangePersonalDetails,style:H.inputBox,error:s&&!this.state.personal_details.phone.mobile_number,value:this.state.personal_details.phone.mobile_number,InputProps:{startAdornment:Object(l.jsx)(C.a,{position:"start",children:Object(l.jsx)(k.a,{children:"+91"})})},inputProps:{maxLength:10}})}),Object(l.jsx)(p.a,{item:!0,md:6,style:H.paddingInnerGrids,children:Object(l.jsxs)(x.a,{md:6,style:H.inputBox,sx:{minWidth:120},children:[Object(l.jsx)(j.a,{id:"demo-simple-select-helper-label",children:"Main Service You Offer / Need"}),Object(l.jsx)(O.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",label:"Main Service You Offer / Need",name:"primary_services",onChange:this.handleChangeInputOuter,error:s&&!this.state.primary_services,value:this.state.primary_services,children:null===(e=this.state.servicesList)||void 0===e?void 0:e.map((function(e){return Object(l.jsx)(g.a,{value:e._id,children:e.service_name})}))})]})}),Object(l.jsx)(p.a,{item:!0,md:6,style:H.paddingInnerGrids,children:Object(l.jsxs)(x.a,{md:6,style:H.inputBox,sx:{minWidth:120},children:[Object(l.jsx)(j.a,{id:"demo-simple-select-helper-label",children:"Other Service You Offer / Need"}),Object(l.jsx)(O.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",label:"Other Service You Offer / Need",name:"secondary_services_id",onChange:this.handleChangeSecondaryServiceDetails,error:s&&!this.state.secondary_services.secondary_services_id,value:this.state.secondary_services.secondary_services_id,children:null===(t=this.state.servicesList)||void 0===t?void 0:t.map((function(e){return Object(l.jsx)(g.a,{value:e._id,children:e.service_name})}))})]})}),Object(l.jsx)(p.a,{item:!0,style:H.paddingInnerGrids,md:6,children:Object(l.jsx)(b.a,{helperText:"Please enter your address",id:"demo-helper-text-misaligned",label:"Address",name:"address_line",onChange:this.handleChangeAddressDetails,style:H.inputBox,error:s&&!this.state.address_details.address_line,value:this.state.address_details.address_line})}),Object(l.jsx)(p.a,{item:!0,style:H.paddingInnerGrids,md:6,children:Object(l.jsx)(b.a,{helperText:"Please enter your city",id:"demo-helper-text-misaligned",label:"City",name:"city",onChange:this.handleChangeAddressDetails,error:s&&!this.state.address_details.city,value:this.state.address_details.city,style:H.inputBox})}),Object(l.jsx)(p.a,{item:!0,style:H.paddingInnerGrids,md:6,children:Object(l.jsxs)(x.a,{md:6,style:H.inputBox,sx:{minWidth:120},children:[Object(l.jsx)(j.a,{id:"demo-simple-select-helper-label",children:"State"}),Object(l.jsx)(O.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",label:"State",name:"state",onChange:this.handleChangeAddressDetails,value:this.state.address_details.state,error:s&&!this.state.address_details.state,children:null===R||void 0===R?void 0:R.map((function(e){return Object(l.jsx)(g.a,{value:e.value,children:e.value})}))})]})}),Object(l.jsx)(p.a,{item:!0,style:H.paddingInnerGrids,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Country",name:"country",onChange:this.handleChangeAddressDetails,error:s&&!this.state.address_details.country,value:this.state.address_details.country,style:H.inputBox,disabled:!0})}),Object(l.jsx)(p.a,{item:!0,style:H.paddingInnerGrids,md:6,children:Object(l.jsx)(b.a,{helperText:"Please enter your pincode",id:"demo-helper-text-misaligned",label:"Service Area Pincode (main)",name:"pincode",type:"number",onChange:this.handleChangeAddressDetails,error:s&&!this.state.address_details.pincode,value:this.state.address_details.pincode,style:H.inputBox,inputProps:{maxLength:6}})}),Object(l.jsx)(p.a,{item:!0,style:H.paddingInnerGrids,md:6,children:Object(l.jsx)(b.a,{helperText:"Please enter your additional pincode",id:"demo-helper-text-misaligned",label:"Addtional Service Area Pincode (other)",name:"additional_pincode",onChange:this.handleChangeAddressDetails,error:s&&!this.state.address_details.additional_pincode,value:this.state.address_details.additional_pincode,style:H.inputBox,inputProps:{maxLength:6}})}),Object(l.jsx)(p.a,{item:!0,md:6,style:H.paddingInnerGrids,children:Object(l.jsxs)(x.a,{style:H.inputBox,sx:{minWidth:120},children:[Object(l.jsx)(j.a,{id:"demo-simple-select-helper-label",children:"Technician Associate"}),Object(l.jsx)(O.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",label:"Technician Associate",name:"no_of_technicians",onChange:this.handleChangeInputOuter,error:s&&""===this.state.no_of_technicians,value:this.state.no_of_technicians,children:[0,1,2,3,4,5,6,7,8,9,10].map((function(e){return Object(l.jsx)(g.a,{value:e,children:e})}))})]})}),this.state.isOtpSentSuccess&&!this.state.isOtpVerfied?Object(l.jsx)(p.a,{item:!0,style:H.paddingInnerGrids,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Enter otp",name:"otpEntered",onChange:this.handleChangeInputOuter,value:this.state.otpEntered,style:H.inputBox})}):"",Object(l.jsxs)(p.a,{style:H.paddingInnerGrids,item:!0,md:6,children:[!this.state.isOtpSentSuccess&&Object(l.jsx)(f.a,{onClick:function(){return n.handleSendOtp()},variant:"contained",disabled:this.state.sendingOtp,children:this.state.sendingOtp?"Sending otp":"Send Otp"}),this.state.isOtpSentSuccess&&!this.state.isOtpVerfied?Object(l.jsx)(f.a,{onClick:function(){return n.handleVerifyOtp()},variant:"contained",disabled:this.state.isVerifyingOtp,children:this.state.isVerifyingOtp?"Verifying otp":"Verify Otp"}):"",this.state.isOtpVerfied&&Object(l.jsx)(f.a,{onClick:function(){return n.handleRegister()},variant:"contained",disabled:this.state.isRegistering,children:this.state.isRegistering?"Registering":"Register"})]})]})})]})}}]),n}(i.Component),K=Object(s.i)(Y),J=n(47),Q=n.n(J),Z=function(){function e(){Object(r.a)(this,e),this.base_url=T}return Object(d.a)(e,[{key:"getAllTicketCreatedByYou",value:function(){var e=this;return new Promise((function(t,n){P()({method:"get",url:"".concat(e.base_url,"center/get-all-tickets-created-not-assigned")}).then((function(e){t(e.data)})).catch((function(e){n(e)}))}))}},{key:"getAllTechnician",value:function(){var e=this;return new Promise((function(t,n){P()({method:"get",url:"".concat(e.base_url,"center/get-all-technician")}).then((function(e){t(e.data)})).catch((function(e){n(e)}))}))}}]),e}(),$={filterType:"dropdown",download:!1,print:!1},X=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).getAssociatedCenters=function(e){var t=[];return e&&e.length>0&&e.map((function(e){var n;t.push(null===e||void 0===e||null===(n=e.qr_details)||void 0===n?void 0:n.qr_id)})),t.length>0?t.join(", "):""},i.handleEditTechnician=function(e){i.props.history.push("/AddTechnician?edit="+e)},i.state={technicianList:[],columns:[{name:"name",label:"Name",options:{filter:!0,sort:!0}},{name:"email",label:"email",options:{filter:!0,sort:!1}},{name:"phone",label:"phone",options:{filter:!0,sort:!1}},{name:"profile_created_by",label:"profile created by",options:{filter:!0,sort:!1}},{name:"referenceDetails",label:"reference Details",options:{filter:!0,sort:!1}},{name:"address_details_permanent",label:"address details permanent",options:{filter:!0,sort:!1}},{name:"associatedWith",label:"Associated CenterCode",options:{filter:!0,sort:!1}},{name:"action",label:"Actions",options:{customBodyRender:function(e,t,n){return console.log({value:e,tableMeta:t,updateValue:n}),Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(f.a,{onClick:function(){return i.handleEditTechnician(null===e||void 0===e?void 0:e._id)},variant:"contained",color:"primary",children:"Edit Technician"})})}}}]},i}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.getAllTechnicians()}},{key:"getAllTechnicians",value:function(){var e=this;(new Z).getAllTechnician().then((function(t){var n,i=null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.map((function(t){var n,i,a,s,l,o,r,d,c,u;return{name:null===t||void 0===t||null===(n=t.personal_details)||void 0===n?void 0:n.name,email:null===t||void 0===t||null===(i=t.personal_details)||void 0===i?void 0:i.email,phone:(null===t||void 0===t||null===(a=t.personal_details)||void 0===a||null===(s=a.phone)||void 0===s?void 0:s.country_code)+(null===t||void 0===t||null===(l=t.personal_details)||void 0===l||null===(o=l.phone)||void 0===o?void 0:o.mobile_number),profile_created_by:null===t||void 0===t?void 0:t.profile_created_by,referenceDetails:null===t||void 0===t||null===(r=t.referenceDetails)||void 0===r?void 0:r.reference_person_name,address_details_permanent:(null===t||void 0===t||null===(d=t.address_details_permanent)||void 0===d?void 0:d.address_line)+"  "+(null===t||void 0===t||null===(c=t.address_details_permanent)||void 0===c?void 0:c.city)+" "+(null===t||void 0===t||null===(u=t.address_details_permanent)||void 0===u?void 0:u.country),associatedWith:e.getAssociatedCenters(null===t||void 0===t?void 0:t.center_id),action:t}}));e.setState({technicianList:i})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return Object(l.jsx)("div",{children:Object(l.jsx)(Q.a,{title:"Technicians",data:this.state.technicianList,columns:this.state.columns,options:$})})}}]),n}(i.Component),ee=Object(s.i)(X),te=function(){function e(){Object(r.a)(this,e),this.base_url=T}return Object(d.a)(e,[{key:"getAllBroadCastedList",value:function(){var e=this;return new Promise((function(t,n){P()({method:"get",url:"".concat(e.base_url,"admin/get-all-broadCasted-ticket")}).then((function(e){t(e.data)})).catch((function(e){n(e)}))}))}},{key:"updateTicket",value:function(e){var t=this;return new Promise((function(n,i){P()({method:"post",url:"".concat(t.base_url,"admin/update-ticket"),data:e}).then((function(e){n(e.data)})).catch((function(e){i(e)}))}))}},{key:"createTicket",value:function(e){var t=this;return new Promise((function(n,i){P()({method:"post",url:"".concat(t.base_url,"admin/create-ticket"),data:e}).then((function(e){n(e.data)})).catch((function(e){i(e)}))}))}},{key:"getAllFeedBack",value:function(){var e=this;return new Promise((function(t,n){P()({method:"get",url:"".concat(e.base_url,"admin/get-all-feedBacks")}).then((function(e){t(e.data)})).catch((function(e){n(e)}))}))}},{key:"getAllCenters",value:function(e){var t=this;return new Promise((function(n,i){P()({method:"get",url:"".concat(t.base_url,"admin/get-all-centers"),params:e}).then((function(e){n(e.data)})).catch((function(e){i(e)}))}))}},{key:"login",value:function(e){var t=this;return new Promise((function(n,i){P()({method:"post",url:"".concat(t.base_url,"admin/login"),data:e}).then((function(e){n(e.data)})).catch((function(e){i(e)}))}))}},{key:"getAllTickets",value:function(e){var t=this;return new Promise((function(n,i){P()({method:"get",url:"".concat(t.base_url,"admin/get-all-ticket"),params:e}).then((function(e){n(e.data)})).catch((function(e){i(e)}))}))}},{key:"getSingleTicket",value:function(e){var t=this;return new Promise((function(n,i){P()({method:"get",url:"".concat(t.base_url,"admin/get-single-ticket"),params:e}).then((function(e){n(e.data)})).catch((function(e){i(e)}))}))}},{key:"adminBroadCast",value:function(e){var t=this;return new Promise((function(n,i){P()({method:"post",url:"".concat(t.base_url,"admin/admin-broadcast"),data:e}).then((function(e){n(e.data)})).catch((function(e){i(e)}))}))}},{key:"updatePincode",value:function(e){var t=this;return new Promise((function(n,i){P()({method:"post",url:"".concat(t.base_url,"admin/update-ticket"),data:e}).then((function(e){n(e.data)})).catch((function(e){i(e)}))}))}},{key:"getAllTechnician",value:function(e){var t=this;return new Promise((function(n,i){P()({method:"get",url:"".concat(t.base_url,"admin/get-all-technician"),params:e}).then((function(e){n(e.data)})).catch((function(e){i(e)}))}))}},{key:"addService",value:function(e){var t=this;return new Promise((function(n,i){P()({method:"post",url:"".concat(t.base_url,"admin/create-services"),data:e}).then((function(e){n(e.data)})).catch((function(e){i(e)}))}))}},{key:"deleteService",value:function(e){var t=this;return new Promise((function(n,i){P()({method:"post",url:"".concat(t.base_url,"admin/delete-service"),data:e}).then((function(e){n(e.data)})).catch((function(e){i(e)}))}))}},{key:"updateService",value:function(e){var t=this;return new Promise((function(n,i){P()({method:"post",url:"".concat(t.base_url,"admin/update-service"),data:e}).then((function(e){n(e.data)})).catch((function(e){i(e)}))}))}},{key:"updateServiceStatus",value:function(e){var t=this;return new Promise((function(n,i){P()({method:"post",url:"".concat(t.base_url,"admin/update-service-status"),data:e}).then((function(e){n(e.data)})).catch((function(e){i(e)}))}))}},{key:"addClient",value:function(e){var t=this;return new Promise((function(n,i){P()({method:"post",url:"".concat(t.base_url,"admin/add-client"),data:e}).then((function(e){n(e.data)})).catch((function(e){i(e)}))}))}},{key:"getAllClients",value:function(){var e=this;return new Promise((function(t,n){P()({method:"get",url:"".concat(e.base_url,"admin/get-all-clients")}).then((function(e){t(e.data)})).catch((function(e){n(e)}))}))}},{key:"deleteClient",value:function(e){var t=this;return new Promise((function(n,i){P()({method:"post",url:"".concat(t.base_url,"admin/delete-client"),data:e}).then((function(e){n(e.data)})).catch((function(e){i(e)}))}))}},{key:"adminUpdateCenter",value:function(e){var t=this;return new Promise((function(n,i){P()({method:"post",url:"".concat(t.base_url,"admin/update-center"),data:e}).then((function(e){n(e.data)})).catch((function(e){i(e)}))}))}},{key:"adminUpdateTechnician",value:function(e){var t=this;return new Promise((function(n,i){P()({method:"post",url:"".concat(t.base_url,"admin/update-technician"),data:e}).then((function(e){n(e.data)})).catch((function(e){i(e)}))}))}},{key:"getAllAvailableRoles",value:function(e){var t=this;return new Promise((function(n,i){P()({method:"get",url:"".concat(t.base_url,"admin/get-all-available-roles"),params:e}).then((function(e){n(e.data)})).catch((function(e){i(e)}))}))}},{key:"adminAddRole",value:function(e){var t=this;return new Promise((function(n,i){P()({method:"post",url:"".concat(t.base_url,"admin/add-role"),data:e}).then((function(e){n(e.data)})).catch((function(e){i(e)}))}))}},{key:"adminUpdateRole",value:function(e){var t=this;return new Promise((function(n,i){P()({method:"post",url:"".concat(t.base_url,"admin/update-role"),data:e}).then((function(e){n(e.data)})).catch((function(e){i(e)}))}))}},{key:"getAllUsers",value:function(e){var t=this;return new Promise((function(n,i){P()({method:"get",url:"".concat(t.base_url,"admin/get-all-users"),params:e}).then((function(e){n(e.data)})).catch((function(e){i(e)}))}))}},{key:"adminCreateUser",value:function(e){var t=this;return new Promise((function(n,i){P()({method:"post",url:"".concat(t.base_url,"admin/create-user"),data:e}).then((function(e){n(e.data)})).catch((function(e){i(e)}))}))}},{key:"adminRemoveUser",value:function(e){var t=this;return new Promise((function(n,i){P()({method:"post",url:"".concat(t.base_url,"admin/remove-user"),data:e}).then((function(e){n(e.data)})).catch((function(e){i(e)}))}))}},{key:"getAllCenterOnBoarder",value:function(e){var t=this;return new Promise((function(n,i){P()({method:"get",url:"".concat(t.base_url,"admin//get-all-onboarder"),params:e}).then((function(e){n(e.data)})).catch((function(e){i(e)}))}))}},{key:"adminCreateCenterOnBoarder",value:function(e){var t=this;return new Promise((function(n,i){P()({method:"post",url:"".concat(t.base_url,"admin/create-centerOnBoarder"),data:e}).then((function(e){n(e.data)})).catch((function(e){i(e)}))}))}},{key:"adminUpdateCenterOnBoarder",value:function(e){var t=this;return new Promise((function(n,i){P()({method:"post",url:"".concat(t.base_url,"admin/update-centerOnBoarder"),data:e}).then((function(e){n(e.data)})).catch((function(e){i(e)}))}))}},{key:"uploadTicketsCsv",value:function(e){var t=this;return new Promise((function(n,i){P()({method:"post",url:"".concat(t.base_url,"admin/upload-csv-for-ticket"),data:e}).then((function(e){n(e.data)})).catch((function(e){i(e)}))}))}}]),e}(),ne=n(8),ie=n(914),ae=n(904),se=n(932),le={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},oe={"aria-label":"description"};function re(e){var t,n=e.open,a=e.handleClose,s=e.isPincodeUpdating,o=e.handleUpdatePincode,r=e.isEditOpenTicketDetails,d=Object(i.useState)(null===r||void 0===r||null===(t=r.address_details)||void 0===t?void 0:t.pincode),c=Object(ne.a)(d,2),u=c[0],h=c[1];return Object(l.jsx)(ae.a,{open:n,onClose:a,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(l.jsxs)(ie.a,{sx:le,children:[Object(l.jsx)(k.a,{id:"modal-modal-title",variant:"h6",component:"h2",children:"Edit pincode"}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)(ie.a,{sx:{minWidth:120},children:Object(l.jsx)(se.a,{value:u,type:"number",onChange:function(e){h(e.target.value)},label:"Enter pincode",inputProps:oe})}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)(f.a,{onClick:function(){return o(u)},variant:"contained",disabled:s,children:s?"updating ":"update pincode"})]})})}var de=n(906),ce=n(915),ue=n(892);function he(e){var t=e.onClickFilter,n=(e.refreshData,i.useState([null,null])),a=Object(ne.a)(n,2),s=a[0],o=a[1];return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(A.a,{dateAdapter:S.a,children:Object(l.jsx)(ue.a,{startText:"Start date",endText:"End date",style:{height:"100px"},value:s,onChange:function(e){o(e)},renderInput:function(e,t){return Object(l.jsxs)(i.Fragment,{children:[Object(l.jsx)(b.a,Object(h.a)({},e)),Object(l.jsx)(ie.a,{sx:{mx:2},children:" to "}),Object(l.jsx)(b.a,Object(h.a)({},t))]})}})}),Object(l.jsx)("br",{}),Object(l.jsx)(f.a,{onClick:function(){return t(s)},style:{marginBottom:"30px",marginRight:"20px"},variant:"contained",children:"Filter"}),Object(l.jsx)(f.a,{onClick:function(){o([null,null])},style:{marginBottom:"30px"},variant:"contained",children:"Clear"}),Object(l.jsx)("br",{})]})}var pe=n(260),me=n.n(pe),ve=n(21),be=n(912),je=n(897),ge=n(887),xe=n(888),Oe={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"65%",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4,height:"80%",overflowY:"scroll"},fe={width:"100%",maxWidth:"100%",bgcolor:"background.paper"},_e={textAlignLeft:{textAlign:"left"},textAlignEnd:{textAlign:"end"}},ye=function(e){var t=e.roleObject;return console.log("roleObject is",t),Object(l.jsx)(be.a,{sx:fe,component:"nav","aria-label":"mailbox folders",children:Object.keys(t).map((function(e){var n;return Object(l.jsxs)("div",{children:[Object(l.jsxs)(je.a,{button:!0,children:[Object(l.jsxs)(ge.a,{sx:_e.textAlignLeft,children:["Row ",e]}),Object(l.jsx)(ge.a,{sx:_e.textAlignLeft,children:null===(n=t[e])||void 0===n?void 0:n.map((function(e){return Object(l.jsxs)(l.Fragment,{children:[e," ",Object(l.jsx)("br",{})]})}))})]}),Object(l.jsx)(xe.a,{})]})}))})};function Ce(e){var t=e.doesFileUploadErrorExists,n=e.handleCloseFileUploadErrors,i=e.errorsList;return console.log("errorsList is",i),Object(l.jsx)("div",{children:Object(l.jsx)(ae.a,{open:t,onClose:n,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(l.jsxs)(ie.a,{sx:Oe,children:[Object(l.jsx)("h2",{children:"Errors List"}),Object(l.jsx)(ye,{roleObject:i})]})})})}var ke=Object(m.a)("input")({display:"none"}),we={inputBox:{width:"100%",marginBottom:"10px"},gridStyle:{width:"80%",margin:"auto"},paddingInnerGrids:{paddingRight:"10px",paddingLeft:"10px",paddingTop:"10px"}},Se={filterType:"dropdown"},Ae=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).handleEditTicket=function(e){i.props.history.push("/admin-ticket?edit="+e)},i.handleViewTicket=function(e){i.props.history.push("/view-ticket?ticketId="+e)},i.onClickFilter=function(e){i.startLoading();var t={start_date:e[0],end_date:e[1]};(new te).getAllTickets(t).then((function(e){var t,n=[];null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.length&&(n=i.getParsedData(e.data)),i.setState({ticketsList:n}),i.stopLoading()})).catch((function(e){i.stopLoading(),console.log(e)}))},i.startLoading=function(){i.setState({isLoading:!0})},i.stopLoading=function(){i.setState({isLoading:!1})},i.handleBroadCastTicket=function(e){var t={ticket_obj_id:null===e||void 0===e?void 0:e._id};(new te).adminBroadCast(t).then((function(e){i.getAllTickets()})).catch((function(e){console.log(e)}))},i.handleOpenEditPincodePopup=function(e){i.setState({isEditOpenAddressPincode:!0,isEditOpenTicketDetails:e})},i.handleCloseEditPincodePopup=function(){i.setState({isEditOpenAddressPincode:!1,isEditOpenTicketDetails:{}})},i.componentDidMount=function(){i.getAllTickets()},i.getFormattedAddress=function(e){return(null===e||void 0===e?void 0:e.house_number)+", "+(null===e||void 0===e?void 0:e.locality)+", "+(null===e||void 0===e?void 0:e.city)+", "+(null===e||void 0===e?void 0:e.state)},i.getParsedData=function(e){return null===e||void 0===e?void 0:e.map((function(e){var t,n,a,s,l,o;return{Created_at:me()(null===e||void 0===e?void 0:e.createdAt).format("Do MMM, hh:ss A"),ticket_id:(null===e||void 0===e?void 0:e.ticket_id)||"-",center_id:null===e||void 0===e||null===(t=e.assigned_ids)||void 0===t||null===(n=t.assigned_center_id)||void 0===n?void 0:n.center_name,technician_id:null===e||void 0===e||null===(a=e.assigned_ids)||void 0===a||null===(s=a.assigned_technician_id)||void 0===s||null===(l=s.personal_details)||void 0===l?void 0:l.name,service_required:null===e||void 0===e||null===(o=e.service_provided_for)||void 0===o?void 0:o.service_name,name:e.personal_details.name,phone:e.personal_details.primary_phone.mobile_number,address:i.getFormattedAddress(null===e||void 0===e?void 0:e.address_details),pincode:e.address_details.pincode,createdAt:new Date(null===e||void 0===e?void 0:e.createdAt).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"}),specific_requirements:null!==e&&void 0!==e&&e.specific_requirement?null===e||void 0===e?void 0:e.specific_requirement:"-",bstatus:null===e||void 0===e?void 0:e.broadcast_status,tstatus:null===e||void 0===e?void 0:e.ticket_status,tcreatedby:null===e||void 0===e?void 0:e.ticket_created_by,action:e}}))},i.handleUpdatePincode=function(e){var t;if(e){var n={address_details:{pincode:e},ticket_obj_id:null===(t=i.state.isEditOpenTicketDetails)||void 0===t?void 0:t._id};i.setState({isPincodeUpdating:!0}),(new te).updatePincode(n).then((function(e){i.setState({isPincodeUpdating:!1}),i.getAllTickets(),i.handleCloseEditPincodePopup()})).catch((function(e){i.setState({isPincodeUpdating:!1})}))}},i.onUploadCsvFile=function(e,t){var n,a,s=e.target.files,l=e.target.name,o=null===(n=s[0])||void 0===n||null===(a=n.name)||void 0===a?void 0:a.split(".")[0];console.log("files",s,l,o,typeof o);var r=new FormData;r.append("ticketsCsvFile",s[0],o),(new te).uploadTicketsCsv(r).then((function(e){console.log("res is",e),e&&e.data&&e.data.doesErrorExists?i.setState({doesFileUploadErrorExists:!0,errorsList:e.data.errorRowWise}):i.getAllTickets()})).catch((function(e){console.log(e)}))},i.handleCloseFileUploadErrors=function(){i.setState({doesFileUploadErrorExists:!1,errorsList:{}})},i.state={ticketsList:[],columns:[{name:"Created_at",label:"Created on",options:{filter:!0,sort:!0}},{name:"ticket_id",label:"Ticket Id",options:{filter:!0,sort:!0}},{name:"center_id",label:"Assigned Center",options:{filter:!0,sort:!0}},{name:"technician_id",label:"Assigned technician",options:{filter:!0,sort:!0}},{name:"service_required",label:"Service Required",options:{filter:!0,sort:!1}},{name:"specific_requirements",label:"Specific  Requirements",options:{filter:!0,sort:!1}},{name:"name",label:"Name",options:{filter:!0,sort:!1}},{name:"phone",label:"Phone",options:{filter:!0,sort:!1}},{name:"address",label:"Address",options:{filter:!0,sort:!1}},{name:"pincode",label:"Pincode",options:{filter:!0,sort:!1}},{name:"createdAt",label:"Created At",options:{filter:!0,sort:!1}},{name:"bstatus",label:"Broadcast status",options:{filter:!0,sort:!1}},{name:"tstatus",label:"Ticket status",options:{filter:!0,sort:!1}},{name:"tcreatedby",label:"ticket created by",options:{filter:!0,sort:!1}},{name:"action",label:"Actions",options:{customBodyRender:function(e,t,n){return console.log({value:e,tableMeta:t,updateValue:n}),Object(l.jsxs)(l.Fragment,{children:["no_match_found"==e.broadcast_status?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(f.a,{style:{marginRight:"10px"},onClick:function(){return i.handleOpenEditPincodePopup(e)},variant:"contained",children:"Edit Pincode"}),Object(l.jsx)(f.a,{variant:"contained",onClick:function(){return i.handleBroadCastTicket(e)},children:"BroadCast"})]}):"",Object(l.jsx)(f.a,{variant:"contained",onClick:function(){return i.handleViewTicket(null===e||void 0===e?void 0:e._id)},children:"View Ticket"}),Object(l.jsx)(f.a,{variant:"contained",onClick:function(){return i.handleEditTicket(null===e||void 0===e?void 0:e._id)},children:"Edit Ticket"})]})}}}],isEditOpenAddressPincode:!1,isEditOpenTicketDetails:{},isPincodeUpdating:!1,isLoading:!1,doesFileUploadErrorExists:!1,errorsList:{}},i}return Object(d.a)(n,[{key:"getAllTickets",value:function(){var e=this;this.startLoading(),(new te).getAllTickets().then((function(t){var n,i=[];null!==t&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.length&&(i=e.getParsedData(t.data)),e.setState({ticketsList:i}),e.stopLoading()})).catch((function(t){e.stopLoading(),console.log(t)}))}},{key:"render",value:function(){var e,t,n,i,a,s=this;return Object(l.jsxs)("div",{children:[this.state.isEditOpenAddressPincode&&Object(l.jsx)(re,{open:this.state.isEditOpenAddressPincode,isPincodeUpdating:this.state.isPincodeUpdating,handleUpdatePincode:this.handleUpdatePincode,handleClose:this.handleCloseEditPincodePopup,isEditOpenTicketDetails:this.state.isEditOpenTicketDetails}),Object(l.jsx)(de.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:this.state.isLoading,onClick:this.stopLoading,children:Object(l.jsx)(ce.a,{color:"inherit"})}),null!==(e=this.props.reduxState)&&void 0!==e&&null!==(t=e.adminDetails)&&void 0!==t&&null!==(n=t.role_id)&&void 0!==n&&null!==(i=n.permissions)&&void 0!==i&&null!==(a=i.view_ticket)&&void 0!==a&&a.full_access?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)(p.a,{container:!0,children:[Object(l.jsx)(p.a,{item:!0,style:we.paddingInnerGrids,md:6,children:Object(l.jsx)(he,{onClickFilter:this.onClickFilter,refreshData:this.getAllTickets})}),Object(l.jsx)(p.a,{style:we.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)("div",{className:"aadhar-upload-button",children:Object(l.jsxs)("div",{children:[Object(l.jsxs)("label",{htmlFor:"contained-button-file",children:[Object(l.jsx)(ke,{name:"ticketsCsvFile",accept:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",id:"contained-button-file",type:"file",onChange:function(e){return s.onUploadCsvFile(e)}}),Object(l.jsx)(f.a,{variant:"contained",component:"span",children:"Upload Tickets File"})]}),Object(l.jsx)("div",{children:Object(l.jsx)("div",{children:"Upload csv file for tickets"})})]})})})]}),Object(l.jsx)(Q.a,{title:"Tickets",data:this.state.ticketsList,columns:this.state.columns,options:Se}),this.state.doesFileUploadErrorExists&&Object(l.jsx)(Ce,{doesFileUploadErrorExists:this.state.doesFileUploadErrorExists,errorsList:this.state.errorsList,handleCloseFileUploadErrors:this.handleCloseFileUploadErrors})]}):"No permission , contact admin"]})}}]),n}(i.Component),De=Object(ve.b)((function(e){return{reduxState:e.userReducer}}),null)(Object(s.i)(Ae)),Pe=n(918),Te=n(920),Ie=n(919),Fe="Please enter mobile number",Re="Mobile number should be exact 10 numbers",Ee="Otp is sent successfully",Be="Otp is not entered",Ne="Logged in successfully",Le=n(917),Ge=n(890),Ve=n(907),qe=n(274),Ue=n(127),Me=n.n(Ue),ze=n(889),We=n(175),He=n.n(We),Ye=n(176),Ke=n.n(Ye),Je=n(916),Qe=n(152),Ze=240,$e=[{name:"Dashboard",path:"/center-dashboard"},{name:"Technicians",path:"/Technicians"},{name:"Tickets",path:"/tickets-center"},{name:"AddTechnician",path:"/AddTechnician"},{name:"Ticket created by you and broadcasted",path:"/ticket-created-by-you"},{name:"AddTicket",path:"/AddTicket"},{name:"New Tickets",path:"/brodcast-requests"},{name:"Payments",path:"/payments"}];var Xe=function(e){var t=e.window,n=i.useState(!1),a=Object(ne.a)(n,2),o=a[0],r=a[1],d=function(){r(!o)},c=Object(ve.d)((function(e){return e.userReducer})),u=Object(s.g)(),h=Object(ve.c)(),p=Object(l.jsxs)("div",{children:[Object(l.jsx)(Je.a,{}),Object(l.jsx)(xe.a,{}),Object(l.jsxs)(be.a,{children:[$e.map((function(e,t){return Object(l.jsxs)(je.a,{onClick:function(){u.push(e.path)},button:!0,children:[Object(l.jsx)(ze.a,{children:t%2===0?Object(l.jsx)(Me.a,{}):Object(l.jsx)(He.a,{})}),Object(l.jsx)(ge.a,{primary:e.name})]},e.name)})),Object(l.jsxs)(je.a,{onClick:function(){m()},button:!0,children:[Object(l.jsx)(ze.a,{children:Object(l.jsx)(Me.a,{})}),Object(l.jsx)(ge.a,{primary:"Logout"})]})]})]}),m=function(){h(Object(Qe.a)({userDetails:{},isUserLoggedIn:!1,userTokens:{accessToken:""}})),u.push("/login")},v=void 0!==t?function(){return t().document.body}:void 0;return Object(l.jsxs)(ie.a,{sx:{display:"flex"},children:[Object(l.jsx)(Ge.a,{}),Object(l.jsx)(Le.a,{position:"fixed",sx:{width:{sm:"calc(100% - ".concat(Ze,"px)")},ml:{sm:"".concat(Ze,"px")}},children:Object(l.jsxs)(Je.a,{children:[Object(l.jsx)(qe.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:d,sx:{mr:2,display:{sm:"none"}},children:Object(l.jsx)(Ke.a,{})}),Object(l.jsxs)(k.a,{variant:"h6",noWrap:!0,component:"div",children:["Welcome ",c.userDetails.center_name]})]})}),Object(l.jsxs)(ie.a,{component:"nav",sx:{width:{sm:Ze},flexShrink:{sm:0}},"aria-label":"mailbox folders",children:[Object(l.jsx)(Ve.a,{container:v,variant:"temporary",open:o,onClose:d,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:Ze}},children:p}),Object(l.jsx)(Ve.a,{variant:"permanent",sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:Ze}},open:!0,children:p})]})]})},et=n(153),tt={layout:{width:400,textAlign:"center",position:"absolute",top:"50%",left:"50%",margin:"auto",transform:"translate(-50%, -50%)"},inputBox:{width:350,textAlign:"center",marginTop:10},btnLayout:{width:350,textAlign:"center",margin:"auto",height:50,marginBottom:20},btnHorLayout:{width:350,textAlign:"center",marginLeft:20,marginRight:20,height:40,marginBottom:20}};function nt(){var e=Object(i.useState)(""),t=Object(ne.a)(e,2),n=t[0],a=t[1],o=Object(i.useState)({open:!1,msg:"",duration:5e3,type:""}),r=Object(ne.a)(o,2),d=r[0],c=r[1],u=(Object(ve.d)((function(e){return e.userReducer})),Object(ve.c)()),h=Object(s.g)(),p=function(e,t,n){c({open:e,msg:n,duration:5e3,type:t})},m=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];c({open:e,msg:"",duration:5e3,type:""})},v=Object(i.useState)(!1),j=Object(ne.a)(v,2),g=j[0],x=j[1],O=Object(i.useState)(""),w=Object(ne.a)(O,2),S=w[0],A=w[1],D=Object(i.useState)(!1),P=Object(ne.a)(D,2),T=P[0],F=P[1],R=Object(i.useState)(!1),E=Object(ne.a)(R,2),B=E[0],N=E[1],L=function(){if(n)if(10==n.toString().length){var e={country_code:"+91",mobile_number:n};F(!0),(new I).sendOtp(e,{action:"login"}).then((function(e){p(!0,"success",Ee),x(!0),F(!1)})).catch((function(e){var t,n;console.log(e),p(!0,"error",null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message),F(!1)}))}else p(!0,"error",Re);else p(!0,"error",Fe)};return Object(l.jsxs)(Pe.a,{style:tt.layout,sx:{minWidth:200},children:[d.open&&Object(l.jsx)(_.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:d.open,autoHideDuration:d.duration,onClose:m,children:Object(l.jsx)(y.a,{onClose:m,severity:d.type,sx:{width:"100%"},children:d.msg})}),Object(l.jsxs)(Ie.a,{children:[Object(l.jsx)(k.a,{sx:{fontSize:25},color:"text.secondary",align:"center",gutterBottom:!0,children:"Login"}),Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Enter registered Phone Number *",style:tt.inputBox,type:"number",disabled:g,onChange:function(e){var t=e.target.value;console.log(t.length," value "),t.length>10||a(e.target.value)},value:n,InputProps:{startAdornment:Object(l.jsx)(C.a,{position:"start",children:Object(l.jsx)(k.a,{children:"+91"})})}}),g&&Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Enter Otp",style:tt.inputBox,type:"number",onChange:function(e){A(e.target.value)}})})]}),Object(l.jsxs)(Te.a,{children:[!g&&Object(l.jsx)(f.a,{style:tt.btnLayout,onClick:function(){return L()},disabled:T,variant:"contained",children:T?"Sending otp":"Send otp"}),g&&Object(l.jsx)(f.a,{style:tt.btnHorLayout,onClick:function(){return L()},disabled:T,variant:"contained",children:T?"Resending":"Resend otp"}),g&&Object(l.jsx)(f.a,{style:tt.btnHorLayout,onClick:function(){return function(){if(S){var e={country_code:"+91",mobile_number:n,otp:S};N(!0),(new I).loginCenter(e).then((function(e){var t;p(!0,"success",Ne),u(Object(Qe.a)({userDetails:e.data.centerDetails,isUserLoggedIn:!0,userTokens:{accessToken:e.data.token},centerDetailsPopulated:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.populatedCenterDetails})),h.push("/brodcast-requests"),x(!0),N(!1)})).catch((function(e){var t,n;console.log(e),p(!0,"error",null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message),N(!1)}))}else p(!0,"error",Be)}()},disabled:B,variant:"contained",children:B?"Logging In , please wait":"Login"})]})]})}var it=n(26),at=n(106),st={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},lt={inputBox:{width:"100%",marginBottom:"10px"},gridStyle:{width:"80%",margin:"auto"},paddingInnerGrids:{paddingRight:"10px",paddingLeft:"10px",paddingTop:"10px"}};function ot(e){var t=e.isAuthorizedForPopupOpen,n=e.clientsList,a=e.toggleAuthorizedForPopup,s=e.saveAuthorizedCenters,o=i.useState([]),r=Object(ne.a)(o,2),d=r[0],c=r[1];return Object(l.jsx)("div",{children:Object(l.jsx)(ae.a,{open:t,onClose:a,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(l.jsxs)(ie.a,{sx:st,children:[Object(l.jsx)(k.a,{id:"modal-modal-title",variant:"h6",component:"h2",children:"Authorized Center For Clients"}),Object(l.jsx)(p.a,{style:lt.paddingInnerGrids,item:!0,md:6,children:Object(l.jsxs)(x.a,{md:6,style:lt.inputBox,sx:{minWidth:120},children:[Object(l.jsx)(j.a,{id:"demo-simple-select-helper-label",children:"Authorized For"}),Object(l.jsx)(O.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",label:"Authorized For",name:"centersSelected",onChange:function(e){var t=e.target.value;c(t)},value:d,multiple:!0,children:null===n||void 0===n?void 0:n.map((function(e){return Object(l.jsx)(g.a,{value:e._id,children:e.client_name},e._id)}))})]})}),Object(l.jsx)(p.a,{style:lt.paddingInnerGrids,item:!0,children:Object(l.jsx)(f.a,{variant:"contained",onClick:function(){return s(d)},disabled:!d,children:"Save"})})]})})})}var rt={filterType:"dropdown"},dt={2:"DRAFTED","-1":"IN_ACTIVE",1:"ACTIVE",0:"DELETED"},ct=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).componentDidMount=function(){console.log(i.props," set props "),i.getAllCenters(),i.getAllClients()},i.onClickFilter=function(e){var t={start_date:e[0],end_date:e[1]};(new te).getAllCenters(t).then((function(e){var t=[];e&&e.data&&e.data.length>0&&(t=i.getParsedData(e.data)),i.setState({centersList:t})})).catch((function(e){console.log(e)}))},i.showDialog=function(e,t,n){i.setState({toast:{open:e,msg:n,duration:5e3,type:t}})},i.closeDialog=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];i.setState({toast:{open:e,msg:"",duration:5e3,type:""}})},i.startLoading=function(){i.setState({isLoading:!0})},i.stopLoading=function(){i.setState({isLoading:!1})},i.getFormattedServices=function(e){var t=[];return e&&e.length>0&&e.map((function(e){var n;t.push(null===e||void 0===e||null===(n=e.secondary_services_id)||void 0===n?void 0:n.service_name)})),t.length>0?t.join(", "):""},i.getFormattedClients=function(e){var t=[];return e&&e.length>0&&e.map((function(e){t.push(e.client_name)})),t.length>0?t.join(", "):""},i.getParsedData=function(e){var t={year:"numeric",month:"short",day:"numeric"};return e&&e.length>0&&e.map((function(e){var n,a,s,l,o,r,d,c,u,h,p,m;return{center_name:null===e||void 0===e?void 0:e.center_name,phone:null===e||void 0===e||null===(n=e.personal_details)||void 0===n||null===(a=n.phone)||void 0===a?void 0:a.mobile_number,qrCode:null===e||void 0===e||null===(s=e.qr_details)||void 0===s?void 0:s.qr_id,pincode:null===e||void 0===e||null===(l=e.address_details)||void 0===l?void 0:l.pincode,additional_pincode:null===e||void 0===e||null===(o=e.address_details)||void 0===o?void 0:o.additional_pincode,primary_services:null===e||void 0===e||null===(r=e.services)||void 0===r||null===(d=r.primary_services)||void 0===d?void 0:d.service_name,secondary_services:null===(c=Object(at.a)(i))||void 0===c?void 0:c.getFormattedServices(null===e||void 0===e||null===(u=e.services)||void 0===u?void 0:u.secondary_services),status:dt[e.is_active],createdAt:null===(h=new Date(null===e||void 0===e?void 0:e.createdAt))||void 0===h?void 0:h.toLocaleDateString("en-US",t),onboarded_by:null===e||void 0===e||null===(p=e.onboarded_by)||void 0===p?void 0:p.name,authorizedFor:i.getFormattedClients(null===e||void 0===e?void 0:e.clients_ids_list),action:e,closedTickets:null===e||void 0===e||null===(m=e.count_details)||void 0===m?void 0:m.closed_ticket_count}}))},i.toggleAuthorizedForPopup=function(e){e&&i.setState({selectedCenterId:e}),i.setState((function(e){return{isAuthorizedForPopupOpen:!e.isAuthorizedForPopupOpen}}))},i.saveAuthorizedCenters=function(e){var t={center_obj_id:i.state.selectedCenterId,clients_ids_list:Object(it.a)(e)};(new te).adminUpdateCenter(t).then((function(e){i.showDialog(!0,"success","Center updated successfully"),setTimeout((function(){i.toggleAuthorizedForPopup(),i.getAllCenters()}),1e3)})).catch((function(e){var t,n;console.log(e),i.showDialog(!0,"error",null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)}))},i.state={columns:[{name:"center_name",label:"Name",options:{filter:!0,sort:!1}},{name:"phone",label:"Phone",options:{filter:!0,sort:!1}},{name:"qrCode",label:"QR Code",options:{filter:!0,sort:!1}},{name:"pincode",label:"Primary Pincode",options:{filter:!0,sort:!1}},{name:"additional_pincode",label:"Secondary Pincode",options:{filter:!0,sort:!1}},{name:"primary_services",label:"Primary Skill",options:{filter:!0,sort:!1}},{name:"secondary_services",label:"Secondary Skill",options:{filter:!0,sort:!1}},{name:"status",label:"Status",options:{filter:!0,sort:!1}},{name:"createdAt",label:"Created At",options:{filter:!0,sort:!1}},{name:"onboarded_by",label:"Onboarded By",options:{filter:!0,sort:!1}},{name:"authorizedFor",label:"Authorized For Clients",options:{filter:!0,sort:!1}},{name:"closedTickets",label:"Total ticket closed",options:{filter:!0,sort:!1}},{name:"action",label:"Action",options:{customBodyRender:function(e,t,n){return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(f.a,{className:"text-transform-none",variant:"contained",onClick:function(){return i.toggleAuthorizedForPopup(e._id)},children:"Authorized For"}),Object(l.jsx)(f.a,{className:"text-transform-none",variant:"contained",onClick:function(){return i.redirectToEditCenter(e._id)},children:"Edit"})]})})}}}],centersList:[],isAuthorizedForPopupOpen:!1,clientsList:[],selectedCenterId:"",isLoading:!1,toast:{open:!1,msg:"",duration:5e3,type:""}},i}return Object(d.a)(n,[{key:"redirectToEditCenter",value:function(e){this.props.history.push("/add-center?edit="+e)}},{key:"getAllClients",value:function(){var e=this;(new te).getAllClients().then((function(t){var n=[];t&&t.data&&t.data.length>0&&(n=t.data),e.setState({clientsList:n})})).catch((function(e){console.log(e)}))}},{key:"getAllCenters",value:function(){var e=this;this.startLoading(),(new te).getAllCenters().then((function(t){var n=[];t&&t.data&&t.data.length>0&&(n=e.getParsedData(t.data)),e.setState({centersList:n}),e.stopLoading()})).catch((function(t){console.log(t),e.stopLoading()}))}},{key:"render",value:function(){var e,t,n,i,a,s=this.state.toast;return Object(l.jsxs)("div",{children:[s.open&&Object(l.jsx)(_.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:s.open,autoHideDuration:s.duration,onClose:this.closeDialog,children:Object(l.jsx)(y.a,{onClose:this.closeDialog,severity:s.type,sx:{width:"100%"},children:s.msg})}),Object(l.jsx)(de.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:this.state.isLoading,onClick:this.stopLoading,children:Object(l.jsx)(ce.a,{color:"inherit"})}),null!==(e=this.props.reduxState)&&void 0!==e&&null!==(t=e.adminDetails)&&void 0!==t&&null!==(n=t.role_id)&&void 0!==n&&null!==(i=n.permissions)&&void 0!==i&&null!==(a=i.view_center_details)&&void 0!==a&&a.full_access?Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(he,{onClickFilter:this.onClickFilter}),Object(l.jsx)(Q.a,{title:"Centers",data:this.state.centersList,columns:this.state.columns,options:rt})]})}):"No access , contact admin",Object(l.jsx)(ot,{isAuthorizedForPopupOpen:this.state.isAuthorizedForPopupOpen,clientsList:this.state.clientsList,toggleAuthorizedForPopup:this.toggleAuthorizedForPopup,saveAuthorizedCenters:this.saveAuthorizedCenters})]})}}]),n}(i.Component),ut=Object(ve.b)((function(e){return{reduxState:e.userReducer}}),null)(Object(s.i)(ct)),ht=Object(m.a)(v.a)((function(e){var t=e.theme;return Object(h.a)(Object(h.a)({backgroundColor:"dark"===t.palette.mode?"#1A2027":"#fff"},t.typography.body2),{},{padding:t.spacing(1),textAlign:"center",color:t.palette.text.secondary})})),pt=Object(m.a)("input")({display:"none"}),mt={inputBox:{width:"100%",marginBottom:"10px"},gridStyle:{width:"80%",margin:"auto"},paddingInnerGrids:{paddingRight:"10px",paddingLeft:"10px",paddingTop:"10px"}},vt=["SALARIED","PART_TIME","FREELANCER","SELF_EMPLOYED"],bt=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).showDialog=function(e,t,n){i.setState({toast:{open:e,msg:n,duration:5e3,type:t}})},i.closeDialog=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];i.setState({toast:{open:e,msg:"",duration:5e3,type:""}})},i.handleChange=function(e){var t=e.target,n=t.name,a=t.value;"pincode"!==n?"additionalPinCode"!==n?("primaryService"===n&&i.setState({secondaryServices:Object(h.a)(Object(h.a)({},i.state.secondaryServices),{},{secondary_services_id:a})}),i.setState(Object(o.a)({},n,a),(function(){console.log(i.state)}))):a.length<=6&&i.setState({additionalPinCode:a}):a.length<=6&&i.setState({pincode:a})},i.handleChangeSecondaryServiceDetails=function(e){var t=e.target,n=t.name,a=t.value;i.setState({secondaryServices:Object(h.a)(Object(h.a)({},i.state.secondaryServices),{},Object(o.a)({},n,a))})},i.handleRegister=function(){var e=i.state,t=e.name,n=e.whatsAppNumber,a=e.email,s=e.primaryService,l=e.secondaryServices,o=e.pincode,r=e.additionalPinCode,d=e.engagementType,c=e.aadharCardNumber,u=e.permanentAddress,p=e.permanentCity,m=e.permanentState,v=e.permanentCountry,b=e.currentAddress,j=e.currentCity,g=e.currentState,x=e.currentCountry,O=e.referenceFirstPerson,f=e.referenceSecondPerson,_=e.firstPersonPhoneNumber,y=e.secondPersonPhoneNumber,C=e.pan_card_document,k=e.pan_number,w=e.aadharBackImage;if(O.length>0&&f.length>0&&O===f)i.showDialog(!0,"error","Emergency contact and reference person name can not be same");else if(_.length>0&&y.length>0&&_===y)i.showDialog(!0,"error","Emergency contact and reference person phone number can not be same");else{if(t&&n&&s&&l.secondary_services_id&&o&&r&&d&&i.state.pan_number,!y)return i.setState({isFormValid:!0}),void i.showDialog(!0,"error","Please fill in all required details");if(i.state.pan_card_document){if(i.state.pan_number){if(!/^([a-zA-Z]){5}([0-9]){4}([a-zA-Z]){1}?$/.test(i.state.pan_number))return void i.showDialog(!0,"error","Please enter your valid pan number")}i.setState({isRegistering:!0});var S={personal_details:{phone:{country_code:"+91",mobile_number:n},email:a,name:t},primary_services:s,secondary_services:[{secondary_services_id:l.secondary_services_id,priority:1}],service_area_main_pincode:o,service_area_secondary_pincode:[r],address_details_permanent:{address_line:u,city:p,state:m,country:v},address_details_temporary:{address_line:b,city:j,state:g,country:x},engagement_type:d,document_details:{aadhar_card_document:{front_side:"",back_side:w},pan_card_document:C,aadhar_number:c,pan_number:k},referenceDetails:{reference_person_name:O,reference_person_mobile:_},emergency_details:{emergency_person_name:f,emergency_person_phone:y}};if(i.state.isEditDetailsExists){S.technician_obj_id=i.getTechnicianObjIdForEdit(),S.service_area_secondary_pincode=r;var A=Object(h.a)({},S);(new F).centerUpdateTechnician(A).then((function(e){i.showDialog(!0,"success","Technician updated successfully"),i.setState({isRegistering:!1}),i.props.history.push("/Technicians")})).catch((function(e){var t,n;console.log(e),i.showDialog(!0,"error",null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message),i.setState({isRegistering:!1})}))}else console.log("payload is",S),(new F).createTechnician(S).then((function(e){i.showDialog(!0,"success","Technician created successfully  "),i.setState({isRegistering:!1,name:"",whatsAppNumber:"",email:"",primaryService:"",secondaryServices:{secondary_services_id:"",priority:""},pincode:"",additionalPinCode:"",engagementType:"",aadharCardNumber:"",pan_card_document:"",aadharBackImage:"",permanentAddress:"",permanentCity:"",permanentState:"",permanentCountry:"INDIA",currentAddress:"",currentCity:"",currentState:"",currentCountry:"INDIA",referenceFirstPerson:"",referenceSecondPerson:"",firstPersonPhoneNumber:"",secondPersonPhoneNumber:"",pan_number:"",isFormValid:!1})})).catch((function(e){var t,n;console.log(e),i.setState({isRegistering:!1}),i.showDialog(!0,"error",null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)}))}else i.showDialog(!0,"error","Please upload your pan image")}},i.onUploadImage=function(e,t){var n,a,s=e.target.files,l=e.target.name,r=null===(n=s[0])||void 0===n||null===(a=n.name)||void 0===a?void 0:a.split(".")[0];console.log("files",s,l,r,typeof r);var d=new FormData;d.append("aadhar",s[0],r),(new I).uploadImage(d,"TECHNICIAN_PAN_CARD").then((function(e){var n;i.setState(Object(o.a)({},t,null===(n=e.data)||void 0===n?void 0:n.fileSavedUrl),(function(){console.log(i.state,"sssssss",t)}))})).catch((function(e){console.log(e)}))},i.state={name:"",whatsAppNumber:"",email:"",primaryService:"",secondaryServices:{secondary_services_id:"",priority:""},pincode:"",additionalPinCode:"",engagementType:"",aadharCardNumber:"",pan_card_document:"",aadharBackImage:"",permanentAddress:"",permanentCity:"",permanentState:"",permanentCountry:"INDIA",currentAddress:"",currentCity:"",currentState:"",currentCountry:"INDIA",referenceFirstPerson:"",referenceSecondPerson:"",firstPersonPhoneNumber:"",secondPersonPhoneNumber:"",pan_number:"",toast:{open:!1,msg:"",duration:5e3,type:""},isFormValid:!1,servicesList:[],isRegistering:!1,isEditDetailsExists:!1,doesTechnicianExists:!1},i}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e,t,n,i;console.log(this.props.reduxState.centerDetailsPopulated);var a=[null===(e=this.props.reduxState.centerDetailsPopulated)||void 0===e||null===(t=e.services)||void 0===t?void 0:t.primary_services],s=null===(n=this.props.reduxState.centerDetailsPopulated)||void 0===n||null===(i=n.services)||void 0===i?void 0:i.secondary_services;s.length>0&&a.push(s[0].secondary_services_id);var l,o=[],r=[],d=a.length;for(l=0;l<d;l++)o[a[l]._id]||(o[a[l]._id]=!0,r.push(a[l]));console.log({listOfServices:a,output:r}),this.setState({servicesList:r}),console.log("htese ",this.props);var c=new URLSearchParams(this.props.location.search).get("edit");console.log(c,"edit technician id"),null!=c&&this.getTechnicianDetails(c)}},{key:"getAllServicesExists",value:function(){var e=this;(new I).getAllActiveServices().then((function(t){e.setState({servicesList:t.data})})).catch((function(e){console.log(e)}))}},{key:"getTechnicianObjIdForEdit",value:function(){return new URLSearchParams(this.props.location.search).get("edit")}},{key:"getTechnicianDetails",value:function(e){var t=this,n={technician_obj_id:e};this.setState({isEditDetailsExists:!0}),(new F).getAllTechnician(n).then((function(e){var n,i;null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.length&&(t.setState({doesTechnicianExists:!0}),t.updateTechnicianDetails(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i[0]))})).catch((function(e){console.log(e)}))}},{key:"getSecondaryServicesFormatted",value:function(e){var t,n,i={};e&&e.length>0&&(i.secondary_services_id=null===(t=e[0])||void 0===t||null===(n=t.secondary_services_id)||void 0===n?void 0:n._id);return i}},{key:"updateTechnicianDetails",value:function(e){var t,n,i,a,s,l,o,r,d,c,u,h,p,m,v,b,j,g,x,O,f,_,y,C,k;console.log("technicianDetails are",null===e||void 0===e||null===(t=e.services)||void 0===t||null===(n=t.primary_services)||void 0===n?void 0:n._id,this.getSecondaryServicesFormatted(null===e||void 0===e||null===(i=e.services)||void 0===i?void 0:i.secondary_services)),this.setState({name:null===e||void 0===e||null===(a=e.personal_details)||void 0===a?void 0:a.name,whatsAppNumber:null===e||void 0===e||null===(s=e.personal_details)||void 0===s||null===(l=s.phone)||void 0===l?void 0:l.mobile_number,email:null===e||void 0===e||null===(o=e.personal_details)||void 0===o?void 0:o.email,primaryService:null===e||void 0===e||null===(r=e.services)||void 0===r||null===(d=r.primary_services)||void 0===d?void 0:d._id,secondaryServices:this.getSecondaryServicesFormatted(null===e||void 0===e||null===(c=e.services)||void 0===c?void 0:c.secondary_services),pincode:null===e||void 0===e?void 0:e.service_area_main_pincode,additionalPinCode:null===e||void 0===e?void 0:e.service_area_secondary_pincode,engagementType:null===e||void 0===e?void 0:e.engagement_type,pan_number:null===e||void 0===e||null===(u=e.document_details)||void 0===u?void 0:u.pan_number,pan_card_document:null===e||void 0===e||null===(h=e.document_details)||void 0===h?void 0:h.pan_card_document,aadharCardNumber:null===e||void 0===e||null===(p=e.document_details)||void 0===p?void 0:p.aadhar_number,permanentAddress:null===e||void 0===e||null===(m=e.address_details_permanent)||void 0===m?void 0:m.address_line,permanentCity:null===e||void 0===e||null===(v=e.address_details_permanent)||void 0===v?void 0:v.city,permanentState:null===e||void 0===e||null===(b=e.address_details_permanent)||void 0===b?void 0:b.state,permanentCountry:null===e||void 0===e||null===(j=e.address_details_permanent)||void 0===j?void 0:j.country,currentAddress:null===e||void 0===e||null===(g=e.address_details_temporary)||void 0===g?void 0:g.address_line,currentCity:null===e||void 0===e||null===(x=e.address_details_temporary)||void 0===x?void 0:x.city,currentState:null===e||void 0===e||null===(O=e.address_details_temporary)||void 0===O?void 0:O.state,currentCountry:null===e||void 0===e||null===(f=e.address_details_temporary)||void 0===f?void 0:f.country,referenceFirstPerson:null===e||void 0===e||null===(_=e.referenceDetails)||void 0===_?void 0:_.reference_person_name,referenceSecondPerson:null===e||void 0===e||null===(y=e.referenceDetails)||void 0===y?void 0:y.reference_person_mobile,firstPersonPhoneNumber:null===e||void 0===e||null===(C=e.emergency_details)||void 0===C?void 0:C.emergency_person_name,secondPersonPhoneNumber:null===e||void 0===e||null===(k=e.emergency_details)||void 0===k?void 0:k.emergency_person_phone})}},{key:"render",value:function(){var e,t,n=this,i=this.state,a=i.toast,s=i.isFormValid,o=i.name,r=i.whatsAppNumber,d=i.email,c=i.primaryService,u=i.secondaryServices,h=i.pincode,m=i.additionalPinCode,v=i.engagementType,w=i.aadharCardNumber,S=i.permanentAddress,A=i.permanentCity,D=i.permanentState,P=i.permanentCountry,T=i.currentAddress,I=i.currentCity,F=i.currentState,E=i.currentCountry,B=i.referenceFirstPerson,N=i.referenceSecondPerson,L=i.firstPersonPhoneNumber,G=i.secondPersonPhoneNumber;return Object(l.jsxs)("div",{children:[a.open&&Object(l.jsx)(_.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:a.open,autoHideDuration:a.duration,onClose:this.closeDialog,children:Object(l.jsx)(y.a,{onClose:this.closeDialog,severity:a.type,sx:{width:"100%"},children:a.msg})}),Object(l.jsx)("h2",{className:"text-align-center",children:this.state.isEditDetailsExists?"Update Technician":"Add Technician"}),Object(l.jsx)(ht,{children:Object(l.jsxs)(p.a,{container:!0,children:[Object(l.jsx)(p.a,{item:!0,style:mt.paddingInnerGrids,md:12,children:Object(l.jsx)(b.a,{helperText:"Please provide technician's name",id:"demo-helper-text-misaligned",label:"Name",style:mt.inputBox,name:"name",value:o,onChange:this.handleChange,error:s&&!o,required:!0})}),Object(l.jsx)(p.a,{item:!0,style:mt.paddingInnerGrids,md:6,children:Object(l.jsx)(b.a,{helperText:"Please provide technician's phone number",id:"demo-helper-text-misaligned",label:"What's App Number",style:mt.inputBox,name:"whatsAppNumber",value:r,onChange:this.handleChange,error:s&&!r,InputProps:{startAdornment:Object(l.jsx)(C.a,{position:"start",children:Object(l.jsx)(k.a,{children:"+91"})})},inputProps:{maxLength:10},required:!0})}),Object(l.jsx)(p.a,{item:!0,style:mt.paddingInnerGrids,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Email",style:mt.inputBox,name:"email",value:d,type:"email",onChange:this.handleChange})}),Object(l.jsx)(p.a,{item:!0,style:mt.paddingInnerGrids,md:6,children:Object(l.jsxs)(x.a,{md:6,style:mt.inputBox,sx:{minWidth:120},children:[Object(l.jsx)(j.a,{id:"demo-simple-select-helper-label",children:"Main Service You Offer / Need *"}),Object(l.jsx)(O.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",label:"Main Service You Offer / Need *",name:"primaryService",onChange:this.handleChange,value:c,error:s&&!c,children:null===(e=this.state.servicesList)||void 0===e?void 0:e.map((function(e){return Object(l.jsx)(g.a,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.service_name})}))})]})}),Object(l.jsx)(p.a,{style:mt.paddingInnerGrids,item:!0,md:6,children:Object(l.jsxs)(x.a,{md:6,style:mt.inputBox,sx:{minWidth:120},children:[Object(l.jsx)(j.a,{id:"demo-simple-select-helper-label",children:"Other Service You Offer / Need *"}),Object(l.jsx)(O.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",label:"Other Service You Offer / Need *",name:"secondary_services_id",onChange:this.handleChangeSecondaryServiceDetails,value:u.secondary_services_id,error:s&&!u.secondary_services_id,children:null===(t=this.state.servicesList)||void 0===t?void 0:t.map((function(e){return Object(l.jsx)(g.a,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.service_name})}))})]})}),Object(l.jsx)(p.a,{style:mt.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Service Area Pincode (main)",style:mt.inputBox,name:"pincode",value:h,onChange:this.handleChange,error:s&&!h,type:"number",required:!0})}),Object(l.jsx)(p.a,{style:mt.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Additional Service Area Pincode (other)",style:mt.inputBox,name:"additionalPinCode",type:"number",value:m,onChange:this.handleChange,error:s&&!m,required:!0})}),Object(l.jsx)(p.a,{style:mt.paddingInnerGrids,item:!0,md:6,children:Object(l.jsxs)(x.a,{style:mt.inputBox,sx:{minWidth:120},children:[Object(l.jsx)(j.a,{id:"demo-simple-select-helper-label",children:"Engagement Type"}),Object(l.jsx)(O.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",label:"Engagement Type",name:"engagementType",onChange:this.handleChange,value:v,error:s&&!v,required:!0,children:null===vt||void 0===vt?void 0:vt.map((function(e){return Object(l.jsx)(g.a,{value:e,children:e})}))})]})}),Object(l.jsx)(p.a,{style:mt.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Aadhar Card Number",style:mt.inputBox,name:"aadharCardNumber",value:w,onChange:this.handleChange,error:s&&!w,inputProps:{maxLength:12}})}),Object(l.jsx)(p.a,{style:mt.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)("div",{className:"aadhar-upload-button",children:Object(l.jsxs)("div",{children:[this.state.pan_card_document?Object(l.jsx)("img",{width:"50px",height:"50px",src:this.state.pan_card_document,alt:"adhar front"}):Object(l.jsx)(l.Fragment,{}),Object(l.jsxs)("label",{htmlFor:"contained-button-file",children:[Object(l.jsx)(pt,{name:"aadharFront",accept:"image/jpeg, image/jpg",id:"contained-button-file",type:"file",onChange:function(e){return n.onUploadImage(e,"pan_card_document")}}),Object(l.jsx)(f.a,{variant:"contained",component:"span",children:"Pan pic"})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{children:"Upload image from gallery"}),Object(l.jsx)("div",{children:"Max File Size (2 MB)"})]})]})})}),Object(l.jsx)(p.a,{style:mt.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(b.a,{helperText:"Please enter your permanent address",id:"demo-helper-text-misaligned",label:"Permanent Address",style:mt.inputBox,name:"permanentAddress",value:S,onChange:this.handleChange})}),Object(l.jsx)(p.a,{style:mt.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(b.a,{helperText:"Please enter your pan number",id:"demo-helper-text-misaligned",label:"Pan Number",style:mt.inputBox,name:"pan_number",value:this.state.pan_number,onChange:this.handleChange,error:s&&!this.state.pan_number})}),Object(l.jsx)(p.a,{style:mt.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(b.a,{helperText:"Please enter your permanent city",id:"demo-helper-text-misaligned",label:"Permanent City",style:mt.inputBox,name:"permanentCity",value:A,onChange:this.handleChange})}),Object(l.jsx)(p.a,{style:mt.paddingInnerGrids,item:!0,md:6,children:Object(l.jsxs)(x.a,{md:6,style:mt.inputBox,sx:{minWidth:120},children:[Object(l.jsx)(j.a,{id:"demo-simple-select-helper-label",children:"Permanent State"}),Object(l.jsx)(O.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",label:"Permanent State",name:"permanentState",onChange:this.handleChange,value:D,children:null===R||void 0===R?void 0:R.map((function(e){return Object(l.jsx)(g.a,{value:e.value,children:e.value})}))})]})}),Object(l.jsx)(p.a,{style:mt.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Permanent Country",style:mt.inputBox,name:"permanentCountry",value:P,onChange:this.handleChange,disabled:!0})}),Object(l.jsx)(p.a,{style:mt.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(b.a,{helperText:"Please enter your current address",id:"demo-helper-text-misaligned",label:"Current Address",style:mt.inputBox,name:"currentAddress",value:T,onChange:this.handleChange})}),Object(l.jsx)(p.a,{style:mt.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(b.a,{helperText:"Please enter your current city",id:"demo-helper-text-misaligned",label:"Current City",style:mt.inputBox,name:"currentCity",value:I,onChange:this.handleChange})}),Object(l.jsx)(p.a,{style:mt.paddingInnerGrids,item:!0,md:6,children:Object(l.jsxs)(x.a,{md:6,style:mt.inputBox,sx:{minWidth:120},children:[Object(l.jsx)(j.a,{id:"demo-simple-select-helper-label",children:"Current State"}),Object(l.jsx)(O.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",label:"Current State",name:"currentState",onChange:this.handleChange,value:F,children:null===R||void 0===R?void 0:R.map((function(e){return Object(l.jsx)(g.a,{value:e.value,children:e.value})}))})]})}),Object(l.jsx)(p.a,{style:mt.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(b.a,{helperText:"Please enter your current country",id:"demo-helper-text-misaligned",label:"Current Country",style:mt.inputBox,name:"currentCountry",value:E,onChange:this.handleChange,disabled:!0})}),Object(l.jsx)(p.a,{style:mt.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(b.a,{helperText:"Please enter emergency contact person",id:"demo-helper-text-misaligned",label:"Emergency Contact Person",style:mt.inputBox,name:"referenceFirstPerson",value:B,onChange:this.handleChange,error:s&&!B})}),Object(l.jsx)(p.a,{style:mt.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(b.a,{helperText:"Please enter emergency contact person number",id:"demo-helper-text-misaligned",label:"Emergency Contact Person Phone Number",style:mt.inputBox,name:"firstPersonPhoneNumber",value:L,onChange:this.handleChange,error:s&&!L,InputProps:{startAdornment:Object(l.jsx)(C.a,{position:"start",children:Object(l.jsx)(k.a,{children:"+91"})})},inputProps:{maxLength:10}})}),Object(l.jsx)(p.a,{style:mt.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(b.a,{helperText:"Please enter reference second person",id:"demo-helper-text-misaligned",label:"Reference Second Person",style:mt.inputBox,name:"referenceSecondPerson",value:N,onChange:this.handleChange,error:s&&!N})}),Object(l.jsx)(p.a,{style:mt.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(b.a,{helperText:"Please enter Second Person Phone Number",id:"demo-helper-text-misaligned",label:"Second Person Phone Number",style:mt.inputBox,name:"secondPersonPhoneNumber",value:G,onChange:this.handleChange,error:s&&!G,InputProps:{startAdornment:Object(l.jsx)(C.a,{position:"start",children:Object(l.jsx)(k.a,{children:"+91"})})},inputProps:{maxLength:10}})}),Object(l.jsx)(p.a,{style:mt.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(f.a,{variant:"contained",onClick:function(){return n.handleRegister()},disabled:this.state.isRegistering,children:this.state.isEditDetailsExists?"Update ":"Save"})})]})})]})}}]),n}(i.Component),jt=Object(ve.b)((function(e){return{reduxState:e.userReducer}}),null)(Object(s.i)(bt)),gt=Object(m.a)(v.a)((function(e){var t=e.theme;return Object(h.a)(Object(h.a)({backgroundColor:"dark"===t.palette.mode?"#1A2027":"#fff"},t.typography.body2),{},{padding:t.spacing(1),textAlign:"center",color:t.palette.text.secondary})})),xt={inputBox:{width:"100%",marginBottom:"10px"},gridStyle:{width:"80%",margin:"auto"},paddingInnerGrids:{paddingRight:"10px",paddingLeft:"10px",paddingTop:"10px"}},Ot=["IMMEDIATELY","WITHIN_24_HOURS","SPECIFIC_DATE_AND_TIME"],ft=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).showDialog=function(e,t,n){i.setState({toast:{open:e,msg:n,duration:5e3,type:t}})},i.closeDialog=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];i.setState({toast:{open:e,msg:"",duration:5e3,type:""}})},i.handleChange=function(e){var t=e.target,n=t.name,a=t.value;"pincode"!=n?i.setState(Object(o.a)({},n,a),(function(){console.log(i.state)})):a.length<=6&&i.setState(Object(o.a)({},n,a))},i.handleRegister=function(){var e=i.state,t=e.serviceRequired,n=e.specificRequirement,a=e.name,s=e.phoneNumber,l=e.alternatePhoneNumber,o=e.houseNumber,r=e.locality,d=e.city,c=e.state,u=e.country,h=e.pincode,p=e.timePreference,m=e.offerCode;if(!(t&&a&&s&&o&&h&&p&&m))return i.setState({isFormValid:!0}),void i.showDialog(!0,"error","Please fill in all required details");if(i.setState({isRegistering:!0}),"SPECIFIC_DATE_AND_TIME"!=i.state.timePreference||i.state.specific_date_time){var v={personal_details:{primary_phone:{country_code:"+91",mobile_number:s},alternate_phone:{country_code:l.length>0?"+91":"",mobile_number:l},name:a},specific_requirement:n,service_provided_for:t,address_details:{house_number:o,locality:r,city:d,state:c,pincode:h,country:u},time_preference:{time_preference_type:p,specific_date_time:i.state.specific_date_time},offers_applied:{offer_code:m}};(new F).createTicket(v).then((function(e){i.showDialog(!0,"success","Ticket Created successfully"),i.setState({isRegistering:!1,serviceRequired:"",specificRequirement:"",name:"",phoneNumber:"",alternatePhoneNumber:"",houseNumber:"",locality:"",city:"",state:"",country:"INDIA",pincode:"",timePreference:"",offerCode:""}),setTimeout((function(){i.showDialog(!0,"info","Add more ticket")}),2e3)})).catch((function(e){var t,n;console.log(e),i.setState({isRegistering:!1}),i.showDialog(!0,"error",null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)}))}else i.showDialog(!0,"error","Please fill in Specific date and time")},i.state={serviceRequired:"",specificRequirement:"",name:"",phoneNumber:"",alternatePhoneNumber:"",houseNumber:"",locality:"",city:"",state:"",country:"INDIA",pincode:"",timePreference:"",offerCode:"OniT 2022",specific_date_time:new Date,toast:{open:!1,msg:"",duration:5e3,type:""},isFormValid:!1,servicesList:[],isRegistering:!1},i}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.getAllServicesExists()}},{key:"getAllServicesExists",value:function(){var e=this;(new I).getAllServices().then((function(t){e.setState({servicesList:t.data})})).catch((function(e){console.log(e)}))}},{key:"onChangeSpecificDateAndTime",value:function(e){this.setState({specific_date_time:e})}},{key:"render",value:function(){var e,t=this,n=this.state,i=n.toast,a=n.isFormValid,s=n.serviceRequired,o=n.specificRequirement,r=n.name,d=n.phoneNumber,c=n.alternatePhoneNumber,u=n.houseNumber,m=n.locality,v=n.city,D=n.state,P=n.country,T=n.pincode,I=n.timePreference,F=n.offerCode;return Object(l.jsxs)("div",{children:[i.open&&Object(l.jsx)(_.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:i.open,autoHideDuration:i.duration,onClose:this.closeDialog,children:Object(l.jsx)(y.a,{onClose:this.closeDialog,severity:i.type,sx:{width:"100%"},children:i.msg})}),Object(l.jsx)("h2",{className:"text-align-center",children:"Add Ticket"}),Object(l.jsx)(gt,{children:Object(l.jsxs)(p.a,{container:!0,children:[Object(l.jsx)(p.a,{item:!0,md:6,style:xt.paddingInnerGrids,children:Object(l.jsxs)(x.a,{md:6,style:xt.inputBox,sx:{minWidth:120},children:[Object(l.jsx)(j.a,{id:"demo-simple-select-helper-label",children:"Service You Required"}),Object(l.jsx)(O.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",label:"Service You Required",name:"serviceRequired",onChange:this.handleChange,value:s,error:a&&!s,children:null===(e=this.state.servicesList)||void 0===e?void 0:e.map((function(e){return Object(l.jsx)(g.a,{value:e._id,children:e.service_name})}))})]})}),Object(l.jsx)(p.a,{item:!0,style:xt.paddingInnerGrids,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Specific Requirement - it helps",style:xt.inputBox,name:"specificRequirement",value:o,onChange:this.handleChange,error:a&&!o})}),Object(l.jsx)(p.a,{item:!0,style:xt.paddingInnerGrids,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Name (Contact Person)",style:xt.inputBox,name:"name",value:r,onChange:this.handleChange,error:a&&!r})}),Object(l.jsx)(p.a,{item:!0,style:xt.paddingInnerGrids,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Phone Number",style:xt.inputBox,name:"phoneNumber",value:d,onChange:this.handleChange,error:a&&!d,InputProps:{startAdornment:Object(l.jsx)(C.a,{position:"start",children:Object(l.jsx)(k.a,{children:"+91"})})},inputProps:{maxLength:10}})}),Object(l.jsx)(p.a,{item:!0,style:xt.paddingInnerGrids,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Alternate Phone Number",style:xt.inputBox,name:"alternatePhoneNumber",value:c,onChange:this.handleChange,InputProps:{startAdornment:Object(l.jsx)(C.a,{position:"start",children:Object(l.jsx)(k.a,{children:"+91"})})},inputProps:{maxLength:10}})}),Object(l.jsx)(p.a,{item:!0,style:xt.paddingInnerGrids,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"House Number / Street",style:xt.inputBox,name:"houseNumber",value:u,onChange:this.handleChange,error:a&&!u})}),Object(l.jsx)(p.a,{style:xt.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Locality",style:xt.inputBox,name:"locality",value:m,onChange:this.handleChange,error:a&&!m})}),Object(l.jsx)(p.a,{style:xt.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"City",style:xt.inputBox,name:"city",value:v,onChange:this.handleChange,error:a&&!v})}),Object(l.jsx)(p.a,{style:xt.paddingInnerGrids,item:!0,md:6,children:Object(l.jsxs)(x.a,{md:6,style:xt.inputBox,sx:{minWidth:120},children:[Object(l.jsx)(j.a,{id:"demo-simple-select-helper-label",children:"State"}),Object(l.jsx)(O.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",label:"State",name:"state",onChange:this.handleChange,value:D,error:a&&!D,children:null===R||void 0===R?void 0:R.map((function(e){return Object(l.jsx)(g.a,{value:e.value,children:e.value})}))})]})}),Object(l.jsx)(p.a,{style:xt.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Country",style:xt.inputBox,name:"country",value:P,onChange:this.handleChange,error:a&&!P,disabled:!0})}),Object(l.jsx)(p.a,{style:xt.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Pincode",style:xt.inputBox,name:"pincode",type:"number",value:T,onChange:this.handleChange,error:a&&!T})}),Object(l.jsx)(p.a,{style:xt.paddingInnerGrids,item:!0,md:6,children:Object(l.jsxs)(x.a,{md:6,style:xt.inputBox,sx:{minWidth:120},children:[Object(l.jsx)(j.a,{id:"demo-simple-select-helper-label",children:"Time Preference"}),Object(l.jsx)(O.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",label:"Time Preference",name:"timePreference",onChange:this.handleChange,value:I,error:a&&!I,children:null===Ot||void 0===Ot?void 0:Ot.map((function(e){return Object(l.jsx)(g.a,{value:e,children:e})}))})]})}),"SPECIFIC_DATE_AND_TIME"==this.state.timePreference?Object(l.jsx)(p.a,{style:xt.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(A.a,{dateAdapter:S.a,children:Object(l.jsx)(w.a,{renderInput:function(e){return Object(l.jsx)(b.a,Object(h.a)({},e))},label:"Select date and time",value:this.state.specific_date_time,onChange:function(e){t.onChangeSpecificDateAndTime(e)},minDate:new Date,minTime:new Date(0,0,0,8),maxTime:new Date(0,0,0,20)})})}):"",Object(l.jsx)(p.a,{style:xt.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Offer Code",style:xt.inputBox,name:"offerCode",value:F,onChange:this.handleChange,error:a&&!F})}),Object(l.jsx)(p.a,{style:xt.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(f.a,{variant:"contained",onClick:function(){return t.handleRegister()},disabled:this.state.isRegistering,children:"SUBMIT"})})]})})]})}}]),n}(i.Component),_t=ft,yt={filterType:"dropdown"},Ct=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).onClickFilter=function(e){var t={start_date:e[0],end_date:e[1]};(new te).getAllTechnician(t).then((function(e){var t,n=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.map((function(e){var t,n,a,s,l,o,r,d,c,u;return{name:null===e||void 0===e||null===(t=e.personal_details)||void 0===t?void 0:t.name,email:null===e||void 0===e||null===(n=e.personal_details)||void 0===n?void 0:n.email,phone:(null===e||void 0===e||null===(a=e.personal_details)||void 0===a||null===(s=a.phone)||void 0===s?void 0:s.country_code)+(null===e||void 0===e||null===(l=e.personal_details)||void 0===l||null===(o=l.phone)||void 0===o?void 0:o.mobile_number),profile_created_by:null===e||void 0===e?void 0:e.profile_created_by,referenceDetails:null===e||void 0===e||null===(r=e.referenceDetails)||void 0===r?void 0:r.reference_person_name,address_details_permanent:(null===e||void 0===e||null===(d=e.address_details_permanent)||void 0===d?void 0:d.address_line)+"  "+(null===e||void 0===e||null===(c=e.address_details_permanent)||void 0===c?void 0:c.city)+" "+(null===e||void 0===e||null===(u=e.address_details_permanent)||void 0===u?void 0:u.country),associatedWith:i.getAssociatedCenters(null===e||void 0===e?void 0:e.center_id),authorizedFor:i.getFormattedClients(null===e||void 0===e?void 0:e.clients_ids_list),action:e}}));i.setState({technicianList:n})})).catch((function(e){console.log(e)}))},i.showDialog=function(e,t,n){i.setState({toast:{open:e,msg:n,duration:5e3,type:t}})},i.closeDialog=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];i.setState({toast:{open:e,msg:"",duration:5e3,type:""}})},i.getFormattedClients=function(e){var t=[];return e&&e.length>0&&e.map((function(e){t.push(e.client_name)})),t.length>0?t.join(", "):""},i.toggleAuthorizedForPopup=function(e){e&&i.setState({selectedTechnicianId:e}),i.setState((function(e){return{isAuthorizedForPopupOpen:!e.isAuthorizedForPopupOpen}}))},i.saveAuthorizedTechnicians=function(e){console.log("techniciansSelected is",e);var t={technician_obj_id:i.state.selectedTechnicianId,clients_ids_list:Object(it.a)(e)};console.log("payload is",t),(new te).adminUpdateTechnician(t).then((function(e){i.showDialog(!0,"success","Technician updated successfully"),setTimeout((function(){i.toggleAuthorizedForPopup(),i.getAllTechnicians()}),1e3)})).catch((function(e){var t,n;console.log(e),i.showDialog(!0,"error",null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)}))},i.getAssociatedCenters=function(e){var t=[];return e&&e.length>0&&e.map((function(e){var n;t.push(null===e||void 0===e||null===(n=e.qr_details)||void 0===n?void 0:n.qr_id)})),t.length>0?t.join(", "):""},i.state={columns:[{name:"name",label:"Name",options:{filter:!0,sort:!0}},{name:"email",label:"email",options:{filter:!0,sort:!1}},{name:"phone",label:"phone",options:{filter:!0,sort:!1}},{name:"profile_created_by",label:"profile created by",options:{filter:!0,sort:!1}},{name:"referenceDetails",label:"reference Details",options:{filter:!0,sort:!1}},{name:"address_details_permanent",label:"address details permanent",options:{filter:!0,sort:!1}},{name:"associatedWith",label:"Associated CenterCode",options:{filter:!0,sort:!1}},{name:"authorizedFor",label:"Authorized For Clients",options:{filter:!0,sort:!1}},{name:"action",label:"Action",options:{customBodyRender:function(e,t,n){return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(f.a,{className:"text-transform-none",variant:"contained",onClick:function(){return i.toggleAuthorizedForPopup(e._id)},children:"Authorized For"})})})}}}],technicianList:[],isAuthorizedForPopupOpen:!1,clientsList:[],selectedTechnicianId:"",toast:{open:!1,msg:"",duration:5e3,type:""}},i}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.getAllTechnicians(),this.getAllClients()}},{key:"getAllClients",value:function(){var e=this;(new te).getAllClients().then((function(t){var n=[];t&&t.data&&t.data.length>0&&(n=t.data),e.setState({clientsList:n})})).catch((function(e){console.log(e)}))}},{key:"getAllTechnicians",value:function(){var e=this;(new te).getAllTechnician().then((function(t){var n,i=null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.map((function(t){var n,i,a,s,l,o,r,d,c,u;return{name:null===t||void 0===t||null===(n=t.personal_details)||void 0===n?void 0:n.name,email:null===t||void 0===t||null===(i=t.personal_details)||void 0===i?void 0:i.email,phone:(null===t||void 0===t||null===(a=t.personal_details)||void 0===a||null===(s=a.phone)||void 0===s?void 0:s.country_code)+(null===t||void 0===t||null===(l=t.personal_details)||void 0===l||null===(o=l.phone)||void 0===o?void 0:o.mobile_number),profile_created_by:null===t||void 0===t?void 0:t.profile_created_by,referenceDetails:null===t||void 0===t||null===(r=t.referenceDetails)||void 0===r?void 0:r.reference_person_name,address_details_permanent:(null===t||void 0===t||null===(d=t.address_details_permanent)||void 0===d?void 0:d.address_line)+"  "+(null===t||void 0===t||null===(c=t.address_details_permanent)||void 0===c?void 0:c.city)+" "+(null===t||void 0===t||null===(u=t.address_details_permanent)||void 0===u?void 0:u.country),associatedWith:e.getAssociatedCenters(null===t||void 0===t?void 0:t.center_id),authorizedFor:e.getFormattedClients(null===t||void 0===t?void 0:t.clients_ids_list),action:t}}));e.setState({technicianList:i})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e,t,n,i,a,s=this.state.toast;return Object(l.jsxs)("div",{children:[s.open&&Object(l.jsx)(_.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:s.open,autoHideDuration:s.duration,onClose:this.closeDialog,children:Object(l.jsx)(y.a,{onClose:this.closeDialog,severity:s.type,sx:{width:"100%"},children:s.msg})}),null!==(e=this.props.reduxState)&&void 0!==e&&null!==(t=e.adminDetails)&&void 0!==t&&null!==(n=t.role_id)&&void 0!==n&&null!==(i=n.permissions)&&void 0!==i&&null!==(a=i.view_technician_details)&&void 0!==a&&a.full_access?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(he,{onClickFilter:this.onClickFilter}),Object(l.jsx)(Q.a,{title:"Technicians",data:this.state.technicianList,columns:this.state.columns,options:yt})]}):"No permission , contact admin",Object(l.jsx)(ot,{isAuthorizedForPopupOpen:this.state.isAuthorizedForPopupOpen,clientsList:this.state.clientsList,toggleAuthorizedForPopup:this.toggleAuthorizedForPopup,saveAuthorizedCenters:this.saveAuthorizedTechnicians})]})}}]),n}(i.Component),kt=Object(ve.b)((function(e){return{reduxState:e.userReducer}}),null)(Object(s.i)(Ct)),wt={layout:{width:"40%",marginTop:"20%",marginLeft:"auto",marginRight:"auto"},inputBox:{width:"100%",marginBottom:"10px"}};function St(){var e=Object(i.useState)({user_name:"",password:""}),t=Object(ne.a)(e,2),n=t[0],a=t[1],r=Object(i.useState)({open:!1,msg:"",duration:5e3,type:""}),d=Object(ne.a)(r,2),c=d[0],u=d[1],p=(Object(ve.d)((function(e){return e.userReducer})),Object(ve.c)()),m=Object(s.g)(),v=function(e,t,n){u({open:e,msg:n,duration:5e3,type:t})},j=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];u({open:e,msg:"",duration:5e3,type:""})},g=function(e,t){a(Object(h.a)(Object(h.a)({},n),{},Object(o.a)({},e,t)))},x=Object(i.useState)(!1),O=Object(ne.a)(x,2),C=O[0],w=O[1];return Object(l.jsxs)(Pe.a,{style:wt.layout,sx:{minWidth:275},children:[c.open&&Object(l.jsx)(_.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:c.open,autoHideDuration:c.duration,onClose:j,children:Object(l.jsx)(y.a,{onClose:j,severity:c.type,sx:{width:"100%"},children:c.msg})}),Object(l.jsxs)(Ie.a,{children:[Object(l.jsx)(k.a,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,children:"Admin login"}),Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"User Name",style:wt.inputBox,type:"text",disabled:C,onChange:function(e){return g("user_name",e.target.value)}}),Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Password",style:wt.inputBox,type:"password",disabled:C,onChange:function(e){return g("password",e.target.value)}})]}),Object(l.jsx)(Te.a,{children:Object(l.jsx)(f.a,{onClick:function(){return function(){if(n.user_name)if(n.password){var e={user_name:n.user_name,password:n.password};w(!0),(new te).login(e).then((function(e){var t,n;w(!1),v(!0,"success","Admin login successful"),p(Object(et.a)({adminDetails:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.adminDetails,isAdminLoggedIn:!0,userTokens:{accessToken:null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.token}})),m.push("/Tickets")})).catch((function(e){var t,n;console.log(e),w(!1),v(!0,"error",null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)}))}else v(!0,"error","Please enter password");else v(!0,"error","Please enter user name")}()},disabled:C,variant:"contained",children:C?"Logging In , please wait":"Login"})})]})}var At=n(10),Dt=["component"],Pt=function(e){var t=e.component,n=Object(At.a)(e,Dt),a=Object(s.g)(),o=Object(ve.d)((function(e){return e.userReducer}));return console.log(o,"global state"),Object(i.useEffect)((function(){null!==o&&void 0!==o&&o.isUserLoggedIn||a.push("/")}),[]),Object(l.jsx)(s.b,Object(h.a)(Object(h.a)({},n),{},{render:function(e){return Object(l.jsx)(t,Object(h.a)({},e))}}))},Tt=["component","restricted"],It=function(e){var t=e.component,n=(e.restricted,Object(At.a)(e,Tt)),a=Object(ve.d)((function(e){return e.userReducer})),o=Object(s.g)();return Object(i.useEffect)((function(){null!==a&&void 0!==a&&a.isUserLoggedIn&&o.push("/center-dashboard")}),[]),Object(l.jsx)(s.b,Object(h.a)(Object(h.a)({},n),{},{render:function(e){return Object(l.jsx)(t,Object(h.a)({},e))}}))},Ft=["component"],Rt=function(e){var t=e.component,n=Object(At.a)(e,Ft),a=Object(s.g)(),o=Object(ve.d)((function(e){return e.AdminReducer}));return console.log(o,"global state"),Object(i.useEffect)((function(){console.log(o,"globalState"),null!==o&&void 0!==o&&o.isAdminLoggedIn||a.push("/admin-login")}),[]),Object(l.jsx)(s.b,Object(h.a)(Object(h.a)({},n),{},{render:function(e){return Object(l.jsx)(t,Object(h.a)({},e))}}))},Et=["component","restricted"],Bt=function(e){var t=e.component,n=(e.restricted,Object(At.a)(e,Et)),a=Object(ve.d)((function(e){return e.AdminReducer})),o=Object(s.g)();return Object(i.useEffect)((function(){null!==a&&void 0!==a&&a.isAdminLoggedIn&&o.push("/admin-dashboard")}),[]),Object(l.jsx)(s.b,Object(h.a)(Object(h.a)({},n),{},{render:function(e){return Object(l.jsx)(t,Object(h.a)({},e))}}))},Nt=["component"],Lt=function(e){var t=e.component,n=Object(At.a)(e,Nt),a=Object(s.g)(),o=Object(ve.d)((function(e){return e.centerOnboardReducer}));return console.log(o,"global state"),Object(i.useEffect)((function(){console.log(o,"globalState"),null!==o&&void 0!==o&&o.isCenterOnboardLoggedIn||a.push("/center-onboard-login")}),[]),Object(l.jsx)(s.b,Object(h.a)(Object(h.a)({},n),{},{render:function(e){return Object(l.jsx)(t,Object(h.a)({},e))}}))},Gt=n(395),Vt={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function qt(e){var t=e.open,n=e.handleClose,a=e.technicianList,s=e.isForChange,o=e.handleAssignTechnician,r=e.handleChangeTechnician,d=e.isTechnicianAssigning,c=Object(i.useState)(""),u=Object(ne.a)(c,2),h=u[0],p=u[1];return Object(l.jsx)(ae.a,{open:t,onClose:n,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(l.jsxs)(ie.a,{sx:Vt,children:[Object(l.jsx)(k.a,{id:"modal-modal-title",variant:"h6",component:"h2",children:s?"Change Technician":"Assign Technician"}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)(ie.a,{sx:{minWidth:120},children:Object(l.jsxs)(x.a,{fullWidth:!0,children:[Object(l.jsx)(j.a,{id:"demo-simple-select-label",children:"Choose Technician"}),Object(l.jsx)(O.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:h,label:"Choose Technician",onChange:function(e){console.log(e.target.value,"llll"),p(e.target.value)},children:null===a||void 0===a?void 0:a.map((function(e){var t;return Object(l.jsx)(g.a,{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e||null===(t=e.personal_details)||void 0===t?void 0:t.name})}))})]})}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)(f.a,{onClick:function(){s?r(h):o(h)},variant:"contained",disabled:d,children:d?"Processing ":s?"Change Techician":"Assign Techician"})]})})}var Ut={flex:1,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},Mt={inputBox:{width:"100%"},dialogInputBox:{height:70,padding:10,width:300},gridStyle:{},paddingInnerGrids:{paddingRight:"10px",paddingLeft:"10px",paddingTop:"10px",margin:10,justifyContent:"center"},dialogAlignBox:{}},zt=["Visit Done, Work Completed","Visited - Estimate Not Approved / Site Not Ready","Visited - Unit not Repairable /Special Skill, Tools, Authorisation required","Not Visited -Can\u2019t Deliver Service - Phone not Pick/ Far Location","Not Visited - Customer Refused (Work Already Done /Not Needed / Site Not Ready)"];function Wt(e){var t=e.open,n=e.handleClose,s=e.handleCloseTicket,o=Object(i.useState)(""),r=Object(ne.a)(o,2),d=r[0],c=r[1],u=Object(i.useState)(0),h=Object(ne.a)(u,2),m=h[0],v=h[1],j=a.a.useState({open:!1,msg:"",duration:5e3,type:""}),x=Object(ne.a)(j,2),C=x[0],w=x[1],S=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];w({open:e,msg:"",duration:5e3,type:""})};return Object(l.jsxs)("div",{children:[C.open&&Object(l.jsx)(_.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:C.open,autoHideDuration:C.duration,onClose:S,children:Object(l.jsx)(y.a,{onClose:S,severity:C.type,sx:{width:"100%"},children:C.msg})}),Object(l.jsx)(ae.a,{open:t,onClose:n,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(l.jsxs)(ie.a,{sx:Ut,children:[Object(l.jsx)(k.a,{id:"modal-modal-title",variant:"h6",component:"h2",children:"Add Closing Remarks"}),Object(l.jsx)(p.a,{style:Mt.paddingInnerGrids,item:!0,children:Object(l.jsx)(O.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",label:"Closing Remarks",placeholder:"Please select",name:"closingTicketRemarks",style:Mt.inputBox,onChange:function(e){return t=e,console.log(t.target.value,"closingTicketRemarks"),void c(t.target.value);var t},value:d,children:null===zt||void 0===zt?void 0:zt.map((function(e){return Object(l.jsx)(g.a,{value:e,children:e})}))})}),Object(l.jsx)(p.a,{style:Mt.paddingInnerGrids,item:!0,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Amount",style:Mt.inputBox,name:"closingTicketRemarks",value:m,onChange:function(e){return v(e.target.value)}})}),Object(l.jsx)(p.a,{style:Mt.paddingInnerGrids,item:!0,children:Object(l.jsx)(f.a,{variant:"contained",onClick:function(){return s(d,m)},disabled:!d,children:"Close the ticket"})})]})})]})}var Ht={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,margin:"auto",p:2},Yt={inputBox:{width:350,textAlign:"center",height:50,margin:20},gridStyle:{width:"80%",margin:"auto"},paddingInnerGrids:{textAlign:"center"}};function Kt(e){var t=e.open,n=e.ticketObj,a=e.handleClose,s=i.useState(""),o=Object(ne.a)(s,2),r=o[0],d=o[1],c=i.useState({open:!1,msg:"",duration:5e3,type:""}),u=Object(ne.a)(c,2),h=u[0],m=u[1],v=function(e,t,n){m({open:e,msg:n,duration:5e3,type:t})},j=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];m({open:e,msg:"",duration:5e3,type:""})};return Object(l.jsxs)("div",{children:[h.open&&Object(l.jsx)(_.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:h.open,autoHideDuration:h.duration,onClose:j,children:Object(l.jsx)(y.a,{onClose:j,severity:h.type,sx:{width:"100%"},children:h.msg})}),Object(l.jsx)(ae.a,{open:t,onClose:a,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(l.jsxs)(ie.a,{sx:Ht,children:[Object(l.jsx)(k.a,{id:"modal-modal-title",variant:"h6",component:"h2",align:"center",children:"Add Remarks"}),Object(l.jsx)(p.a,{style:Yt.paddingInnerGrids,item:!0,children:Object(l.jsx)(b.a,{id:"demo-helper-text-aligned",label:"Add Remarks",style:Yt.inputBox,name:"additionalRemarks",value:r,onChange:function(e){return function(e){var t=e.target.value;d(t)}(e)}})}),Object(l.jsx)(p.a,{style:Yt.paddingInnerGrids,item:!0,children:Object(l.jsx)(f.a,{variant:"contained",onClick:function(){return function(){var e={ticket_obj_id:n._id,remarks:r,date:new Date};console.log("payload is",e),(new F).addTicketRemarks(e).then((function(e){e&&(a(),v(!0,"success","Remarks saved successfully"))})).catch((function(e){var t,n;console.log(e),v(!0,"error",null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)}))}()},disabled:!r,children:"Save"})})]})})]})}var Jt={filterType:"dropdown",download:!1,print:!1},Qt=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).showDialog=function(e,t,n){i.setState({toast:{open:e,msg:n,duration:5e3,type:t}})},i.closeDialog=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];i.setState({toast:{open:e,msg:"",duration:5e3,type:""}})},i.handleOpenTechnicianPopup=function(e,t){i.setState({isAssignTechnicianPopupOpen:!0,ticketDetailsForAssignTechnician:e,isForChange:t})},i.handleCloseAssignTechnicianPopup=function(){i.setState({isAssignTechnicianPopupOpen:!1,ticketDetailsForAssignTechnician:{}})},i.handleOpenCloseTicketRemarksModal=function(){i.setState({isCloseTicketRemarksModalOpen:!0})},i.handleCloseCloseTicketRemarksModal=function(){i.setState({isCloseTicketRemarksModalOpen:!1})},i.handleCloseTicket=function(e,t){if((0==t||t)&&i.state.closingTicketId&&i.state.closingTicketId.length>0){var n={ticket_obj_id:i.state.closingTicketId,remarks:{close_ticket_remarks:e},amount:t};console.log("payload is",n),(new F).closeTicket(n).then((function(e){i.setState({closingTicketId:""}),i.handleCloseCloseTicketRemarksModal(),i.showDialog(!0,"success","Ticket closed successfully"),i.getAllTickets()})).catch((function(e){var t,n;console.log(e),i.showDialog(!0,"error",null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)}))}},i.clickCloseTicket=function(e){i.setState({closingTicketId:e}),i.handleOpenCloseTicketRemarksModal(e)},i.openAddRemarksPopup=function(e){i.setState({ticketObj:e}),i.setState({isOpenAddRemarksPopup:!0})},i.closeAddRemarksPopup=function(){i.setState({isOpenAddRemarksPopup:!1})},i.getAllTechnician=function(){(new F).getAllTechnician().then((function(e){i.setState({technicianList:null===e||void 0===e?void 0:e.data})})).catch((function(e){console.log(e)}))},i.handleAssignTechnician=function(e){if(e){i.setState({isTechnicianAssigning:!0});var t={ticket_obj_id:i.state.ticketDetailsForAssignTechnician._id,technician_obj_id:e};(new F).assignTechnician(t).then((function(e){i.handleCloseAssignTechnicianPopup(),i.setState({isTechnicianAssigning:!1}),i.getAllTickets()})).catch((function(e){i.setState({isTechnicianAssigning:!1}),console.log(e)}))}},i.handleChangeTechnician=function(e){if(e){i.setState({isTechnicianAssigning:!0});var t={ticket_obj_id:i.state.ticketDetailsForAssignTechnician._id,technician_obj_id:e};(new F).changeTechnician(t).then((function(e){i.handleCloseAssignTechnicianPopup(),i.setState({isTechnicianAssigning:!1}),i.getAllTickets()})).catch((function(e){i.setState({isTechnicianAssigning:!1}),console.log(e)}))}},i.getFormattedAddress=function(e){return(null===e||void 0===e?void 0:e.house_number)+", "+(null===e||void 0===e?void 0:e.locality)+", "+(null===e||void 0===e?void 0:e.city)+", "+(null===e||void 0===e?void 0:e.state)},i.getParsedData=function(e){return null===e||void 0===e?void 0:e.map((function(e){var t,n,a,s,l,o,r,d,c;return{center_id:null!==(t=null===e||void 0===e||null===(n=e.assigned_ids)||void 0===n||null===(a=n.assigned_center_id)||void 0===a||null===(s=a.qr_details)||void 0===s?void 0:s.qr_id)&&void 0!==t?t:"-",service_required:null===e||void 0===e||null===(l=e.service_provided_for)||void 0===l?void 0:l.service_name,name:null===e||void 0===e||null===(o=e.personal_details)||void 0===o?void 0:o.name,phone:null===e||void 0===e||null===(r=e.personal_details)||void 0===r||null===(d=r.primary_phone)||void 0===d?void 0:d.mobile_number,address:i.getFormattedAddress(null===e||void 0===e?void 0:e.address_details),pincode:null===e||void 0===e||null===(c=e.address_details)||void 0===c?void 0:c.pincode,createdAt:new Date(null===e||void 0===e?void 0:e.createdAt).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"}),ticketStatus:null===e||void 0===e?void 0:e.ticket_status,action:e,remarks:e}}))},i.state={ticketsList:[],columns:[{name:"center_id",label:"Center Id",options:{filter:!0,sort:!0}},{name:"service_required",label:"Service Required",options:{filter:!0,sort:!1}},{name:"name",label:"Name",options:{filter:!0,sort:!1}},{name:"phone",label:"Phone",options:{filter:!0,sort:!1}},{name:"address",label:"Address",options:{filter:!0,sort:!1}},{name:"pincode",label:"Pincode",options:{filter:!0,sort:!1}},{name:"ticketStatus",label:"ticketStatus",options:{filter:!0,sort:!1}},{name:"createdAt",label:"Created At",options:{filter:!0,sort:!1}},{name:"action",label:"Actions",options:{customBodyRender:function(e,t,n){return console.log({value:e,tableMeta:t,updateValue:n}),Object(l.jsxs)(l.Fragment,{children:[null!==e&&void 0!==e&&e.is_technician_assigned&&"CLOSED"!==(null===e||void 0===e?void 0:e.ticket_status)?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(Gt.a,{onClick:function(){return i.clickCloseTicket(null===e||void 0===e?void 0:e._id)},variant:"contained",color:"primary",children:"Close Ticket"}),Object(l.jsx)(Gt.a,{variant:"contained",onClick:function(){i.handleOpenTechnicianPopup(e,!0)},children:"Assign new Technician"})]}):"",null!==e&&void 0!==e&&e.is_technician_assigned?"":Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(Gt.a,{variant:"contained",onClick:function(){i.handleOpenTechnicianPopup(e,!1)},children:"Assign Technician"})})]})}}},{name:"remarks",label:"Remarks",options:{customBodyRender:function(e,t,n){return console.log({value:e,tableMeta:t,updateValue:n}),Object(l.jsx)(l.Fragment,{children:"CLOSED"!==(null===e||void 0===e?void 0:e.ticket_status)?Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(Gt.a,{onClick:function(){return i.openAddRemarksPopup(e)},variant:"contained",color:"primary",children:"Add Remarks"})}):""})}}}],isAssignTechnicianPopupOpen:!1,ticketDetailsForAssignTechnician:{},isTechnicianAssigning:!1,technicianList:[],isCloseTicketRemarksModalOpen:!1,closingTicketId:"",isForChange:!1,ticketObj:{},toast:{open:!1,msg:"",duration:5e3,type:""}},i}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.getAllTickets(),this.getAllTechnician()}},{key:"getAllTickets",value:function(){var e=this;(new F).getAllTickets().then((function(t){var n,i=[];null!==t&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.length&&(i=e.getParsedData(t.data)),console.log(i,"parsedData"),e.setState({ticketsList:i})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.state.toast;return Object(l.jsxs)("div",{children:[e.open&&Object(l.jsx)(_.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:e.open,autoHideDuration:e.duration,onClose:this.closeDialog,children:Object(l.jsx)(y.a,{onClose:this.closeDialog,severity:e.type,sx:{width:"100%"},children:e.msg})}),this.state.isAssignTechnicianPopupOpen&&Object(l.jsx)(qt,{open:this.state.isAssignTechnicianPopupOpen,handleClose:this.handleCloseAssignTechnicianPopup,technicianList:this.state.technicianList,isForChange:this.state.isForChange,handleAssignTechnician:this.handleAssignTechnician,handleChangeTechnician:this.handleChangeTechnician,isTechnicianAssigning:this.state.isTechnicianAssigning}),Object(l.jsx)(Q.a,{title:"Tickets",data:this.state.ticketsList,columns:this.state.columns,options:Jt}),this.state.isCloseTicketRemarksModalOpen&&Object(l.jsx)(Wt,{open:this.state.isCloseTicketRemarksModalOpen,handleClose:this.handleCloseCloseTicketRemarksModal,handleCloseTicket:this.handleCloseTicket}),this.state.isOpenAddRemarksPopup&&this.state.ticketObj&&Object(l.jsx)(Kt,{open:this.state.isOpenAddRemarksPopup,ticketObj:this.state.ticketObj,handleClose:this.closeAddRemarksPopup})]})}}]),n}(i.Component),Zt=Qt,$t=n(921),Xt=n(936);function en(){var e,t,n,i,a,s,o,r,d,c,u,h,p,m,v,b,j,g,x,O,f,_=Object(ve.d)((function(e){return e.userReducer}));return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(Pe.a,{sx:{maxWidth:345},style:{marginBottom:"50px"},children:Object(l.jsxs)(Xt.a,{children:[Object(l.jsx)($t.a,{component:"img",height:"140",image:"https://cdn-icons-png.flaticon.com/512/51/51372.png",alt:"green iguana"}),Object(l.jsxs)(Ie.a,{children:[Object(l.jsx)(k.a,{gutterBottom:!0,variant:"h5",component:"div",children:"Personal Details"}),Object(l.jsx)(k.a,{variant:"body2",color:"text.secondary",children:"Phone number :- "+(null===_||void 0===_||null===(e=_.centerDetailsPopulated)||void 0===e||null===(t=e.personal_details)||void 0===t||null===(n=t.phone)||void 0===n?void 0:n.mobile_number)}),Object(l.jsx)("br",{}),Object(l.jsx)(k.a,{variant:"body2",color:"text.secondary",children:"Center name :- "+(null===_||void 0===_||null===(i=_.centerDetailsPopulated)||void 0===i?void 0:i.center_name)}),Object(l.jsx)("br",{}),Object(l.jsx)(k.a,{variant:"body2",color:"text.secondary",children:"Number of technicians :- "+(null===_||void 0===_||null===(a=_.centerDetailsPopulated)||void 0===a?void 0:a.no_of_technicians)})]})]})}),Object(l.jsx)(Pe.a,{sx:{maxWidth:345},style:{marginBottom:"50px"},children:Object(l.jsxs)(Xt.a,{children:[Object(l.jsx)($t.a,{component:"img",height:"140",image:"https://thumbs.dreamstime.com/b/address-icon-information-sign-address-icon-faq-help-hint-symbol-vector-icon-address-icon-information-sign-112676342.jpg",alt:"green iguana"}),Object(l.jsxs)(Ie.a,{children:[Object(l.jsx)(k.a,{gutterBottom:!0,variant:"h5",component:"div",children:"Address details"}),Object(l.jsx)(k.a,{variant:"body2",color:"text.secondary",children:"Address line :- "+(null===_||void 0===_||null===(s=_.centerDetailsPopulated)||void 0===s||null===(o=s.address_details)||void 0===o?void 0:o.address_line)}),Object(l.jsx)("br",{}),Object(l.jsx)(k.a,{variant:"body2",color:"text.secondary",children:"Pin code :- "+(null===_||void 0===_||null===(r=_.centerDetailsPopulated)||void 0===r||null===(d=r.address_details)||void 0===d?void 0:d.pincode)}),Object(l.jsx)("br",{}),Object(l.jsx)(k.a,{variant:"body2",color:"text.secondary",children:"City :- "+(null===_||void 0===_||null===(c=_.centerDetailsPopulated)||void 0===c||null===(u=c.address_details)||void 0===u?void 0:u.city)}),Object(l.jsx)("br",{}),Object(l.jsx)(k.a,{variant:"body2",color:"text.secondary",children:"State :- "+(null===_||void 0===_||null===(h=_.centerDetailsPopulated)||void 0===h||null===(p=h.address_details)||void 0===p?void 0:p.state)}),Object(l.jsx)("br",{}),Object(l.jsx)(k.a,{variant:"body2",color:"text.secondary",children:"Country :- "+(null===_||void 0===_||null===(m=_.centerDetailsPopulated)||void 0===m||null===(v=m.address_details)||void 0===v?void 0:v.country)})]})]})}),Object(l.jsx)(Pe.a,{sx:{maxWidth:345},children:Object(l.jsxs)(Xt.a,{children:[Object(l.jsx)($t.a,{component:"img",height:"140",image:"https://www.kindpng.com/picc/m/750-7505601_services-icon-png-services-icon-transparent-png.png",alt:"green iguana"}),Object(l.jsxs)(Ie.a,{children:[Object(l.jsx)(k.a,{gutterBottom:!0,variant:"h5",component:"div",children:"Services Providing"}),Object(l.jsx)(k.a,{variant:"body2",color:"text.secondary",children:"Primary service :- "+(null===_||void 0===_||null===(b=_.centerDetailsPopulated)||void 0===b||null===(j=b.services)||void 0===j||null===(g=j.primary_services)||void 0===g?void 0:g.service_name)}),Object(l.jsx)("br",{}),Object(l.jsx)(k.a,{variant:"body2",color:"text.secondary",children:"Secondary service :- "+(null===_||void 0===_||null===(x=_.centerDetailsPopulated)||void 0===x||null===(O=x.services)||void 0===O||null===(f=O.secondary_services)||void 0===f?void 0:f.map((function(e){var t;return null===e||void 0===e||null===(t=e.secondary_services_id)||void 0===t?void 0:t.service_name})).join(","))}),Object(l.jsx)("br",{})]})]})})]})}var tn=n(209),nn=n(128),an=n.n(nn),sn=function(){function e(){Object(r.a)(this,e),this.base_url=T}return Object(d.a)(e,[{key:"getAllBroadCastTicket",value:function(){var e=this;return new Promise((function(t,n){P()({method:"get",url:"".concat(e.base_url,"center/get-all-available-broadcast")}).then((function(e){t(e.data)})).catch((function(e){n(e)}))}))}},{key:"acceptBroadCast",value:function(e){var t=this;return new Promise((function(n,i){P()({method:"post",data:e,url:"".concat(t.base_url,"center/accepted-broadcast-request")}).then((function(e){n(e.data)})).catch((function(e){i(e)}))}))}},{key:"acceptBroadCastWithoutPayment",value:function(e){var t=this;return new Promise((function(n,i){P()({method:"post",data:e,url:"".concat(t.base_url,"center/accepted-broadcast-request-unpaid-ticket")}).then((function(e){n(e.data)})).catch((function(e){i(e)}))}))}},{key:"acceptTicketAfterPayment",value:function(e){var t=this;return new Promise((function(n,i){P()({method:"post",data:e,url:"".concat(t.base_url,"center/accept-ticket-after-payment")}).then((function(e){n(e.data)})).catch((function(e){i(e)}))}))}},{key:"rejectTicket",value:function(e){var t=this;return new Promise((function(n,i){P()({method:"post",data:e,url:"".concat(t.base_url,"center/reject-broadCast-technician")}).then((function(e){n(e.data)})).catch((function(e){i(e)}))}))}}]),e}(),ln={filterType:"dropdown",download:!1,print:!1},on=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).getFormattedAddress=function(e){return(null===e||void 0===e?void 0:e.house_number)+", "+(null===e||void 0===e?void 0:e.locality)+", "+(null===e||void 0===e?void 0:e.city)+", "+(null===e||void 0===e?void 0:e.state)+", "+(null===e||void 0===e?void 0:e.pincode)},i.closeDialog=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];i.setState({snackBarValues:{open:e,msg:"",duration:5e3,type:""}})},i.showDialog=function(e,t,n){i.setState({snackBarValues:{open:e,msg:n,duration:5e3,type:t}})},i.startLoading=function(){i.setState({is_loading:!0})},i.stopLoading=function(){i.setState({is_loading:!1})},i.state={broadCastList:[],columns:[{name:"date_created",label:"Date Created",options:{filter:!0,sort:!0}},{name:"Service",label:"Service",options:{filter:!0,sort:!0}},{name:"specific_requirement",label:"Specific requirement",options:{filter:!0,sort:!1}},{name:"address_details",label:"Address Details",options:{filter:!0,sort:!1}},{name:"status_of_ticket",label:"Status of Ticket",options:{filter:!0,sort:!1}},{name:"personal_details",label:"Customer Name",options:{filter:!0,sort:!1}},{name:"Action",label:"Action",options:{customBodyRender:function(e,t,n){var a,s;return console.log({value:e,tableMeta:t,updateValue:n}),Object(l.jsx)(l.Fragment,{children:"PENDING"==e.status_of_ticket?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("button",{onClick:function(){var t,n;return i.acceptTicket(e._id,null===e||void 0===e||null===(t=e.ticket_obj_id)||void 0===t||null===(n=t.admin_setting)||void 0===n?void 0:n.is_paid)},children:null!==e&&void 0!==e&&null!==(a=e.ticket_obj_id)&&void 0!==a&&null!==(s=a.admin_setting)&&void 0!==s&&s.is_paid?"Accept with payment":"Accept"}),Object(l.jsx)("button",{onClick:function(){return i.rejectTicket(e._id)},children:"Reject"})]}):""})}}}],snackBarValues:{open:!1,msg:"",duration:5e3,type:""},is_loading:!1},i}return Object(d.a)(n,[{key:"acceptFreeTicketWithoutPayment",value:function(){var e=Object(tn.a)(an.a.mark((function e(t){var n,i=this;return an.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.startLoading(),n={broadcast_obj_id:t},e.next=4,(new sn).acceptBroadCastWithoutPayment(n).then((function(e){i.getAllBroadCastTicket(),i.stopLoading()})).catch((function(e){var t,n;i.stopLoading(),console.log(e,"err"),i.showDialog(!0,"error",null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)}));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"acceptTicket",value:function(){var e=Object(tn.a)(an.a.mark((function e(t,n){var i,a=this;return an.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=3;break}return this.acceptFreeTicketWithoutPayment(t),e.abrupt("return");case 3:return console.log(t,"acceptTicket"),i={broadcast_obj_id:t},this.startLoading(),e.next=8,(new sn).acceptBroadCast(i).then(function(){var e=Object(tn.a)(an.a.mark((function e(t){var n,i,s,l,o,r,d;return an.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.stopLoading(),d={key:"rzp_test_fikJImuKNrlwfG",amount:t.data.payment_response.amount,name:"onit",description:"Ticket acceptance",order_id:t.data.payment_response.id,image:"https://cdn.razorpay.com/logos/7K3b6d18wHwKzL_medium.png",handler:function(){var e=Object(tn.a)(an.a.mark((function e(t){return an.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("response: ",t),e.next=3,(new sn).acceptTicketAfterPayment(t).then((function(e){alert("Payment success"),window.reload()})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),prefill:{name:null===(n=t.centerDetails)||void 0===n?void 0:n.center_name,contact:null===(i=t.centerDetails)||void 0===i||null===(s=i.personal_details)||void 0===s||null===(l=s.phone)||void 0===l?void 0:l.mobile_number,email:"demo@demo.com"},notes:{address:null===(o=t.centerDetails)||void 0===o||null===(r=o.address_details)||void 0===r?void 0:r.address_line},theme:{color:"#F37254",hide_topbar:!1}},new window.Razorpay(d).open();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){var t,n;a.showDialog(!0,"error",null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message),a.stopLoading(),console.log(e,"err")}));case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"rejectTicket",value:function(e){var t=this,n={broadcast_obj_id:e};this.startLoading(),(new sn).rejectTicket(n).then((function(e){t.stopLoading(),t.getAllBroadCastTicket()})).catch((function(e){var n,i;t.stopLoading(),t.showDialog(!0,"error",null===e||void 0===e||null===(n=e.response)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.message)}))}},{key:"componentDidMount",value:function(){this.getAllBroadCastTicket()}},{key:"getAllBroadCastTicket",value:function(){var e=this;this.startLoading(),(new sn).getAllBroadCastTicket().then((function(t){var n,i=null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.map((function(t){var n,i,a,s,l,o,r;return console.log("ite?.ticket_obj_id is",null===t||void 0===t||null===(n=t.ticket_obj_id)||void 0===n?void 0:n.specific_requirement,typeof t.ticket_obj_id),{date_created:new Date(null===t||void 0===t?void 0:t.createdAt).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"}),Service:null===t||void 0===t||null===(i=t.ticket_obj_id)||void 0===i||null===(a=i.service_provided_for)||void 0===a?void 0:a.service_name,specific_requirement:null===t||void 0===t||null===(s=t.ticket_obj_id)||void 0===s?void 0:s.specific_requirement,address_details:e.getFormattedAddress(null===t||void 0===t||null===(l=t.ticket_obj_id)||void 0===l?void 0:l.address_details),status_of_ticket:null===t||void 0===t?void 0:t.status_of_ticket,personal_details:null===t||void 0===t||null===(o=t.ticket_obj_id)||void 0===o||null===(r=o.personal_details)||void 0===r?void 0:r.name,Action:t}}));e.stopLoading(),e.setState({broadCastList:i})})).catch((function(t){var n,i;e.stopLoading(),console.log(t),e.showDialog(!0,"error",null===t||void 0===t||null===(n=t.response)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.message)}))}},{key:"render",value:function(){var e=this.state,t=e.snackBarValues;e.is_loading;return Object(l.jsxs)("div",{children:[Object(l.jsx)(de.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:this.state.is_loading,onClick:this.stopLoading,children:Object(l.jsx)(ce.a,{color:"inherit"})}),t.open&&Object(l.jsx)(_.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:t.open,autoHideDuration:t.duration,onClose:this.closeDialog,children:Object(l.jsx)(y.a,{onClose:this.closeDialog,severity:t.type,sx:{width:"100%"},children:t.msg})}),Object(l.jsx)(Q.a,{title:"New Tickets",data:this.state.broadCastList,columns:this.state.columns,options:ln})]})}}]),n}(i.Component),rn=on,dn=[{name:"name",label:"Name",options:{filter:!0,sort:!0}},{name:"email",label:"email",options:{filter:!0,sort:!1}},{name:"phone",label:"phone",options:{filter:!0,sort:!1}},{name:"ticket_created_by",label:"Ticket created by",options:{filter:!0,sort:!1}},{name:"address",label:"Address of ticket",options:{filter:!0,sort:!1}},{name:"broadcast_status",label:"Broad cast status",options:{filter:!0,sort:!1}},{name:"ticket_status",label:"Ticket status",options:{filter:!0,sort:!1}},{name:"service_provided_for",label:"Service provided for",options:{filter:!0,sort:!1}},{name:"assigned_center_name",label:"Assigned center name",options:{filter:!0,sort:!1}}],cn={filterType:"dropdown",download:!1,print:!1},un=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).state={ticketCreatedByList:[]},i}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.getAllTechnicians()}},{key:"getAllTechnicians",value:function(){var e=this;(new Z).getAllTicketCreatedByYou().then((function(t){var n,i=null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.map((function(e){var t,n,i,a,s,l,o,r,d,c,u,h,p,m,v,b,j,g;return{name:null===e||void 0===e||null===(t=e.personal_details)||void 0===t?void 0:t.name,email:null!==(n=null===e||void 0===e||null===(i=e.personal_details)||void 0===i?void 0:i.email)&&void 0!==n?n:"-",phone:(null===e||void 0===e||null===(a=e.personal_details)||void 0===a||null===(s=a.primary_phone)||void 0===s?void 0:s.country_code)+(null===e||void 0===e||null===(l=e.personal_details)||void 0===l||null===(o=l.primary_phone)||void 0===o?void 0:o.mobile_number),ticket_created_by:null===e||void 0===e||null===(r=e.created_by)||void 0===r?void 0:r.center_name,address:(null===e||void 0===e||null===(d=e.address_details)||void 0===d?void 0:d.house_number)+"  "+(null===e||void 0===e||null===(c=e.address_details)||void 0===c?void 0:c.locality)+" "+(null===e||void 0===e||null===(u=e.address_details)||void 0===u?void 0:u.city)+" "+(null===e||void 0===e||null===(h=e.address_details)||void 0===h?void 0:h.state)+" "+(null===e||void 0===e||null===(p=e.address_details)||void 0===p?void 0:p.country)+" "+(null===e||void 0===e||null===(m=e.address_details)||void 0===m?void 0:m.pincode),broadcast_status:null===e||void 0===e?void 0:e.broadcast_status,ticket_status:null===e||void 0===e?void 0:e.ticket_status,service_provided_for:null===e||void 0===e||null===(v=e.service_provided_for)||void 0===v?void 0:v.service_name,assigned_center_name:null!==(b=null===e||void 0===e||null===(j=e.assigned_ids)||void 0===j||null===(g=j.assigned_center_id)||void 0===g?void 0:g.center_name)&&void 0!==b?b:"-"}}));e.setState({ticketCreatedByList:i})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return Object(l.jsx)("div",{children:Object(l.jsx)(Q.a,{title:"Ticket created by you , not assigned to you",data:this.state.ticketCreatedByList,columns:dn,options:cn})})}}]),n}(i.Component),hn=240,pn=[{name:"Dashboard",path:"admin-dashboard"},{name:"Centers",path:"/admin-centers"},{name:"Add center",path:"/add-center"},{name:"All Tickets",path:"/Tickets"},{name:"Technicians",path:"/admin-technician"},{name:"Add Ticket",path:"/admin-ticket"},{name:"FeedBack",path:"/admin-feedBack"},{name:"Clients",path:"/admin-clients"},{name:"BroadCasted List",path:"/broad-casted-list"},{name:"Roles",path:"/roles"},{name:"Users",path:"/users"},{name:"Center Onboarders",path:"/admin-center-onboarders"}];var mn=function(e){var t=e.window,n=i.useState(!1),a=Object(ne.a)(n,2),o=a[0],r=a[1],d=function(){r(!o)},c=Object(s.g)(),u=Object(ve.c)(),h=Object(l.jsxs)("div",{children:[Object(l.jsx)(Je.a,{}),Object(l.jsx)(xe.a,{}),Object(l.jsxs)(be.a,{children:[pn.map((function(e,t){return Object(l.jsxs)(je.a,{onClick:function(){c.push(e.path)},button:!0,children:[Object(l.jsx)(ze.a,{children:t%2===0?Object(l.jsx)(Me.a,{}):Object(l.jsx)(He.a,{})}),Object(l.jsx)(ge.a,{primary:e.name})]},e.name)})),Object(l.jsxs)(je.a,{onClick:function(){p()},button:!0,children:[Object(l.jsx)(ze.a,{children:Object(l.jsx)(Me.a,{})}),Object(l.jsx)(ge.a,{primary:"Logout"})]})]})]}),p=function(){u(Object(et.a)({adminDetails:{},isAdminLoggedIn:!1,userTokens:{accessToken:""}})),c.push("/admin-login")},m=void 0!==t?function(){return t().document.body}:void 0;return Object(l.jsxs)(ie.a,{sx:{display:"flex"},children:[Object(l.jsx)(Ge.a,{}),Object(l.jsx)(Le.a,{position:"fixed",sx:{width:{sm:"calc(100% - ".concat(hn,"px)")},ml:{sm:"".concat(hn,"px")}},children:Object(l.jsxs)(Je.a,{children:[Object(l.jsx)(qe.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:d,sx:{mr:2,display:{sm:"none"}},children:Object(l.jsx)(Ke.a,{})}),Object(l.jsx)(k.a,{variant:"h6",noWrap:!0,component:"div",children:"Admin"})]})}),Object(l.jsxs)(ie.a,{component:"nav",sx:{width:{sm:hn},flexShrink:{sm:0}},"aria-label":"mailbox folders",children:[Object(l.jsx)(Ve.a,{container:m,variant:"temporary",open:o,onClose:d,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:hn}},children:h}),Object(l.jsx)(Ve.a,{variant:"permanent",sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:hn}},open:!0,children:h})]})]})},vn=n(177),bn=240,jn=[{name:"View Centers",path:"/center-onboard-view-centers"}];var gn=function(e){var t=e.window,n=i.useState(!1),a=Object(ne.a)(n,2),o=a[0],r=a[1],d=function(){r(!o)},c=Object(ve.d)((function(e){return e.centerOnboardReducer})),u=Object(s.g)(),h=Object(ve.c)(),p=Object(l.jsxs)("div",{children:[Object(l.jsx)(Je.a,{}),Object(l.jsx)(xe.a,{}),Object(l.jsxs)(be.a,{children:[jn.map((function(e,t){return Object(l.jsxs)(je.a,{onClick:function(){u.push(e.path)},button:!0,children:[Object(l.jsx)(ze.a,{children:t%2===0?Object(l.jsx)(Me.a,{}):Object(l.jsx)(He.a,{})}),Object(l.jsx)(ge.a,{primary:e.name})]},e.name)})),Object(l.jsxs)(je.a,{onClick:function(){m()},button:!0,children:[Object(l.jsx)(ze.a,{children:Object(l.jsx)(Me.a,{})}),Object(l.jsx)(ge.a,{primary:"Logout"})]})]})]}),m=function(){h(Object(vn.a)({centerOnboardDetails:{},isCenterOnboardLoggedIn:!1,userTokens:{accessToken:""}})),u.push("/center-onboard-login")},v=void 0!==t?function(){return t().document.body}:void 0;return Object(l.jsxs)(ie.a,{sx:{display:"flex"},children:[Object(l.jsx)(Ge.a,{}),Object(l.jsx)(Le.a,{position:"fixed",sx:{width:{sm:"calc(100% - ".concat(bn,"px)")},ml:{sm:"".concat(bn,"px")}},children:Object(l.jsxs)(Je.a,{children:[Object(l.jsx)(qe.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:d,sx:{mr:2,display:{sm:"none"}},children:Object(l.jsx)(Ke.a,{})}),Object(l.jsxs)(k.a,{variant:"h6",noWrap:!0,component:"div",children:["Welcome ",c.centerOnboardDetails.name]})]})}),Object(l.jsxs)(ie.a,{component:"nav",sx:{width:{sm:bn},flexShrink:{sm:0}},"aria-label":"mailbox folders",children:[Object(l.jsx)(Ve.a,{container:v,variant:"temporary",open:o,onClose:d,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:bn}},children:p}),Object(l.jsx)(Ve.a,{variant:"permanent",sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:bn}},open:!0,children:p})]})]})},xn={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},On={inputBox:{width:"100%",marginBottom:"10px"},gridStyle:{width:"80%",margin:"auto"},paddingInnerGrids:{paddingRight:"10px",paddingLeft:"10px",paddingTop:"10px"}};function fn(e){var t=e.getAllServicesExists,n=e.isUpdate,s=e.serviceId,o=e.serviceNameProp,r=a.a.useState(!1),d=Object(ne.a)(r,2),c=d[0],u=d[1],h=a.a.useState(""),m=Object(ne.a)(h,2),v=m[0],j=m[1],g=a.a.useState({open:!1,msg:"",duration:5e3,type:""}),x=Object(ne.a)(g,2),O=x[0],C=x[1];Object(i.useEffect)((function(){n&&j(o)}),[]);var w=function(){return u(!1)},S=function(e,t,n){C({open:e,msg:n,duration:5e3,type:t})},A=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];C({open:e,msg:"",duration:5e3,type:""})};return Object(l.jsxs)("div",{children:[O.open&&Object(l.jsx)(_.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:O.open,autoHideDuration:O.duration,onClose:A,children:Object(l.jsx)(y.a,{onClose:A,severity:O.type,sx:{width:"100%"},children:O.msg})}),Object(l.jsx)("div",{className:"add-service-button",children:Object(l.jsx)(f.a,{onClick:function(){return u(!0)},className:"text-transform-none",variant:"contained",children:n?"Edit Service":"Add a Service"})}),Object(l.jsx)(ae.a,{open:c,onClose:w,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(l.jsxs)(ie.a,{sx:xn,children:[Object(l.jsx)(k.a,{id:"modal-modal-title",variant:"h6",component:"h2",children:n?"Edit Service":"Add a Service"}),Object(l.jsx)(p.a,{style:On.paddingInnerGrids,item:!0,children:Object(l.jsx)(b.a,{helperText:"Please provide service name",id:"demo-helper-text-misaligned",label:"Service Name",style:On.inputBox,name:"serviceName",value:v,onChange:function(e){return function(e){var t=e.target.value.toUpperCase();j(t)}(e)}})}),Object(l.jsx)(p.a,{style:On.paddingInnerGrids,item:!0,children:Object(l.jsx)(f.a,{variant:"contained",onClick:n?function(){return function(){var e={service_object_id:s,service_name:v};(new te).updateService(e).then((function(e){e&&(w(),S(!0,"success","Service updated successfully")),t()})).catch((function(e){var t,n;console.log(e),S(!0,"error",null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)}))}()}:function(){return function(){var e={service_name:v};(new te).addService(e).then((function(e){e&&(w(),S(!0,"success","Service saved successfully")),t()})).catch((function(e){var t,n;console.log(e),S(!0,"error",null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)}))}()},disabled:!v,children:n?"Update":"Save"})})]})})]})}var _n=n(923),yn=n(927),Cn=n(926),kn=n(922),wn=n(924),Sn=n(925),An=n(928),Dn=n(929),Pn=n(903);function Tn(e){var t=e.servicesList,n=(e.onDeleteService,e.getAllServicesExists),a=Object(i.useState)(!0),s=Object(ne.a)(a,2);s[0],s[1];return Object(l.jsx)(kn.a,{component:v.a,children:Object(l.jsxs)(_n.a,{sx:{minWidth:650},"aria-label":"simple table",children:[Object(l.jsx)(wn.a,{children:Object(l.jsxs)(Sn.a,{children:[Object(l.jsx)(Cn.a,{children:"Service Name"}),Object(l.jsx)(Cn.a,{children:"Service Status"}),Object(l.jsx)(Cn.a,{children:"Action"})]})}),Object(l.jsx)(yn.a,{children:t&&t.length>0&&t.map((function(e){return Object(l.jsxs)(Sn.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(l.jsx)(Cn.a,{component:"th",scope:"row",children:e.service_name}),Object(l.jsx)(Cn.a,{component:"th",scope:"row",children:Object(l.jsx)(An.a,{children:Object(l.jsx)(Dn.a,{control:Object(l.jsx)(Pn.a,{checked:e.is_active,onChange:function(t){return function(e,t){console.log("event is",e.target.value,e.target.checked);var i=e.target.checked?1:0;console.log("isActive value",i);var a={service_object_id:t,is_active:i};(new te).updateServiceStatus(a).then((function(e){n()})).catch((function(e){console.log(e)}))}(t,e._id)}}),label:e.is_active?"ACTIVE":"IN_ACTIVE"})})}),Object(l.jsx)(Cn.a,{children:Object(l.jsx)(fn,{getAllServicesExists:n,isUpdate:!0,serviceId:e._id,serviceNameProp:e.service_name})})]},e.service_name)}))})]})})}function In(){var e,t,n,a,s,o,r,d=Object(i.useState)([]),c=Object(ne.a)(d,2),u=c[0],h=c[1],p=Object(ve.d)((function(e){return e.userReducer})),m=Object(i.useState)({open:!1,msg:"",duration:5e3,type:""}),v=Object(ne.a)(m,2),b=v[0],j=v[1],g=function(e,t,n){j({open:e,msg:n,duration:5e3,type:t})},x=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];j({open:e,msg:"",duration:5e3,type:""})},O=function(){(new I).getAllServices().then((function(e){h(e.data)})).catch((function(e){console.log(e)}))};Object(i.useEffect)((function(){O()}),[]);return Object(l.jsxs)("div",{children:[b.open&&Object(l.jsx)(_.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:b.open,autoHideDuration:b.duration,onClose:x,children:Object(l.jsx)(y.a,{onClose:x,severity:b.type,sx:{width:"100%"},children:b.msg})}),"Admin Dashboard",(null===p||void 0===p||null===(e=p.adminDetails)||void 0===e||null===(t=e.role_id)||void 0===t||null===(n=t.permissions)||void 0===n?void 0:n.add_new_services)&&Object(l.jsx)(fn,{getAllServicesExists:O}),null!==p&&void 0!==p&&null!==(a=p.adminDetails)&&void 0!==a&&null!==(s=a.role_id)&&void 0!==s&&null!==(o=s.permissions)&&void 0!==o&&null!==(r=o.view_services_list)&&void 0!==r&&r.full_access?Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(Tn,{servicesList:u,onDeleteService:function(e){var t={serviceId:e};(new te).deleteService(t).then((function(e){e&&g(!0,"success","Service deleted successfully"),O()})).catch((function(e){var t,n;console.log(e),g(!0,"error",null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)}))},getAllServicesExists:O})}):"No access to view services , contact admin"]})}function Fn(){return Object(l.jsx)("div",{children:"Admin BroadcastTickets"})}var Rn=Object(m.a)(v.a)((function(e){var t=e.theme;return Object(h.a)(Object(h.a)({backgroundColor:"dark"===t.palette.mode?"#1A2027":"#fff"},t.typography.body2),{},{padding:t.spacing(1),textAlign:"center",color:t.palette.text.secondary})})),En=(Object(m.a)("input")({display:"none"}),{inputBox:{width:"100%",marginBottom:"10px"},gridStyle:{width:"80%",margin:"auto"},paddingInnerGrids:{paddingRight:"10px",paddingLeft:"10px",paddingTop:"10px"}}),Bn=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).showDialog=function(e,t,n){i.setState({toast:{open:e,msg:n,duration:5e3,type:t}})},i.closeDialog=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];i.setState({toast:{open:e,msg:"",duration:5e3,type:""}})},i.handleChange=function(e){var t=e.target,n=t.name,a=t.value;"pincode"!=n?i.setState(Object(o.a)({},n,a),(function(){console.log(i.state)})):a.length<=6&&i.setState({pincode:a})},i.handleRegister=function(){var e=i.state,t=e.clientName,n=e.officialEmail,a=e.clientPocPersonName,s=e.clientPocPersonDesignation,l=e.clientPocPhone,o=e.addressLine,r=e.city,d=e.state,c=e.pincode,u=e.country,h=e.gstNumber;if(!(t&&n&&a&&s&&l&&o&&r&&d&&c&&u&&h))return i.setState({isFormValid:!0}),void i.showDialog(!0,"error","Please fill in all required details");i.setState({isRegistering:!0});var p={client_name:t,official_email:n,client_poc:{person_name:a,person_designation:s,phone:{country_code:"+91",mobile_number:l}},address_details:{address_line:o,city:r,state:d,pincode:c,country:u},gst_number:h};(new te).addClient(p).then((function(e){i.showDialog(!0,"success","Client Created successfully"),i.setState({isRegistering:!1}),i.componentDidMount()})).catch((function(e){var t,n;console.log(e),i.setState({isRegistering:!1}),i.showDialog(!0,"error",null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)}))},i.state={clientName:"",officialEmail:"",clientPocPersonName:"",clientPocPersonDesignation:"",clientPocPhone:"",addressLine:"",city:"",state:"",pincode:"",country:"INDIA",gstNumber:"",toast:{open:!1,msg:"",duration:5e3,type:""},isFormValid:!1,servicesList:[],isRegistering:!1},i}return Object(d.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.state,n=t.toast,i=t.isFormValid,a=t.clientName,s=t.officialEmail,o=t.clientPocPersonName,r=t.clientPocPersonDesignation,d=t.clientPocPhone,c=t.addressLine,u=t.city,h=t.state,m=t.pincode,v=t.country,w=t.gstNumber;return Object(l.jsxs)("div",{children:[n.open&&Object(l.jsx)(_.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:n.open,autoHideDuration:n.duration,onClose:this.closeDialog,children:Object(l.jsx)(y.a,{onClose:this.closeDialog,severity:n.type,sx:{width:"100%"},children:n.msg})}),Object(l.jsx)("h2",{className:"text-align-center",children:"Add a Client"}),Object(l.jsx)(Rn,{children:Object(l.jsxs)(p.a,{container:!0,children:[Object(l.jsx)(p.a,{item:!0,style:En.paddingInnerGrids,md:12,children:Object(l.jsx)(b.a,{helperText:"Please provide client's name",id:"demo-helper-text-misaligned",label:"Client Name",style:En.inputBox,name:"clientName",value:a,onChange:this.handleChange,error:i&&!a,required:!0})}),Object(l.jsx)(p.a,{item:!0,style:En.paddingInnerGrids,md:12,children:Object(l.jsx)(b.a,{helperText:"Please provide official email",id:"demo-helper-text-misaligned",label:"Official Email",style:En.inputBox,name:"officialEmail",value:s,onChange:this.handleChange,error:i&&!s,type:"email",required:!0})}),Object(l.jsx)(p.a,{item:!0,style:En.paddingInnerGrids,md:12,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Point of Contact Person Name",style:En.inputBox,name:"clientPocPersonName",value:o,onChange:this.handleChange,error:i&&!o,required:!0})}),Object(l.jsx)(p.a,{item:!0,style:En.paddingInnerGrids,md:12,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Point of contact person designation",style:En.inputBox,name:"clientPocPersonDesignation",value:r,onChange:this.handleChange,error:i&&!r,required:!0})}),Object(l.jsx)(p.a,{item:!0,style:En.paddingInnerGrids,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Point of contact phone number",style:En.inputBox,name:"clientPocPhone",value:d,onChange:this.handleChange,error:i&&!d,InputProps:{startAdornment:Object(l.jsx)(C.a,{position:"start",children:Object(l.jsx)(k.a,{children:"+91"})})},inputProps:{maxLength:10},required:!0})}),Object(l.jsx)(p.a,{style:En.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Address",style:En.inputBox,name:"addressLine",value:c,onChange:this.handleChange})}),Object(l.jsx)(p.a,{style:En.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"City",style:En.inputBox,name:"city",value:u,onChange:this.handleChange})}),Object(l.jsx)(p.a,{style:En.paddingInnerGrids,item:!0,md:6,children:Object(l.jsxs)(x.a,{md:6,style:En.inputBox,sx:{minWidth:120},children:[Object(l.jsx)(j.a,{id:"demo-simple-select-helper-label",children:"State"}),Object(l.jsx)(O.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",label:"State",name:"state",onChange:this.handleChange,value:h,children:null===R||void 0===R?void 0:R.map((function(e){return Object(l.jsx)(g.a,{value:e.value,children:e.value})}))})]})}),Object(l.jsx)(p.a,{style:En.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Service Area Pincode (main)",style:En.inputBox,name:"pincode",type:"number",value:m,onChange:this.handleChange,error:i&&!m,required:!0})}),Object(l.jsx)(p.a,{style:En.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Country",style:En.inputBox,name:"country",value:v,onChange:this.handleChange,disabled:!0})}),Object(l.jsx)(p.a,{style:En.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"GST Number",style:En.inputBox,name:"gstNumber",value:w,onChange:this.handleChange})}),Object(l.jsx)(p.a,{style:En.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(f.a,{variant:"contained",onClick:function(){return e.handleRegister()},disabled:this.state.isRegistering,children:"SUBMIT"})})]})})]})}}]),n}(i.Component),Nn=Bn,Ln={filterType:"dropdown"},Gn=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).componentDidMount=function(){i.getAllClients()},i.getParsedData=function(e){return e&&e.length>0&&e.map((function(e){var t,n,i,a,s,l,o,r,d,c,u;return{clientId:(null===e||void 0===e?void 0:e.client_id)||"-",clientName:null===e||void 0===e?void 0:e.client_name,officialEmail:null===e||void 0===e?void 0:e.official_email,pocName:null===e||void 0===e||null===(t=e.client_poc)||void 0===t?void 0:t.person_name,pocDesignation:null===e||void 0===e||null===(n=e.client_poc)||void 0===n?void 0:n.person_designation,pocPhone:(null===e||void 0===e||null===(i=e.client_poc)||void 0===i||null===(a=i.phone)||void 0===a?void 0:a.country_code)+(null===e||void 0===e||null===(s=e.client_poc)||void 0===s||null===(l=s.phone)||void 0===l?void 0:l.mobile_number),addressLine:null===e||void 0===e||null===(o=e.address_details)||void 0===o?void 0:o.address_line,city:null===e||void 0===e||null===(r=e.address_details)||void 0===r?void 0:r.city,state:null===e||void 0===e||null===(d=e.address_details)||void 0===d?void 0:d.state,pincode:null===e||void 0===e||null===(c=e.address_details)||void 0===c?void 0:c.pincode,country:null===e||void 0===e||null===(u=e.address_details)||void 0===u?void 0:u.country,gstNumber:null===e||void 0===e?void 0:e.gst_number,createdAt:null===e||void 0===e?void 0:e.createdAt,action:e}}))},i.deleteClient=function(e){console.log("client id is",e);var t={clientId:e};(new te).deleteClient(t).then((function(e){i.getAllClients()})).catch((function(e){console.log(e)}))},i.state={columnsList:[{name:"clientId",label:"Client Id",options:{filter:!0,sort:!0}},{name:"clientName",label:"Client Name",options:{filter:!0,sort:!0}},{name:"officialEmail",label:"Official Email",options:{filter:!0,sort:!1}},{name:"pocName",label:"POC Name",options:{filter:!0,sort:!1}},{name:"pocDesignation",label:"POC Designation",options:{filter:!0,sort:!1}},{name:"pocPhone",label:"POC Phone",options:{filter:!0,sort:!1}},{name:"addressLine",label:"Address Line",options:{filter:!0,sort:!1}},{name:"city",label:"City",options:{filter:!0,sort:!1}},{name:"state",label:"State",options:{filter:!0,sort:!1}},{name:"pincode",label:"Pincode",options:{filter:!0,sort:!1}},{name:"country",label:"Country",options:{filter:!0,sort:!1}},{name:"gstNumber",label:"GST Number",options:{filter:!0,sort:!1}},{name:"createdAt",label:"Created At",options:{filter:!0,sort:!1}},{name:"action",label:"Actions",options:{customBodyRender:function(e,t,n){return console.log({value:e,tableMeta:t,updateValue:n}),Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(f.a,{onClick:function(){return i.deleteClient(null===e||void 0===e?void 0:e._id)},variant:"contained",color:"primary",children:"Delete"})})}}}],clientsList:[]},i.deleteClient=i.deleteClient.bind(Object(at.a)(i)),i}return Object(d.a)(n,[{key:"getAllClients",value:function(){var e=this;(new te).getAllClients().then((function(t){var n=[];t&&t.data&&t.data.length>0&&(n=e.getParsedData(t.data)),console.log("parsed data",n),e.setState({clientsList:n})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e,t,n,i,a,s,o,r,d;return Object(l.jsxs)("div",{children:[null!==(e=this.props.reduxState)&&void 0!==e&&null!==(t=e.adminDetails)&&void 0!==t&&null!==(n=t.role_id)&&void 0!==n&&null!==(i=n.permissions)&&void 0!==i&&null!==(a=i.view_clients)&&void 0!==a&&a.full_access?Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{children:Object(l.jsx)(Q.a,{title:"Clients",data:this.state.clientsList,columns:this.state.columnsList,options:Ln})})}):"No access to view client contact admin",Object(l.jsx)("br",{}),null!==(s=this.props.reduxState)&&void 0!==s&&null!==(o=s.adminDetails)&&void 0!==o&&null!==(r=o.role_id)&&void 0!==r&&null!==(d=r.permissions)&&void 0!==d&&d.add_clients?Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{children:Object(l.jsx)(Nn,{})})}):"No access add client contact admin"]})}}]),n}(i.Component),Vn=Object(ve.b)((function(e){return{reduxState:e.userReducer}}),null)(Object(s.i)(Gn)),qn=n(930),Un=n(908),Mn=n(262),zn=n.n(Mn),Wn={flex:1,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function Hn(e){var t=e.open,n=e.handleClose,i=e.viewfeedback;return Object(l.jsx)("div",{children:Object(l.jsx)(ae.a,{open:t,onClose:n,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(l.jsx)(ie.a,{sx:Wn,children:Object(l.jsx)(be.a,{sx:{width:"100%",maxWidth:360,bgcolor:"background.paper"},children:null!==i&&void 0!==i&&i.length?null===i||void 0===i?void 0:i.map((function(e){return Object(l.jsxs)(je.a,{children:[Object(l.jsx)(qn.a,{children:Object(l.jsx)(Un.a,{children:Object(l.jsx)(zn.a,{})})}),Object(l.jsx)(ge.a,{primary:(null===e||void 0===e?void 0:e.question)+" ? ",secondary:null===e||void 0===e?void 0:e.answer})]})})):"No feed back given"})})})})}var Yn=n(198),Kn=n.n(Yn),Jn=n(199),Qn=n.n(Jn),Zn={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"65%",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4,height:"80%",overflowY:"scroll"},$n={width:"100%",maxWidth:"100%",bgcolor:"background.paper"},Xn={textAlignLeft:{textAlign:"left"},textAlignEnd:{textAlign:"end"}},ei=function(e){var t=e.roleObject;return console.log("roleObject is",t),Object(l.jsx)(be.a,{sx:$n,component:"nav","aria-label":"mailbox folders",children:Object.keys(t).map((function(e){return Object(l.jsxs)("div",{children:[Object(l.jsxs)(je.a,{button:!0,children:[Object(l.jsx)(ge.a,{sx:Xn.textAlignLeft,children:e}),Object(l.jsx)(ge.a,{sx:Xn.textAlignEnd,children:t[e]?Object(l.jsx)(qe.a,{color:"success",children:Object(l.jsx)(Kn.a,{})}):Object(l.jsx)(qe.a,{color:"error",children:Object(l.jsx)(Qn.a,{})})})]}),Object(l.jsx)(xe.a,{})]})}))})};function ti(e){var t=e.isViewRoleOpen,n=e.handleCloseViewRole,i=e.roleObject;return Object(l.jsx)("div",{children:Object(l.jsx)(ae.a,{open:t,onClose:n,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(l.jsxs)(ie.a,{sx:Zn,children:[Object(l.jsx)("h2",{children:"Permissions"}),Object(l.jsx)(ei,{roleObject:i})]})})})}var ni=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).parseRoleObject=function(e){var t,n,i,a,s,l,o,r,d,c,u,h,p,m,v,b,j,g,x,O,f,_,y,C,k,w,S,A,D,P,T,I,F,R,E,B,N,L,G,V,q;return{addCenter:null===e||void 0===e||null===(t=e.permissions)||void 0===t?void 0:t.add_center,updateCenterFullAccess:null===e||void 0===e||null===(n=e.permissions)||void 0===n||null===(i=n.update_center)||void 0===i?void 0:i.full_access,deleteCenter:null===e||void 0===e||null===(a=e.permissions)||void 0===a?void 0:a.delete_center,viewCenterDetailsFullAccess:null===e||void 0===e||null===(s=e.permissions)||void 0===s||null===(l=s.view_center_details)||void 0===l?void 0:l.full_access,viewCenterDetailsViewPincode:null===e||void 0===e||null===(o=e.permissions)||void 0===o||null===(r=o.view_center_details)||void 0===r?void 0:r.view_pincode,addTechnician:null===e||void 0===e||null===(d=e.permissions)||void 0===d?void 0:d.add_technician,updateTechnicianFullAccess:null===e||void 0===e||null===(c=e.permissions)||void 0===c||null===(u=c.update_technician)||void 0===u?void 0:u.full_access,deleteTechnician:null===e||void 0===e||null===(h=e.permissions)||void 0===h?void 0:h.delete_technician,viewTechnicianDetailsFullAccess:null===e||void 0===e||null===(p=e.permissions)||void 0===p||null===(m=p.view_technician_details)||void 0===m?void 0:m.full_access,viewTechnicianDetailsTechnicianPhone:null===e||void 0===e||null===(v=e.permissions)||void 0===v||null===(b=v.view_technician_details)||void 0===b?void 0:b.technician_phone,viewDashboardFullAccess:null===e||void 0===e||null===(j=e.permissions)||void 0===j?void 0:j.view_dashboard_full_access,addNewServices:null===e||void 0===e||null===(g=e.permissions)||void 0===g?void 0:g.add_new_services,updateServicesFullAccess:null===e||void 0===e||null===(x=e.permissions)||void 0===x||null===(O=x.update_services)||void 0===O?void 0:O.full_access,inActiveActive:null===e||void 0===e||null===(f=e.permissions)||void 0===f?void 0:f.inactive_active,viewServicesListFullAccess:null===e||void 0===e||null===(_=e.permissions)||void 0===_||null===(y=_.view_services_list)||void 0===y?void 0:y.full_access,addTicket:null===e||void 0===e||null===(C=e.permissions)||void 0===C?void 0:C.add_ticket,editTicketFullAccess:null===e||void 0===e||null===(k=e.permissions)||void 0===k||null===(w=k.edit_ticket)||void 0===w?void 0:w.full_access,deleteTicket:null===e||void 0===e||null===(S=e.permissions)||void 0===S?void 0:S.delete_ticket,viewTicketFullAccess:null===e||void 0===e||null===(A=e.permissions)||void 0===A||null===(D=A.view_ticket)||void 0===D?void 0:D.full_access,addClients:null===e||void 0===e||null===(P=e.permissions)||void 0===P?void 0:P.add_clients,editClientsFullAccess:null===e||void 0===e||null===(T=e.permissions)||void 0===T||null===(I=T.edit_clients)||void 0===I?void 0:I.full_access,viewClientsFullAccess:null===e||void 0===e||null===(F=e.permissions)||void 0===F||null===(R=F.view_clients)||void 0===R?void 0:R.full_access,viewBroadcastedListFullAccess:null===e||void 0===e||null===(E=e.permissions)||void 0===E?void 0:E.view_broadcastedList,addRole:null===e||void 0===e||null===(B=e.permissions)||void 0===B?void 0:B.add_role,editRoleFullAccess:null===e||void 0===e||null===(N=e.permissions)||void 0===N||null===(L=N.edit_role_permissions)||void 0===L?void 0:L.full_access,deleteRole:null===e||void 0===e||null===(G=e.permissions)||void 0===G?void 0:G.delete_role,viewRoleFullAccess:null===e||void 0===e||null===(V=e.permissions)||void 0===V||null===(q=V.view_role)||void 0===q?void 0:q.full_access}},i.handleViewRole=function(e){var t=i.parseRoleObject(e);console.log("roleObjectValue is",t),i.setState({isViewRoleOpen:!0,selectedRole:t})},i.handleCloseViewRole=function(){i.setState({isViewRoleOpen:!1})},i.toggleOpenFeedBackPopup=function(e){i.setState({isOpenFeedBackPopup:!0,viewfeedback:e})},i.toggleCloseFeedBackPopup=function(){i.setState({isOpenFeedBackPopup:!1,viewfeedback:[]})},i.componentDidMount=function(){i.getAllAvailableRoles()},i.getFormattedServices=function(e){console.log(e);var t=[];return e&&e.length>0&&e.map((function(e){t.push(e.secondary_services_id.service_name)})),t.length>0?t.join(", "):""},i.getParsedData=function(e){return e&&e.length>0&&e.map((function(e){var t,n,i,a,s,l,o,r,d,c,u,h,p,m,v,b,j,g,x,O,f,_,y,C,k,w,S,A,D;return{center_id:null===(t=e.center_obj_id)||void 0===t||null===(n=t.qr_details)||void 0===n?void 0:n.qr_id,center_name:null===(i=e.center_obj_id)||void 0===i?void 0:i.center_name,ticket_id:null===e||void 0===e||null===(a=e.ticket_obj_id)||void 0===a?void 0:a._id,technicianName:null===e||void 0===e||null===(s=e.ticket_obj_id)||void 0===s||null===(l=s.assigned_ids)||void 0===l||null===(o=l.assigned_technician_id)||void 0===o||null===(r=o.personal_details)||void 0===r?void 0:r.name,technicianPhone:null===e||void 0===e||null===(d=e.ticket_obj_id)||void 0===d||null===(c=d.assigned_ids)||void 0===c||null===(u=c.assigned_technician_id)||void 0===u||null===(h=u.personal_details)||void 0===h||null===(p=h.phone)||void 0===p?void 0:p.mobile_number,Address:(null===e||void 0===e||null===(m=e.ticket_obj_id)||void 0===m||null===(v=m.address_details)||void 0===v?void 0:v.house_number)+" "+(null===e||void 0===e||null===(b=e.ticket_obj_id)||void 0===b||null===(j=b.address_details)||void 0===j?void 0:j.locality)+" "+(null===e||void 0===e||null===(g=e.ticket_obj_id)||void 0===g||null===(x=g.address_details)||void 0===x?void 0:x.city)+" "+(null===e||void 0===e||null===(O=e.ticket_obj_id)||void 0===O||null===(f=O.address_details)||void 0===f?void 0:f.state)+" "+(null===e||void 0===e||null===(_=e.ticket_obj_id)||void 0===_||null===(y=_.address_details)||void 0===y?void 0:y.country),customer_name:null===e||void 0===e||null===(C=e.ticket_obj_id)||void 0===C||null===(k=C.personal_details)||void 0===k?void 0:k.name,customer_number:null===e||void 0===e||null===(w=e.ticket_obj_id)||void 0===w||null===(S=w.personal_details)||void 0===S||null===(A=S.alternate_phone)||void 0===A?void 0:A.mobile_number,FeedBack:JSON.stringify(null===e||void 0===e?void 0:e.feedBackResponse),viewfeedback:null===e||void 0===e?void 0:e.feedBackResponse,over_all_rating:null===e||void 0===e?void 0:e.over_all_rating,is_aldready_submitted:null!==e&&void 0!==e&&e.is_aldready_submitted?"Yes":"No",View_ticket:null===e||void 0===e||null===(D=e.ticket_obj_id)||void 0===D?void 0:D._id}}))},i.handleAddRole=function(){i.props.history.push("/add-role")},i.handleClose=function(){i.setState({isRoleEdit:!1})},i.handleEditRole=function(e){i.props.history.push("/add-role?edit="+e)},i.state={rolesList:[],isRoleEdit:!1,viewfeedback:[],isOpenFeedBackPopup:!1,isViewRoleOpen:!1,selectedRole:{}},i}return Object(d.a)(n,[{key:"getAllAvailableRoles",value:function(){var e=this;(new te).getAllAvailableRoles().then((function(t){var n=[];t&&t.data&&t.data.length>0&&(n=t.data),e.setState({rolesList:n})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e,t,n,i,a,s,o,r,d,c=this,u=this.state.rolesList;return Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:"add-service-button",children:(null===(e=this.props.reduxState)||void 0===e||null===(t=e.adminDetails)||void 0===t||null===(n=t.role_id)||void 0===n||null===(i=n.permissions)||void 0===i?void 0:i.add_role)&&Object(l.jsx)(f.a,{variant:"contained",className:"text-transform-none",onClick:this.handleAddRole,children:"Add a Role"})}),Object(l.jsx)("div",{children:null!==(a=this.props.reduxState)&&void 0!==a&&null!==(s=a.adminDetails)&&void 0!==s&&null!==(o=s.role_id)&&void 0!==o&&null!==(r=o.permissions)&&void 0!==r&&null!==(d=r.view_role)&&void 0!==d&&d.full_access?Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(kn.a,{component:v.a,children:Object(l.jsxs)(_n.a,{sx:{minWidth:650},"aria-label":"simple table",children:[Object(l.jsx)(wn.a,{children:Object(l.jsxs)(Sn.a,{children:[Object(l.jsx)(Cn.a,{children:"Role Name"}),Object(l.jsx)(Cn.a,{children:"Action"})]})}),Object(l.jsx)(yn.a,{children:u&&u.length>0&&u.map((function(e){return Object(l.jsxs)(Sn.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(l.jsx)(Cn.a,{component:"th",scope:"row",children:e.role_name}),Object(l.jsx)(Cn.a,{component:"th",scope:"row",children:Object(l.jsx)(f.a,{variant:"outlined",onClick:function(){return c.handleEditRole(e._id)},children:"Edit Role"})}),Object(l.jsx)(Cn.a,{component:"th",scope:"row",children:Object(l.jsx)(f.a,{variant:"outlined",onClick:function(){return c.handleViewRole(e)},children:"View Role"})})]},e._id)}))})]})})}):"No access to view role , contact admin"}),Object(l.jsx)("div",{children:Object(l.jsx)(ti,{isViewRoleOpen:this.state.isViewRoleOpen,handleCloseViewRole:this.handleCloseViewRole,roleObject:this.state.selectedRole})})]})}}]),n}(i.Component),ii=Object(ve.b)((function(e){return{reduxState:e.userReducer}}),null)(Object(s.i)(ni)),ai=Object(m.a)(v.a)((function(e){var t=e.theme;return Object(h.a)(Object(h.a)({backgroundColor:"dark"===t.palette.mode?"#1A2027":"#fff"},t.typography.body2),{},{padding:t.spacing(1),textAlign:"center",color:t.palette.text.secondary})})),si={inputBox:{width:"100%",marginBottom:"10px"},gridStyle:{width:"80%",margin:"auto"},paddingInnerGrids:{paddingRight:"10px",paddingLeft:"10px",paddingTop:"10px"}},li=["IMMEDIATELY","WITHIN_24_HOURS","SPECIFIC_DATE_AND_TIME"],oi=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).showDialog=function(e,t,n){i.setState({toast:{open:e,msg:n,duration:5e3,type:t}})},i.closeDialog=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];i.setState({toast:{open:e,msg:"",duration:5e3,type:""}})},i.handleChange=function(e){var t=e.target,n=t.name,a=t.value;i.setState(Object(o.a)({},n,a),(function(){console.log(i.state)}))},i.handleChangeCheckBox=function(e){i.setState({is_paid:e.target.checked})},i.handleRegister=function(){var e=i.state,t=e.serviceRequired,n=e.specificRequirement,a=e.name,s=e.phoneNumber,l=e.alternatePhoneNumber,o=e.houseNumber,r=e.locality,d=e.city,c=e.state,u=e.is_paid,h=e.country,p=e.pincode,m=e.timePreference,v=e.authorizedForClient,b=e.offerCode;if(!(t&&a&&s&&o&&p&&m&&b))return i.setState({isFormValid:!0}),void i.showDialog(!0,"error","Please fill in all required details");if(i.setState({isRegistering:!0}),"SPECIFIC_DATE_AND_TIME"!=i.state.timePreference||i.state.specific_date_time){var j={personal_details:{primary_phone:{country_code:"+91",mobile_number:s},alternate_phone:{country_code:l.length>0?"+91":"",mobile_number:l},name:a},specific_requirement:n,service_provided_for:t,address_details:{house_number:o,locality:r,city:d,state:c,pincode:p,country:h},time_preference:{time_preference_type:m,specific_date_time:i.state.specific_date_time},offers_applied:{offer_code:b},is_paid:u};if(v&&(j.authorized_client_id=v),i.state.isEditDetailsExists)return j.ticket_obj_id=i.getTicketObjIdForEdit(),j.closing_ticket_price=i.state.closing_ticket_price||"",j.admin_remarks=i.state.admin_remarks||"",delete j.is_paid,delete j.authorized_client_id,void(new te).updateTicket(j).then((function(e){i.showDialog(!0,"success","Ticket updated successfully"),i.setState({isRegistering:!1}),i.props.history.push("/Tickets")})).catch((function(e){var t,n;console.log(e),i.showDialog(!0,"error",null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message),i.setState({isRegistering:!1})}));(new te).createTicket(j).then((function(e){i.showDialog(!0,"success","Ticket Created successfully"),i.handleResetValues(),setTimeout((function(){i.showDialog(!0,"info","Add more ticket")}),2e3)})).catch((function(e){var t,n;console.log(e),i.setState({isRegistering:!1}),i.showDialog(!0,"error",null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)}))}else i.showDialog(!0,"error","Please fill in Specific date and time")},i.state={serviceRequired:"",specificRequirement:"",name:"",phoneNumber:"",alternatePhoneNumber:"",houseNumber:"",locality:"",city:"",state:"",country:"INDIA",pincode:"",timePreference:"",authorizedForClient:"",offerCode:"OniT 2022",is_paid:!1,closing_ticket_price:"",admin_remarks:"",toast:{open:!1,msg:"",duration:5e3,type:""},specific_date_time:new Date,isFormValid:!1,servicesList:[],clientsList:[],isRegistering:!1,isEditDetailsExists:!1,doesTicketExists:!1},i}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.getAllServicesExists(),this.getAllClients();var e=new URLSearchParams(this.props.location.search).get("edit");console.log(e,"edit ticket id"),null!=e&&this.getTicketDetails(e)}},{key:"onChangeSpecificDateAndTime",value:function(e){this.setState({specific_date_time:e})}},{key:"getTicketObjIdForEdit",value:function(){return new URLSearchParams(this.props.location.search).get("edit")}},{key:"getTicketDetails",value:function(e){var t=this,n={ticket_obj_id:e};this.setState({isEditDetailsExists:!0}),(new te).getAllTickets(n).then((function(e){var n,i;null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.length&&(t.setState({doesTicketExists:!0}),t.updateTicketDetails(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i[0]))})).catch((function(e){console.log(e)}))}},{key:"updateTicketDetails",value:function(e){var t,n,i,a,s,l,o,r,d,c,u,h,p,m,v;this.setState({serviceRequired:null===e||void 0===e||null===(t=e.service_provided_for)||void 0===t?void 0:t._id,specificRequirement:null===e||void 0===e?void 0:e.specific_requirement,name:null===e||void 0===e||null===(n=e.personal_details)||void 0===n?void 0:n.name,phoneNumber:null===e||void 0===e||null===(i=e.personal_details)||void 0===i||null===(a=i.primary_phone)||void 0===a?void 0:a.mobile_number,alternatePhoneNumber:null===e||void 0===e||null===(s=e.personal_details)||void 0===s||null===(l=s.alternate_phone)||void 0===l?void 0:l.mobile_number,houseNumber:null===e||void 0===e||null===(o=e.address_details)||void 0===o?void 0:o.house_number,locality:null===e||void 0===e||null===(r=e.address_details)||void 0===r?void 0:r.locality,city:null===e||void 0===e||null===(d=e.address_details)||void 0===d?void 0:d.city,state:null===e||void 0===e||null===(c=e.address_details)||void 0===c?void 0:c.state,country:"INDIA",pincode:null===e||void 0===e||null===(u=e.address_details)||void 0===u?void 0:u.pincode,timePreference:null===e||void 0===e||null===(h=e.time_preference)||void 0===h?void 0:h.time_preference_type,authorizedForClient:null===e||void 0===e||null===(p=e.authorized_client_id)||void 0===p?void 0:p._id,offerCode:"OniT 2022",is_paid:null===e||void 0===e||null===(m=e.admin_setting)||void 0===m?void 0:m.is_paid,closing_ticket_price:null===e||void 0===e?void 0:e.closing_ticket_price,admin_remarks:null===e||void 0===e?void 0:e.remarks.admin_remarks,specific_date_time:null===e||void 0===e||null===(v=e.time_preference)||void 0===v?void 0:v.specific_date_time})}},{key:"getAllServicesExists",value:function(){var e=this;(new I).getAllServices().then((function(t){e.setState({servicesList:t.data})})).catch((function(e){console.log(e)}))}},{key:"getAllClients",value:function(){var e=this;(new te).getAllClients().then((function(t){var n=[];t&&t.data&&t.data.length>0&&(n=t.data),e.setState({clientsList:n})})).catch((function(e){console.log(e)}))}},{key:"handleResetValues",value:function(){this.setState({isRegistering:!1,serviceRequired:"",specificRequirement:"",name:"",phoneNumber:"",alternatePhoneNumber:"",houseNumber:"",locality:"",city:"",state:"",country:"INDIA",pincode:"",timePreference:"",offerCode:"",authorizedForClient:"",isFormValid:!1,admin_remarks:""})}},{key:"render",value:function(){var e,t,n,i,a,s,o,r,d,c,u,m=this,v=this.state,D=v.toast,P=v.isFormValid,T=v.serviceRequired,I=v.specificRequirement,F=v.name,E=v.phoneNumber,B=v.alternatePhoneNumber,N=v.houseNumber,L=v.locality,G=v.city,V=v.state,q=v.country,U=v.pincode,M=v.timePreference,z=v.authorizedForClient,W=v.offerCode;if(this.state.isEditDetailsExists&&!this.state.doesTicketExists)return Object(l.jsx)(l.Fragment,{children:'"Page not found !!!"'});if(this.state.isEditDetailsExists){if(null===(n=this.props.reduxState)||void 0===n||null===(i=n.adminDetails)||void 0===i||null===(a=i.role_id)||void 0===a||null===(s=a.permissions)||void 0===s||null===(o=s.edit_ticket)||void 0===o||!o.full_access)return Object(l.jsx)(l.Fragment,{children:"No permission to update ticket , contact admin"})}else if(null===(r=this.props.reduxState)||void 0===r||null===(d=r.adminDetails)||void 0===d||null===(c=d.role_id)||void 0===c||null===(u=c.permissions)||void 0===u||!u.add_ticket)return Object(l.jsx)(l.Fragment,{children:"No permission to add ticket , contact admin"});return Object(l.jsxs)("div",{children:[D.open&&Object(l.jsx)(_.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:D.open,autoHideDuration:D.duration,onClose:this.closeDialog,children:Object(l.jsx)(y.a,{onClose:this.closeDialog,severity:D.type,sx:{width:"100%"},children:D.msg})}),Object(l.jsx)("h2",{className:"text-align-center",children:this.state.isEditDetailsExists?"Update ticket":"Add Ticket"}),Object(l.jsx)(ai,{children:Object(l.jsxs)(p.a,{container:!0,children:[Object(l.jsx)(p.a,{item:!0,md:6,style:si.paddingInnerGrids,children:Object(l.jsxs)(x.a,{md:6,style:si.inputBox,sx:{minWidth:120},children:[Object(l.jsx)(j.a,{id:"demo-simple-select-helper-label",children:"Service You Required"}),Object(l.jsx)(O.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",label:"Service You Required",name:"serviceRequired",onChange:this.handleChange,value:T,error:P&&!T,children:null===(e=this.state.servicesList)||void 0===e?void 0:e.map((function(e){return Object(l.jsx)(g.a,{value:e._id,children:e.service_name})}))})]})}),Object(l.jsx)(p.a,{item:!0,style:si.paddingInnerGrids,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Specific Requirement - it helps",style:si.inputBox,name:"specificRequirement",value:I,onChange:this.handleChange,error:P&&!I})}),Object(l.jsx)(p.a,{item:!0,style:si.paddingInnerGrids,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Name (Contact Person)",style:si.inputBox,name:"name",value:F,disabled:this.state.isEditDetailsExists,onChange:this.handleChange,error:P&&!F})}),Object(l.jsx)(p.a,{item:!0,style:si.paddingInnerGrids,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Phone Number",style:si.inputBox,disabled:this.state.isEditDetailsExists,name:"phoneNumber",value:E,onChange:this.handleChange,error:P&&!E,InputProps:{startAdornment:Object(l.jsx)(C.a,{position:"start",children:Object(l.jsx)(k.a,{children:"+91"})})},inputProps:{maxLength:10}})}),Object(l.jsx)(p.a,{item:!0,style:si.paddingInnerGrids,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Alternate Phone Number",style:si.inputBox,name:"alternatePhoneNumber",value:B,disabled:this.state.isEditDetailsExists,onChange:this.handleChange,InputProps:{startAdornment:Object(l.jsx)(C.a,{position:"start",children:Object(l.jsx)(k.a,{children:"+91"})})},inputProps:{maxLength:10}})}),Object(l.jsx)(p.a,{item:!0,style:si.paddingInnerGrids,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"House Number / Street",style:si.inputBox,name:"houseNumber",value:N,onChange:this.handleChange,error:P&&!N})}),Object(l.jsx)(p.a,{style:si.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Locality",style:si.inputBox,name:"locality",value:L,onChange:this.handleChange,error:P&&!L})}),Object(l.jsx)(p.a,{style:si.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"City",style:si.inputBox,name:"city",value:G,onChange:this.handleChange,error:P&&!G})}),Object(l.jsx)(p.a,{style:si.paddingInnerGrids,item:!0,md:6,children:Object(l.jsxs)(x.a,{md:6,style:si.inputBox,sx:{minWidth:120},children:[Object(l.jsx)(j.a,{id:"demo-simple-select-helper-label",children:"State"}),Object(l.jsx)(O.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",label:"State",name:"state",onChange:this.handleChange,value:V,error:P&&!V,children:null===R||void 0===R?void 0:R.map((function(e){return Object(l.jsx)(g.a,{value:e.value,children:e.value})}))})]})}),Object(l.jsx)(p.a,{style:si.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Country",style:si.inputBox,name:"country",value:q,onChange:this.handleChange,error:P&&!q,disabled:!0})}),Object(l.jsx)(p.a,{style:si.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Pincode",style:si.inputBox,name:"pincode",value:U,onChange:this.handleChange,error:P&&!U,inputProps:{maxLength:6}})}),Object(l.jsx)(p.a,{style:si.paddingInnerGrids,item:!0,md:6,children:Object(l.jsxs)(x.a,{md:6,style:si.inputBox,sx:{minWidth:120},children:[Object(l.jsx)(j.a,{id:"demo-simple-select-helper-label",children:"Time Preference"}),Object(l.jsx)(O.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",label:"Time Preference",name:"timePreference",onChange:this.handleChange,value:M,error:P&&!M,children:null===li||void 0===li?void 0:li.map((function(e){return Object(l.jsx)(g.a,{value:e,children:e})}))})]})}),"SPECIFIC_DATE_AND_TIME"==this.state.timePreference?Object(l.jsx)(p.a,{style:si.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(A.a,{dateAdapter:S.a,children:Object(l.jsx)(w.a,{renderInput:function(e){return Object(l.jsx)(b.a,Object(h.a)({},e))},label:"Select date and time",value:this.state.specific_date_time,onChange:function(e){m.onChangeSpecificDateAndTime(e)},minDate:new Date,minTime:new Date(0,0,0,8),maxTime:new Date(0,0,0,20)})})}):"",Object(l.jsx)(p.a,{style:si.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Offer Code",style:si.inputBox,name:"offerCode",value:W,onChange:this.handleChange,error:P&&!W})}),this.state.isEditDetailsExists?Object(l.jsx)(p.a,{style:si.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Closing price",style:si.inputBox,name:"closing_ticket_price",type:"number",value:this.state.closing_ticket_price,onChange:this.handleChange,error:P&&!this.state.closing_ticket_price})}):"",this.state.isEditDetailsExists?Object(l.jsx)(p.a,{style:si.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Add admin comments",style:si.inputBox,name:"admin_remarks",type:"text",value:this.state.admin_remarks,onChange:this.handleChange,error:P&&!this.state.admin_remarks})}):"",this.state.isEditDetailsExists?" ":Object(l.jsx)(p.a,{style:si.paddingInnerGrids,item:!0,md:6,children:Object(l.jsxs)(x.a,{md:6,style:si.inputBox,sx:{minWidth:120},children:[Object(l.jsx)(j.a,{id:"demo-simple-select-helper-label",children:"Authorize for particular client"}),Object(l.jsx)(O.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",label:"Authorize for particular client",name:"authorizedForClient",onChange:this.handleChange,value:z,children:null===(t=this.state.clientsList)||void 0===t?void 0:t.map((function(e){return Object(l.jsx)(g.a,{value:e._id,children:e.client_name})}))})]})}),this.state.isEditDetailsExists?"":Object(l.jsx)(p.a,{style:si.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(An.a,{children:Object(l.jsx)(Dn.a,{control:Object(l.jsx)(Pn.a,{checked:this.state.is_paid,onChange:this.handleChangeCheckBox}),label:"Pay during Acceptance"})})}),Object(l.jsx)(p.a,{style:si.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(f.a,{variant:"contained",onClick:function(){return m.handleRegister()},disabled:this.state.isRegistering,children:this.state.isEditDetailsExists?"Update ":"SUBMIT"})})]})})]})}}]),n}(i.Component),ri=Object(ve.b)((function(e){return{reduxState:e.userReducer}}),null)(Object(s.i)(oi)),di={filterType:"dropdown"},ci=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).componentDidMount=function(){i.getAllBroadCastedList()},i.getFormattedServices=function(e){console.log(e);var t=[];return e&&e.length>0&&e.map((function(e){t.push(e.secondary_services_id.service_name)})),t.length>0?t.join(", "):""},i.getParsedData=function(e){return e&&e.length>0&&e.map((function(e){var t,n,i,a,s,l,o,r,d,c,u,h;return{center_id:null===(t=e.center_obj_id)||void 0===t||null===(n=t.qr_details)||void 0===n?void 0:n.qr_id,center_name:null===(i=e.center_obj_id)||void 0===i?void 0:i.center_name,ticket_id:null===e||void 0===e||null===(a=e.ticket_obj_id)||void 0===a?void 0:a._id,Address:e,center_phone:null===(s=e.center_obj_id)||void 0===s||null===(l=s.personal_details)||void 0===l||null===(o=l.phone)||void 0===o?void 0:o.mobile_number,customer_name:null===e||void 0===e||null===(r=e.ticket_obj_id)||void 0===r||null===(d=r.personal_details)||void 0===d?void 0:d.name,customer_number:null===e||void 0===e||null===(c=e.ticket_obj_id)||void 0===c||null===(u=c.personal_details)||void 0===u||null===(h=u.alternate_phone)||void 0===h?void 0:h.mobile_number,status_of_broadcast:null===e||void 0===e?void 0:e.status_of_ticket}}))},i.state={columns:[{name:"center_id",label:"Center Id",options:{filter:!0,sort:!0}},{name:"center_name",label:"Name",options:{filter:!0,sort:!1}},{name:"center_phone",label:"Center phone number",options:{filter:!0,sort:!1}},{name:"ticket_id",label:"ticket id",options:{filter:!0,sort:!1}},{name:"customer_name",label:"customer_name",options:{filter:!0,sort:!1}},{name:"customer_number",label:"customer_number",options:{filter:!0,sort:!1}},{name:"Address",label:"Address",options:{filter:!0,sort:!1,customBodyRender:function(e,t,n){var i,a,s,o,r,d,c,u,h,p;return Object(l.jsx)(l.Fragment,{children:"ACCEPTED"==e.status_of_ticket?(null===e||void 0===e||null===(i=e.ticket_obj_id)||void 0===i||null===(a=i.address_details)||void 0===a?void 0:a.house_number)+" "+(null===e||void 0===e||null===(s=e.ticket_obj_id)||void 0===s||null===(o=s.address_details)||void 0===o?void 0:o.locality)+" "+(null===e||void 0===e||null===(r=e.ticket_obj_id)||void 0===r||null===(d=r.address_details)||void 0===d?void 0:d.city)+" "+(null===e||void 0===e||null===(c=e.ticket_obj_id)||void 0===c||null===(u=c.address_details)||void 0===u?void 0:u.state)+" "+(null===e||void 0===e||null===(h=e.ticket_obj_id)||void 0===h||null===(p=h.address_details)||void 0===p?void 0:p.country):"-"})}}},{name:"status_of_broadcast",label:"Status of broadcast",options:{filter:!0,sort:!1}}],broadCastedList:[]},i}return Object(d.a)(n,[{key:"getAllBroadCastedList",value:function(){var e=this;(new te).getAllBroadCastedList().then((function(t){var n=[];t&&t.data&&t.data.length>0&&(n=e.getParsedData(t.data)),e.setState({broadCastedList:n})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return Object(l.jsx)("div",{children:Object(l.jsx)(Q.a,{title:"Broadcasted list",data:this.state.broadCastedList,columns:this.state.columns,options:di})})}}]),n}(i.Component),ui=n(905),hi=Object(m.a)(v.a)((function(e){var t=e.theme;return Object(h.a)(Object(h.a)({backgroundColor:"dark"===t.palette.mode?"#1A2027":"#fff"},t.typography.body2),{},{padding:t.spacing(1),textAlign:"center",color:t.palette.text.secondary})})),pi={inputBox:{width:"100%",marginBottom:"10px"},gridStyle:{width:"80%",margin:"auto"},paddingInnerGrids:{paddingRight:"10px",paddingLeft:"10px",paddingTop:"10px"}},mi=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).showDialog=function(e,t,n){i.setState({toast:{open:e,msg:n,duration:5e3,type:t}})},i.closeDialog=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];i.setState({toast:{open:e,msg:"",duration:5e3,type:""}})},i.handleInputChangeClients=function(e){var t=e.target.value;console.log(t),i.setState({clients_ids_list:"string"===typeof t?t.split(","):t})},i.handleChangeInputOuter=function(e){var t=e.target,n=t.name,a=t.value;"primary_services"===n&&i.setState({secondary_services:Object(h.a)(Object(h.a)({},i.state.secondary_services),{},{secondary_services_id:a})}),i.setState(Object(o.a)({},n,a),(function(){console.log(i.state)}))},i.handleChangePersonalDetails=function(e){var t=e.target,n=t.name,a=t.value;i.setState({personal_details:{phone:Object(h.a)(Object(h.a)({},i.state.personal_details.phone),{},Object(o.a)({},n,a))}},(function(){console.log(i.state)}))},i.handleResetStateValues=function(){i.setState({center_name:"",personal_details:{phone:{country_code:"+91",mobile_number:""},email:"",name:"",user_name:"",about:""},primary_services:"",secondary_services:{secondary_services_id:"",priority:""},address_details:{address_line:"",city:"",state:"",pincode:"",additional_pincode:"",country:"INDIA"},no_of_technicians:"",qr_code:"",upi_id:"",isFormValid:!1,sendingOtp:!1,isOtpSentSuccess:!1,otpEntered:"",isVerifyingOtp:!1,isOtpVerfied:!1,isRegistering:!1,clients_ids_list:[]})},i.handleChangeAddressDetails=function(e){var t=e.target,n=t.name,a=t.value;"pincode"!==n?i.setState({address_details:Object(h.a)(Object(h.a)({},i.state.address_details),{},Object(o.a)({},n,a))}):a.length<=6&&i.setState({address_details:Object(h.a)(Object(h.a)({},i.state.address_details),{},{additional_pincode:a})},(function(){i.setState({address_details:Object(h.a)(Object(h.a)({},i.state.address_details),{},Object(o.a)({},n,a))})}))},i.handleChangeSecondaryServiceDetails=function(e){var t=e.target,n=t.name,a=t.value;i.setState({secondary_services:Object(h.a)(Object(h.a)({},i.state.secondary_services),{},Object(o.a)({},n,a))})},i.handleRegister=function(){if(!(i.state.center_name&&i.state.personal_details.phone.mobile_number&&i.state.primary_services&&i.state.secondary_services.secondary_services_id&&i.state.address_details.address_line&&i.state.address_details.city&&i.state.address_details.state&&i.state.address_details.pincode&&i.state.address_details.country&&(0===i.state.no_of_technicians||i.state.no_of_technicians)&&i.state.address_details.additional_pincode))return i.setState({isFormValid:!0}),void i.showDialog(!0,"error","Please fill in all required details");var e={center_name:i.state.center_name,personal_details:i.state.personal_details,primary_services:i.state.primary_services,secondary_services:[{secondary_services_id:i.state.secondary_services.secondary_services_id,priority:1}],address_details:i.state.address_details,no_of_technicians:i.state.no_of_technicians,clients_ids_list:i.state.clients_ids_list};if(i.setState({isRegistering:!0}),i.state.isEditDetailsExists)return e.center_obj_id=i.getCenterIdForEdit(),e=Object(h.a)(Object(h.a)({},e),{},{login_into_application:i.state.login_into_application,accepting_broadcast_ticket:i.state.accepting_broadcast_ticket,upi_id:i.state.upi_id}),void(new I).updateCenterAdmin(e).then((function(e){i.showDialog(!0,"success","Center Updated "),i.setState({isRegistering:!1})})).catch((function(e){var t,n;console.log(e),i.setState({isRegistering:!1}),i.showDialog(!0,"error",null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)}));e=Object(h.a)(Object(h.a)({},e),{},{qr_code:i.state.qr_code,automate_qr_code:i.state.automate_qr_code}),(new I).adminCreateCenter(e).then((function(e){i.showDialog(!0,"success","Center added ! Add more centers "),i.setState({isRegistering:!1}),i.handleResetStateValues()})).catch((function(e){var t,n;console.log(e),i.setState({isRegistering:!1}),i.showDialog(!0,"error",null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)}))},i.handleChangeCheckBox=function(e,t){i.setState(Object(o.a)({},t,e.target.checked))},i.state={center_name:"",personal_details:{phone:{country_code:"+91",mobile_number:""},email:"",name:"",user_name:"",about:""},primary_services:"",secondary_services:{secondary_services_id:"",priority:""},address_details:{address_line:"",city:"",state:"",pincode:"",additional_pincode:"",country:"INDIA"},no_of_technicians:"",automate_qr_code:!1,qr_code:"",upi_id:"",toast:{open:!1,msg:"",duration:5e3,type:""},isFormValid:!1,servicesList:[],sendingOtp:!1,isOtpSentSuccess:!1,otpEntered:"",isVerifyingOtp:!1,isOtpVerfied:!1,isRegistering:!1,allClientsList:[],clients_ids_list:[],login_into_application:!1,accepting_broadcast_ticket:!1,doesCenterExists:!1,isEditDetailsExists:!1},i}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.getAllServicesExists(),this.getAllClients();var e=window.location.hash.split("?");console.log(e,"path",new URLSearchParams(this.props.location.search).get("edit"));var t=new URLSearchParams(this.props.location.search).get("edit");null!=t&&this.getCenterDetails(t)}},{key:"getCenterIdForEdit",value:function(){return new URLSearchParams(this.props.location.search).get("edit")}},{key:"getCenterDetails",value:function(e){var t=this,n={center_obj_id:e};this.setState({isEditDetailsExists:!0}),(new I).getCenterDetails(n).then((function(e){var n,i;null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.length&&(t.setState({doesCenterExists:!0}),t.updateStateOfEditData(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i[0]))})).catch((function(e){console.log(e)}))}},{key:"updateStateOfEditData",value:function(e){var t,n,i,a,s,l,o,r,d,c,u,h,p,m,v,b,j,g,x,O,f,_,y,C,k;this.setState({center_name:null===e||void 0===e?void 0:e.center_name,personal_details:{phone:{country_code:"+91",mobile_number:null===e||void 0===e||null===(t=e.personal_details)||void 0===t||null===(n=t.phone)||void 0===n?void 0:n.mobile_number},email:null===e||void 0===e||null===(i=e.personal_details)||void 0===i?void 0:i.email,name:null===e||void 0===e||null===(a=e.personal_details)||void 0===a?void 0:a.name,user_name:null===e||void 0===e||null===(s=e.personal_details)||void 0===s?void 0:s.user_name,about:null===e||void 0===e||null===(l=e.personal_details)||void 0===l?void 0:l.about},primary_services:null===e||void 0===e||null===(o=e.services)||void 0===o||null===(r=o.primary_services)||void 0===r?void 0:r._id,secondary_services:{secondary_services_id:null===e||void 0===e||null===(d=e.services)||void 0===d||null===(c=d.secondary_services)||void 0===c||null===(u=c[0])||void 0===u||null===(h=u.secondary_services_id)||void 0===h?void 0:h._id,priority:null===e||void 0===e||null===(p=e.services)||void 0===p||null===(m=p.secondary_services)||void 0===m||null===(v=m[0])||void 0===v||null===(b=v.secondary_services_id)||void 0===b?void 0:b.priority},address_details:{address_line:null===e||void 0===e||null===(j=e.address_details)||void 0===j?void 0:j.address_line,city:null===e||void 0===e||null===(g=e.address_details)||void 0===g?void 0:g.city,state:null===e||void 0===e||null===(x=e.address_details)||void 0===x?void 0:x.state,pincode:null===e||void 0===e||null===(O=e.address_details)||void 0===O?void 0:O.pincode,additional_pincode:null===e||void 0===e||null===(f=e.address_details)||void 0===f?void 0:f.additional_pincode,country:"INDIA"},upi_id:null===e||void 0===e||null===(_=e.payment_details)||void 0===_?void 0:_.upi_id,no_of_technicians:null===e||void 0===e?void 0:e.no_of_technicians,clients_ids_list:null===e||void 0===e||null===(y=e.clients_ids_list)||void 0===y?void 0:y.map((function(e){return e._id})),login_into_application:null===e||void 0===e||null===(C=e.disabled_for)||void 0===C?void 0:C.login_into_application,accepting_broadcast_ticket:null===e||void 0===e||null===(k=e.disabled_for)||void 0===k?void 0:k.accepting_broadcast_ticket})}},{key:"getAllClients",value:function(){var e=this;(new I).getAllClients().then((function(t){e.setState({allClientsList:t.data})})).catch((function(e){console.log(e)}))}},{key:"getAllServicesExists",value:function(){var e=this;(new I).getAllActiveServices().then((function(t){e.setState({servicesList:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e,t,n,i,a,s,o,r,d,c,u,h,m=this,v=this.state,w=v.toast,S=v.isFormValid;if(this.state.isEditDetailsExists&&!this.state.doesCenterExists)return Object(l.jsx)(l.Fragment,{children:'"Page not found !!!"'});if(this.state.isEditDetailsExists){if(null===(i=this.props.reduxState)||void 0===i||null===(a=i.adminDetails)||void 0===a||null===(s=a.role_id)||void 0===s||null===(o=s.permissions)||void 0===o||null===(r=o.update_center)||void 0===r||!r.full_access)return Object(l.jsx)(l.Fragment,{children:"No permission to update center , contact admin"})}else if(null===(d=this.props.reduxState)||void 0===d||null===(c=d.adminDetails)||void 0===c||null===(u=c.role_id)||void 0===u||null===(h=u.permissions)||void 0===h||!h.add_center)return Object(l.jsx)(l.Fragment,{children:"No permission to add center , contact admin"});return Object(l.jsxs)("div",{children:[w.open&&Object(l.jsx)(_.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:w.open,autoHideDuration:w.duration,onClose:this.closeDialog,children:Object(l.jsx)(y.a,{onClose:this.closeDialog,severity:w.type,sx:{width:"100%"},children:w.msg})}),Object(l.jsx)("h2",{className:"text-align-center",children:this.state.isEditDetailsExists?"Update center":"Add Center"}),Object(l.jsx)(hi,{children:Object(l.jsxs)(p.a,{container:!0,children:[Object(l.jsx)(p.a,{item:!0,style:pi.paddingInnerGrids,md:6,children:Object(l.jsx)(b.a,{helperText:"Please provide your Shop / Center (Name)",id:"demo-helper-text-misaligned",label:"Shop / Center (Name)",name:"center_name",onChange:this.handleChangeInputOuter,style:pi.inputBox,error:S&&!this.state.center_name,value:this.state.center_name})}),Object(l.jsx)(p.a,{item:!0,style:pi.paddingInnerGrids,md:6,children:Object(l.jsx)(b.a,{helperText:"Please provide your Shop / Center (Name)",id:"demo-helper-text-misaligned",label:"What's App Number",name:"mobile_number",disabled:this.state.isOtpSentSuccess,onChange:this.handleChangePersonalDetails,style:pi.inputBox,error:S&&!this.state.personal_details.phone.mobile_number,value:this.state.personal_details.phone.mobile_number,InputProps:{startAdornment:Object(l.jsx)(C.a,{position:"start",children:Object(l.jsx)(k.a,{children:"+91"})})},inputProps:{maxLength:10}})}),Object(l.jsx)(p.a,{item:!0,md:6,style:pi.paddingInnerGrids,children:Object(l.jsxs)(x.a,{md:6,style:pi.inputBox,sx:{minWidth:120},children:[Object(l.jsx)(j.a,{id:"demo-simple-select-helper-label",children:"Main Service You Offer / Need"}),Object(l.jsx)(O.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",label:"Main Service You Offer / Need",name:"primary_services",input:Object(l.jsx)(ui.a,{id:"select-multiple-chip",label:"Chip"}),onChange:this.handleChangeInputOuter,error:S&&!this.state.primary_services,value:this.state.primary_services,children:null===(e=this.state.servicesList)||void 0===e?void 0:e.map((function(e){return Object(l.jsx)(g.a,{value:e._id,children:e.service_name})}))})]})}),Object(l.jsx)(p.a,{item:!0,md:6,style:pi.paddingInnerGrids,children:Object(l.jsxs)(x.a,{md:6,style:pi.inputBox,sx:{minWidth:120},children:[Object(l.jsx)(j.a,{id:"demo-simple-select-helper-label",children:"Choose clients"}),Object(l.jsx)(O.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",label:"Choose clients",name:"clients_ids_list",multiple:!0,onChange:this.handleInputChangeClients,error:S&&!this.state.clients_ids_list.length,value:this.state.clients_ids_list,children:null===(t=this.state.allClientsList)||void 0===t?void 0:t.map((function(e){return Object(l.jsx)(g.a,{value:e._id,children:e.client_name})}))})]})}),Object(l.jsx)(p.a,{item:!0,md:6,style:pi.paddingInnerGrids,children:Object(l.jsxs)(x.a,{md:6,style:pi.inputBox,sx:{minWidth:120},children:[Object(l.jsx)(j.a,{id:"demo-simple-select-helper-label",children:"Other Service You Offer / Need"}),Object(l.jsx)(O.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",label:"Other Service You Offer / Need",name:"secondary_services_id",onChange:this.handleChangeSecondaryServiceDetails,error:S&&!this.state.secondary_services.secondary_services_id,value:this.state.secondary_services.secondary_services_id,children:null===(n=this.state.servicesList)||void 0===n?void 0:n.map((function(e){return Object(l.jsx)(g.a,{value:e._id,children:e.service_name})}))})]})}),Object(l.jsx)(p.a,{item:!0,style:pi.paddingInnerGrids,md:6,children:Object(l.jsx)(b.a,{helperText:"Please enter your address",id:"demo-helper-text-misaligned",label:"Address",name:"address_line",onChange:this.handleChangeAddressDetails,style:pi.inputBox,error:S&&!this.state.address_details.address_line,value:this.state.address_details.address_line})}),Object(l.jsx)(p.a,{item:!0,style:pi.paddingInnerGrids,md:6,children:Object(l.jsx)(b.a,{helperText:"Please enter your city",id:"demo-helper-text-misaligned",label:"City",name:"city",onChange:this.handleChangeAddressDetails,error:S&&!this.state.address_details.city,value:this.state.address_details.city,style:pi.inputBox})}),Object(l.jsx)(p.a,{item:!0,style:pi.paddingInnerGrids,md:6,children:Object(l.jsxs)(x.a,{md:6,style:pi.inputBox,sx:{minWidth:120},children:[Object(l.jsx)(j.a,{id:"demo-simple-select-helper-label",children:"State"}),Object(l.jsx)(O.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",label:"State",name:"state",onChange:this.handleChangeAddressDetails,value:this.state.address_details.state,error:S&&!this.state.address_details.state,children:null===R||void 0===R?void 0:R.map((function(e){return Object(l.jsx)(g.a,{value:e.value,children:e.value})}))})]})}),Object(l.jsx)(p.a,{item:!0,style:pi.paddingInnerGrids,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Country",name:"country",onChange:this.handleChangeAddressDetails,error:S&&!this.state.address_details.country,value:this.state.address_details.country,style:pi.inputBox,disabled:!0})}),this.state.isEditDetailsExists&&Object(l.jsx)(p.a,{style:pi.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(An.a,{children:Object(l.jsx)(Dn.a,{control:Object(l.jsx)(Pn.a,{checked:this.state.login_into_application,onChange:function(e){return m.handleChangeCheckBox(e,"login_into_application")}}),label:"Disable login"})})}),this.state.isEditDetailsExists&&Object(l.jsx)(p.a,{style:pi.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(An.a,{children:Object(l.jsx)(Dn.a,{control:Object(l.jsx)(Pn.a,{checked:this.state.accepting_broadcast_ticket,onChange:function(e){return m.handleChangeCheckBox(e,"accepting_broadcast_ticket")}}),label:"Disable accepting ticket"})})}),Object(l.jsx)(p.a,{item:!0,style:pi.paddingInnerGrids,md:6,children:Object(l.jsx)(b.a,{helperText:"Please enter your pincode",id:"demo-helper-text-misaligned",label:"Service Area Pincode (main)",name:"pincode",type:"number",onChange:this.handleChangeAddressDetails,error:S&&!this.state.address_details.pincode,value:this.state.address_details.pincode,style:pi.inputBox,inputProps:{maxLength:6}})}),Object(l.jsx)(p.a,{item:!0,style:pi.paddingInnerGrids,md:6,children:Object(l.jsx)(b.a,{helperText:"Please enter your additional pincode",id:"demo-helper-text-misaligned",label:"Addtional Service Area Pincode (other)",name:"additional_pincode",onChange:this.handleChangeAddressDetails,error:S&&!this.state.address_details.additional_pincode,value:this.state.address_details.additional_pincode,style:pi.inputBox,inputProps:{maxLength:6}})}),Object(l.jsx)(p.a,{item:!0,md:6,style:pi.paddingInnerGrids,children:Object(l.jsxs)(x.a,{style:pi.inputBox,sx:{minWidth:120},children:[Object(l.jsx)(j.a,{id:"demo-simple-select-helper-label",children:"Technician Associate"}),Object(l.jsx)(O.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",label:"Technician Associate",name:"no_of_technicians",onChange:this.handleChangeInputOuter,error:S&&""===this.state.no_of_technicians,value:this.state.no_of_technicians,children:[0,1,2,3,4,5,6,7,8,9,10].map((function(e){return Object(l.jsx)(g.a,{value:e,children:e})}))})]})}),this.state.isEditDetailsExists?"":Object(l.jsx)(p.a,{style:pi.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(An.a,{children:Object(l.jsx)(Dn.a,{control:Object(l.jsx)(Pn.a,{checked:this.state.automate_qr_code,onChange:function(e){return m.handleChangeCheckBox(e,"automate_qr_code")}}),label:"Automate qr code"})})}),this.state.isEditDetailsExists||this.state.automate_qr_code?"":Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(p.a,{item:!0,md:6,style:pi.paddingInnerGrids,children:Object(l.jsx)(b.a,{helperText:"Please enter your additional pincode",id:"demo-helper-text-misaligned",label:"Enter qr code",name:"qr_code",onChange:function(e){m.setState({qr_code:e.target.value})},value:this.state.qr_code,style:pi.inputBox})})}),this.state.isEditDetailsExists?Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(p.a,{item:!0,md:6,style:pi.paddingInnerGrids,children:Object(l.jsx)(b.a,{helperText:"Please enter your additional pincode",id:"demo-helper-text-misaligned",label:"Enter upi id",name:"upi_id",onChange:function(e){m.setState({upi_id:e.target.value})},value:this.state.upi_id,style:pi.inputBox})})}):"",this.state.isOtpSentSuccess&&!this.state.isOtpVerfied?Object(l.jsx)(p.a,{item:!0,style:pi.paddingInnerGrids,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Enter otp",name:"otpEntered",onChange:this.handleChangeInputOuter,value:this.state.otpEntered,style:pi.inputBox})}):"",Object(l.jsx)(p.a,{style:pi.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(f.a,{onClick:function(){return m.handleRegister()},variant:"contained",disabled:this.state.isRegistering,children:this.state.isRegistering?this.state.isEditDetailsExists?"Updating....":"Adding ....":this.state.isEditDetailsExists?"Update center":"Add center"})})]})})]})}}]),n}(i.Component),vi=Object(ve.b)((function(e){return{reduxState:e.userReducer}}),null)(Object(s.i)(mi)),bi=function(){function e(){Object(r.a)(this,e),this.base_url=T}return Object(d.a)(e,[{key:"getAllCenters",value:function(){var e=this;return new Promise((function(t,n){P()({method:"get",url:"".concat(e.base_url,"center/get-all-orders")}).then((function(e){t(e.data)})).catch((function(e){n(e)}))}))}}]),e}(),ji=[{name:"ticketId",label:"ticket Id",options:{filter:!0,sort:!0}},{name:"ticketAddress",label:"ticket Address",options:{filter:!0,sort:!1}},{name:"sumPriceToPay",label:"sum paid",options:{filter:!0,sort:!1}},{name:"receipt",label:"receipt",options:{filter:!0,sort:!1}},{name:"payment_status",label:"payment status",options:{filter:!0,sort:!1}}],gi={filterType:"dropdown",download:!1,print:!1},xi=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).state={mappedOrdersList:[]},i}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.getAllOrders()}},{key:"getAllOrders",value:function(){var e=this;(new bi).getAllCenters().then((function(t){var n,i=null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.map((function(e){var t,n,i;return{ticketId:null===e||void 0===e||null===(t=e.ticket_obj_id)||void 0===t?void 0:t._id,ticketAddress:null===e||void 0===e||null===(n=e.ticket_obj_id)||void 0===n||null===(i=n.address_details)||void 0===i?void 0:i.house_number,sumPriceToPay:(null===e||void 0===e?void 0:e.sumPriceToPay)/100,receipt:null===e||void 0===e?void 0:e.receipt,payment_status:null===e||void 0===e?void 0:e.payment_status}}));e.setState({mappedOrdersList:i})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return Object(l.jsx)("div",{children:Object(l.jsx)(Q.a,{title:"Orders",data:this.state.mappedOrdersList,columns:ji,options:gi})})}}]),n}(i.Component),Oi=n(909),fi=n(931),_i=Object(m.a)(v.a)((function(e){var t=e.theme;return Object(h.a)(Object(h.a)({backgroundColor:"dark"===t.palette.mode?"#1A2027":"#fff"},t.typography.body2),{},{padding:t.spacing(1),textAlign:"center",color:t.palette.text.secondary})}));function yi(){Object(s.g)();var e,t,n,o,r,d,c,u,h,m,v,b,j,g,x,O,f,_,y,C,w,S,A,D,P,T,I,F,R,E,B,N,L,G,V,q,U,M,z,W,H,Y,K,J,Q,Z,$,X,ee,ae,se,le,oe,re,ue,he,pe=Object(s.h)(),ve=new URLSearchParams(pe.search).get("ticketId"),Oe=Object(i.useState)(!1),fe=Object(ne.a)(Oe,2),_e=fe[0],ye=fe[1],Ce=Object(i.useState)(!1),ke=Object(ne.a)(Ce,2),we=ke[0],Se=ke[1],Ae=Object(i.useState)({}),De=Object(ne.a)(Ae,2),Pe=De[0],Te=De[1],Ie=Object(i.useState)({}),Fe=Object(ne.a)(Ie,2),Re=Fe[0],Ee=Fe[1],Be=Object(i.useState)([]),Ne=Object(ne.a)(Be,2),Le=Ne[0],Ge=Ne[1],Ve=function(){ye(!1)};console.log(ve,"ticketId"),Object(i.useEffect)((function(){qe(ve)}),[]);var qe=function(e){ye(!0);var t={ticket_obj_id:e};(new te).getSingleTicket(t).then((function(e){var t,n,i,a,s,l,o;null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&null!==(n=t.results)&&void 0!==n&&n.length&&(Se(!0),Te(null===e||void 0===e||null===(i=e.data)||void 0===i||null===(a=i.results)||void 0===a?void 0:a[0]),Ee(null===e||void 0===e||null===(s=e.data)||void 0===s||null===(l=s.feedBackList)||void 0===l?void 0:l[0]),Ge(null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.broadCastList));Ve()})).catch((function(e){Ve()}))};return _e&&(de.a,ce.a),we?Object(l.jsx)(ie.a,{sx:{flexGrow:1},children:Object(l.jsxs)(p.a,{container:!0,spacing:2,children:[Object(l.jsx)(p.a,{item:!0,xs:6,children:Object(l.jsxs)(_i,{children:[Object(l.jsxs)(l.Fragment,{children:["Ticket Id : ",null===Pe||void 0===Pe?void 0:Pe._id]}),Object(l.jsx)("br",{}),Object(l.jsxs)(l.Fragment,{children:["Ticket status : ",null===Pe||void 0===Pe?void 0:Pe.ticket_status]}),Object(l.jsx)("br",{}),Object(l.jsxs)(l.Fragment,{children:["Ticket closing price : ",null!==Pe&&void 0!==Pe&&Pe.closing_ticket_price?null===Pe||void 0===Pe?void 0:Pe.closing_ticket_price:"NIL"]}),Object(l.jsx)("br",{}),Object(l.jsxs)(l.Fragment,{children:["Ticket created by : ",null===Pe||void 0===Pe?void 0:Pe.ticket_created_by]})]})}),Object(l.jsx)(p.a,{item:!0,xs:6,children:Object(l.jsx)(_i,{children:Object(l.jsxs)(l.Fragment,{children:["Service provided for : ",Object(l.jsx)(Oi.a,{label:null===Pe||void 0===Pe||null===(e=Pe.service_provided_for)||void 0===e?void 0:e.service_name,variant:"outlined"})]})})}),Object(l.jsx)(p.a,{item:!0,xs:6,children:Object(l.jsx)(_i,{children:Object(l.jsxs)(l.Fragment,{children:["Is Technician Assigned :  ",Object(l.jsx)(Oi.a,{label:null!==Pe&&void 0!==Pe&&Pe.is_technician_assigned?"Assigned ":"Not Assigned",variant:"outlined"}),Object(l.jsx)("br",{}),"Broad cast status :  ",Object(l.jsx)(Oi.a,{label:null===Pe||void 0===Pe?void 0:Pe.broadcast_status,variant:"outlined"})]})})}),Object(l.jsx)(p.a,{item:!0,xs:6,children:Object(l.jsxs)(_i,{children:[Object(l.jsx)(k.a,{sx:{display:"inline"},component:"span",variant:"body2",color:"text.primary",children:"Customer Details"}),Object(l.jsxs)(be.a,{sx:{width:"100%",maxWidth:360,bgcolor:"background.paper"},children:[Object(l.jsxs)(je.a,{alignItems:"flex-start",children:[Object(l.jsx)(qn.a,{children:Object(l.jsx)(Un.a,{alt:"Remy Sharp",src:"/static/images/avatar/1.jpg"})}),Object(l.jsx)(ge.a,{primary:"Customer Name",secondary:Object(l.jsx)(a.a.Fragment,{children:Object(l.jsx)(k.a,{sx:{display:"inline"},component:"span",variant:"body2",color:"text.primary",children:null===Pe||void 0===Pe||null===(t=Pe.personal_details)||void 0===t?void 0:t.name})})})]}),Object(l.jsx)(xe.a,{variant:"inset",component:"li"}),Object(l.jsxs)(je.a,{alignItems:"flex-start",children:[Object(l.jsx)(qn.a,{children:Object(l.jsx)(Un.a,{alt:"Travis Howard",src:"/static/images/avatar/2.jpg"})}),Object(l.jsx)(ge.a,{primary:"Customer Phone",secondary:Object(l.jsx)(a.a.Fragment,{children:Object(l.jsx)(k.a,{sx:{display:"inline"},component:"span",variant:"body2",color:"text.primary",children:(null===Pe||void 0===Pe||null===(n=Pe.personal_details)||void 0===n||null===(o=n.primary_phone)||void 0===o?void 0:o.country_code)+"  "+(null===Pe||void 0===Pe||null===(r=Pe.personal_details)||void 0===r||null===(d=r.primary_phone)||void 0===d?void 0:d.mobile_number)})})})]}),Object(l.jsx)(xe.a,{variant:"inset",component:"li"}),Object(l.jsxs)(je.a,{alignItems:"flex-start",children:[Object(l.jsx)(qn.a,{children:Object(l.jsx)(Un.a,{alt:"Cindy Baker",src:"/static/images/avatar/3.jpg"})}),Object(l.jsx)(ge.a,{primary:"Address details",secondary:Object(l.jsxs)(a.a.Fragment,{children:[Object(l.jsx)(k.a,{sx:{display:"inline"},component:"span",variant:"body2",color:"text.primary",children:"House Number -  "+(null===Pe||void 0===Pe||null===(c=Pe.address_details)||void 0===c?void 0:c.house_number)}),Object(l.jsx)("br",{}),Object(l.jsx)(k.a,{sx:{display:"inline"},component:"span",variant:"body2",color:"text.primary",children:"locality -  "+(null===Pe||void 0===Pe||null===(u=Pe.address_details)||void 0===u?void 0:u.locality)}),Object(l.jsx)("br",{}),Object(l.jsx)(k.a,{sx:{display:"inline"},component:"span",variant:"body2",color:"text.primary",children:"pincode -  "+(null===Pe||void 0===Pe||null===(h=Pe.address_details)||void 0===h?void 0:h.pincode)}),Object(l.jsx)("br",{}),Object(l.jsx)(k.a,{sx:{display:"inline"},component:"span",variant:"body2",color:"text.primary",children:"city -  "+(null===Pe||void 0===Pe||null===(m=Pe.address_details)||void 0===m?void 0:m.city)}),Object(l.jsx)("br",{}),Object(l.jsx)(k.a,{sx:{display:"inline"},component:"span",variant:"body2",color:"text.primary",children:"state -  "+(null===Pe||void 0===Pe||null===(v=Pe.address_details)||void 0===v?void 0:v.state)})]})})]})]})]})}),Object(l.jsx)(p.a,{item:!0,xs:6,children:Object(l.jsx)(_i,{children:Object(l.jsx)(be.a,{sx:{width:"100%",maxWidth:500,bgcolor:"background.paper"},subheader:Object(l.jsx)(fi.a,{children:"Assigned Details"}),children:null!==Pe&&void 0!==Pe&&Pe.is_technician_assigned?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)(je.a,{children:[Object(l.jsx)(ze.a,{style:{fontWeight:"bold"},children:"Assigned Center Name       :-"}),Object(l.jsx)(ge.a,{id:"switch-list-label-wifi",primary:"     "+(null===Pe||void 0===Pe||null===(b=Pe.assigned_ids)||void 0===b||null===(j=b.assigned_center_id)||void 0===j?void 0:j.center_name)})]}),Object(l.jsxs)(je.a,{children:[Object(l.jsx)(ze.a,{style:{fontWeight:"bold"},children:"Assigned Center Phone number   :-"}),Object(l.jsx)(ge.a,{id:"switch-list-label-wifi",primary:"     "+(null===Pe||void 0===Pe||null===(g=Pe.assigned_ids)||void 0===g||null===(x=g.assigned_center_id)||void 0===x||null===(O=x.personal_details)||void 0===O||null===(f=O.phone)||void 0===f?void 0:f.mobile_number)})]}),Object(l.jsxs)(je.a,{children:[Object(l.jsx)(ze.a,{style:{fontWeight:"bold"},children:"Assigned Center address :-"}),Object(l.jsx)(ge.a,{id:"switch-list-label-wifi",primary:"     "+(null===Pe||void 0===Pe||null===(_=Pe.assigned_ids)||void 0===_||null===(y=_.assigned_center_id)||void 0===y||null===(C=y.address_details)||void 0===C?void 0:C.address_line)+" - "+(null===Pe||void 0===Pe||null===(w=Pe.assigned_ids)||void 0===w||null===(S=w.assigned_center_id)||void 0===S||null===(A=S.address_details)||void 0===A?void 0:A.city)+" - "+(null===Pe||void 0===Pe||null===(D=Pe.assigned_ids)||void 0===D||null===(P=D.assigned_center_id)||void 0===P||null===(T=P.address_details)||void 0===T?void 0:T.state)+" - "+(null===Pe||void 0===Pe||null===(I=Pe.assigned_ids)||void 0===I||null===(F=I.assigned_center_id)||void 0===F||null===(R=F.address_details)||void 0===R?void 0:R.country)+" - "+(null===Pe||void 0===Pe||null===(E=Pe.assigned_ids)||void 0===E||null===(B=E.assigned_center_id)||void 0===B||null===(N=B.address_details)||void 0===N?void 0:N.additional_pincode)})]}),Object(l.jsxs)(je.a,{children:[Object(l.jsx)(ze.a,{style:{fontWeight:"bold"},children:"Assigned Technician Name :-"}),Object(l.jsx)(ge.a,{id:"switch-list-label-bluetooth",primary:null===Pe||void 0===Pe||null===(L=Pe.assigned_ids)||void 0===L||null===(G=L.assigned_technician_id)||void 0===G||null===(V=G.personal_details)||void 0===V?void 0:V.name})]}),Object(l.jsxs)(je.a,{children:[Object(l.jsx)(ze.a,{style:{fontWeight:"bold"},children:"Assigned Technician phone number :-"}),Object(l.jsx)(ge.a,{id:"switch-list-label-bluetooth",primary:null===Pe||void 0===Pe||null===(q=Pe.assigned_ids)||void 0===q||null===(U=q.assigned_technician_id)||void 0===U||null===(M=U.personal_details)||void 0===M||null===(z=M.phone)||void 0===z?void 0:z.mobile_number})]}),Object(l.jsxs)(je.a,{children:[Object(l.jsx)(ze.a,{style:{fontWeight:"bold"},children:"Assigned Technician address :-"}),Object(l.jsx)(ge.a,{id:"switch-list-label-bluetooth",primary:(null===Pe||void 0===Pe||null===(W=Pe.assigned_ids)||void 0===W||null===(H=W.assigned_technician_id)||void 0===H||null===(Y=H.address_details_permanent)||void 0===Y?void 0:Y.address_line)+" - "+(null===Pe||void 0===Pe||null===(K=Pe.assigned_ids)||void 0===K||null===(J=K.assigned_technician_id)||void 0===J||null===(Q=J.address_details_permanent)||void 0===Q?void 0:Q.city)+" - "+(null===Pe||void 0===Pe||null===(Z=Pe.assigned_ids)||void 0===Z||null===($=Z.assigned_technician_id)||void 0===$||null===(X=$.address_details_permanent)||void 0===X?void 0:X.country)+" - "+(null===Pe||void 0===Pe||null===(ee=Pe.assigned_ids)||void 0===ee||null===(ae=ee.assigned_technician_id)||void 0===ae||null===(se=ae.address_details_permanent)||void 0===se?void 0:se.state)})]})]}):"Not assigned"})})}),Object(l.jsx)(p.a,{item:!0,xs:6,children:Object(l.jsx)(_i,{children:Object(l.jsxs)(be.a,{sx:{width:"100%",maxWidth:500,bgcolor:"background.paper"},subheader:Object(l.jsx)(fi.a,{children:"Remarks"}),children:[Object(l.jsxs)(je.a,{children:[Object(l.jsx)(ze.a,{style:{fontWeight:"bold"},children:"Ticket closure remarks      :-"}),Object(l.jsx)(ge.a,{id:"switch-list-label-wifi",primary:"     "+(null===Pe||void 0===Pe||null===(le=Pe.remarks)||void 0===le?void 0:le.close_ticket_remarks)})]}),"Additional Remarks",null===Pe||void 0===Pe||null===(oe=Pe.remarks)||void 0===oe||null===(re=oe.additional_remarks)||void 0===re?void 0:re.map((function(e,t){return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)(je.a,{children:[Object(l.jsx)(ze.a,{style:{fontWeight:"bold"},children:t+1}),Object(l.jsx)(ge.a,{id:"switch-list-label-wifi",primary:"     "+(null===e||void 0===e?void 0:e.remarks)})]})})}))]})})}),Object(l.jsxs)(p.a,{item:!0,xs:6,children:[Object(l.jsx)(l.Fragment,{children:"Feed back list"}),Object(l.jsx)(be.a,{sx:{width:"100%",maxWidth:360,bgcolor:"background.paper"},children:null!==Re&&void 0!==Re&&null!==(ue=Re.feedBackResponse)&&void 0!==ue&&ue.length?null===Re||void 0===Re||null===(he=Re.feedBackResponse)||void 0===he?void 0:he.map((function(e){return Object(l.jsxs)(je.a,{children:[Object(l.jsx)(qn.a,{children:Object(l.jsx)(Un.a,{children:Object(l.jsx)(zn.a,{})})}),Object(l.jsx)(ge.a,{primary:(null===e||void 0===e?void 0:e.question)+" ? ",secondary:null===e||void 0===e?void 0:e.answer})]})})):"No feed back given"})]}),Object(l.jsxs)(p.a,{item:!0,xs:12,children:[Object(l.jsx)(l.Fragment,{children:"Broad cast list"}),Object(l.jsx)(be.a,{sx:{width:"100%",bgcolor:"background.paper"},children:null!==Le&&void 0!==Le&&Le.length?Object(l.jsx)(l.Fragment,{children:null===Le||void 0===Le?void 0:Le.map((function(e){var t,n,i,a,s,o;return Object(l.jsxs)(je.a,{children:[Object(l.jsx)(ge.a,{primary:"Broad casted on",secondary:me()(null===e||void 0===e?void 0:e.createdAt).format("Do MMM, h a")}),Object(l.jsx)(ge.a,{primary:"Center Id",secondary:null===(t=e.center_obj_id)||void 0===t||null===(n=t.qr_details)||void 0===n?void 0:n.qr_id}),Object(l.jsx)(ge.a,{primary:"center_name",secondary:null===(i=e.center_obj_id)||void 0===i?void 0:i.center_name}),Object(l.jsx)(ge.a,{primary:"center_phone",secondary:null===(a=e.center_obj_id)||void 0===a||null===(s=a.personal_details)||void 0===s||null===(o=s.phone)||void 0===o?void 0:o.mobile_number}),Object(l.jsx)(ge.a,{primary:"Status of broadcast",secondary:null===e||void 0===e?void 0:e.status_of_ticket})]})}))}):"No feed back given"})]})]})}):Object(l.jsx)(l.Fragment,{children:"InValid ticket id "})}Object(m.a)(v.a)((function(e){var t=e.theme;return Object(h.a)(Object(h.a)({backgroundColor:"dark"===t.palette.mode?"#1A2027":"#fff"},t.typography.body2),{},{padding:t.spacing(1),textAlign:"center",color:t.palette.text.secondary})}));var Ci={inputBox:{width:"100%",marginBottom:"10px"},gridStyle:{width:"80%",margin:"auto"},paddingInnerGrids:{paddingRight:"10px",paddingLeft:"10px",paddingTop:"10px"}};function ki(){var e=Object(i.useState)(!0),t=Object(ne.a)(e,2),n=t[0],a=t[1],s=Object(i.useState)(!1),o=Object(ne.a)(s,2),r=o[0],d=o[1],c=Object(i.useState)(!1),u=Object(ne.a)(c,2),h=(u[0],u[1]),m=Object(i.useState)(!1),v=Object(ne.a)(m,2),b=(v[0],v[1]),j=Object(i.useState)(!1),x=Object(ne.a)(j,2),_=x[0],y=x[1],C=Object(i.useState)([{question:"Ease in finding us and time taken for booking the service",answer:""},{question:"Transparency after booking - fixing appointment, visit and closure of ticket",answer:""},{question:"Availability of tools and equipment, knowledge of the product with service provider",answer:""},{question:"Price you paid for the service",answer:""},{question:"Overall, your service experience with ONIT",answer:""}]),w=Object(ne.a)(C,2),S=w[0],A=w[1],D=Object(i.useState)(!0),P=Object(ne.a)(D,2),T=P[0],F=P[1];Object(i.useEffect)((function(){var e=window.location.hash.split("/")[2];console.log(e,"token"),R(e)}),[]);var R=function(e){F(!0),(new I).checkIfFeedBackExistsForThisId({token:e}).then((function(e){var t,n,i,a;(d(e.data.invalidFeedBackLink),h(e.data.isFeedBackAldreadySubmitted),b(e.data.submitFeedBack),y(e.data.is_link_expired),F(!1),null!==(t=e.data.isFeedBackExists)&&void 0!==t&&null!==(n=t.feedBackResponse)&&void 0!==n&&n.length)&&(A(null===(i=e.data.isFeedBackExists)||void 0===i?void 0:i.feedBackResponse),console.log(null===(a=e.data.isFeedBackExists)||void 0===a?void 0:a.feedBackResponse,"Feedback"))})).catch((function(e){console.log(e),F(!1)}))},E=function(){var e=0;return null===S||void 0===S||S.map((function(t){""!=t.answer&&(e+=1)})),5==e};return T?Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("h2",{className:"text-align-center",children:"Loading page..."})}):r||_?Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("h2",{className:"text-align-center",children:"Invalid Feedback Link"})}):Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{className:"text-align-center",children:"Feed back"}),Object(l.jsxs)(p.a,{container:!0,style:{width:"60%",margin:"auto"},children:[null===S||void 0===S?void 0:S.map((function(e,t){var n;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)(p.a,{item:!0,style:Ci.paddingInnerGrids,md:6,children:[Object(l.jsx)(k.a,{variant:"h4",component:"h4",children:e.question}),";"]}),Object(l.jsx)(p.a,{item:!0,style:Ci.paddingInnerGrids,md:6,children:Object(l.jsx)(O.a,{id:"demo-helper-text-misaligned",label:"Answer",name:"center_name",onChange:function(e){return function(e,t){var n=S;n[e].answer=t,A(n),console.log(S,"setOfQuestions");var i=E();a(!i)}(t,e.target.value)},defaultValue:e.answer,children:null===(n=[1,2,3,4,5,6,7,8,9,10])||void 0===n?void 0:n.map((function(e){return Object(l.jsx)(g.a,{value:e,children:e})}))})})]})})),Object(l.jsx)(f.a,{onClick:function(){return function(){var e={token:window.location.hash.split("/")[2],feedBackResponse:S};(new I).submitFeedBack(e).then((function(t){R(e.token)})).catch((function(e){console.log(e)}))}()},disabled:n,style:{marginTop:"40px"},variant:"contained",children:" Submit Feedback"})]})]})}var wi={filterType:"dropdown"},Si=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).handleViewTicket=function(e){i.props.history.push("/view-ticket?ticketId="+e)},i.toggleOpenFeedBackPopup=function(e){i.setState({isOpenFeedBackPopup:!0,viewfeedback:e})},i.toggleCloseFeedBackPopup=function(){i.setState({isOpenFeedBackPopup:!1,viewfeedback:[]})},i.componentDidMount=function(){i.getAllFeedBack()},i.getFormattedServices=function(e){console.log(e);var t=[];return e&&e.length>0&&e.map((function(e){t.push(e.secondary_services_id.service_name)})),t.length>0?t.join(", "):""},i.getParsedData=function(e){return e&&e.length>0&&e.map((function(e){var t,n,i,a,s,l,o,r,d,c,u,h,p,m,v,b,j,g,x,O,f,_,y,C,k,w,S,A,D;return{center_id:null===(t=e.center_obj_id)||void 0===t||null===(n=t.qr_details)||void 0===n?void 0:n.qr_id,center_name:null===(i=e.center_obj_id)||void 0===i?void 0:i.center_name,ticket_id:null===e||void 0===e||null===(a=e.ticket_obj_id)||void 0===a?void 0:a._id,technicianName:null===e||void 0===e||null===(s=e.ticket_obj_id)||void 0===s||null===(l=s.assigned_ids)||void 0===l||null===(o=l.assigned_technician_id)||void 0===o||null===(r=o.personal_details)||void 0===r?void 0:r.name,technicianPhone:null===e||void 0===e||null===(d=e.ticket_obj_id)||void 0===d||null===(c=d.assigned_ids)||void 0===c||null===(u=c.assigned_technician_id)||void 0===u||null===(h=u.personal_details)||void 0===h||null===(p=h.phone)||void 0===p?void 0:p.mobile_number,Address:(null===e||void 0===e||null===(m=e.ticket_obj_id)||void 0===m||null===(v=m.address_details)||void 0===v?void 0:v.house_number)+" "+(null===e||void 0===e||null===(b=e.ticket_obj_id)||void 0===b||null===(j=b.address_details)||void 0===j?void 0:j.locality)+" "+(null===e||void 0===e||null===(g=e.ticket_obj_id)||void 0===g||null===(x=g.address_details)||void 0===x?void 0:x.city)+" "+(null===e||void 0===e||null===(O=e.ticket_obj_id)||void 0===O||null===(f=O.address_details)||void 0===f?void 0:f.state)+" "+(null===e||void 0===e||null===(_=e.ticket_obj_id)||void 0===_||null===(y=_.address_details)||void 0===y?void 0:y.country),customer_name:null===e||void 0===e||null===(C=e.ticket_obj_id)||void 0===C||null===(k=C.personal_details)||void 0===k?void 0:k.name,customer_number:null===e||void 0===e||null===(w=e.ticket_obj_id)||void 0===w||null===(S=w.personal_details)||void 0===S||null===(A=S.alternate_phone)||void 0===A?void 0:A.mobile_number,FeedBack:JSON.stringify(null===e||void 0===e?void 0:e.feedBackResponse),viewfeedback:null===e||void 0===e?void 0:e.feedBackResponse,over_all_rating:null===e||void 0===e?void 0:e.over_all_rating,is_aldready_submitted:null!==e&&void 0!==e&&e.is_aldready_submitted?"Yes":"No",View_ticket:null===e||void 0===e||null===(D=e.ticket_obj_id)||void 0===D?void 0:D._id}}))},i.state={feedBackList:[],columns:[{name:"center_id",label:"Center Id",options:{filter:!0,sort:!0}},{name:"center_name",label:"Name",options:{filter:!0,sort:!1}},{name:"ticket_id",label:"ticket id",options:{filter:!0,sort:!1}},{name:"technicianName",label:"Technician Name",options:{filter:!0,sort:!1}},{name:"technicianPhone",label:"Technician Phone",options:{filter:!0,sort:!1}},{name:"customer_name",label:"customer_name",options:{filter:!0,sort:!1}},{name:"customer_number",label:"customer_number",options:{filter:!0,sort:!1}},{name:"Address",label:"Address",options:{filter:!0,sort:!1}},{name:"FeedBack",label:"FeedBack",options:{filter:!0,sort:!1}},{name:"is_aldready_submitted",label:"is FeedBack submitted",options:{filter:!0,sort:!1}},{name:"over_all_rating",label:"Over all rating",options:{filter:!0,sort:!1}},{name:"viewfeedback",label:"view feedback",options:{customBodyRender:function(e,t,n){return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(f.a,{className:"text-transform-none",variant:"contained",onClick:function(){return i.toggleOpenFeedBackPopup(e)},children:"View Feedback"})})})}}},{name:"View_ticket",label:"view Ticket",options:{customBodyRender:function(e,t,n){return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(f.a,{variant:"contained",onClick:function(){return i.handleViewTicket(e)},children:"View Ticket"})})})}}}],viewfeedback:[],isOpenFeedBackPopup:!1},i}return Object(d.a)(n,[{key:"getAllFeedBack",value:function(){var e=this;(new te).getAllFeedBack().then((function(t){var n=[];t&&t.data&&t.data.length>0&&(n=e.getParsedData(t.data)),e.setState({feedBackList:n})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)(Q.a,{title:"FeedBackList",data:this.state.feedBackList,columns:this.state.columns,options:wi}),Object(l.jsx)(Hn,{open:this.state.isOpenFeedBackPopup,handleClose:this.toggleCloseFeedBackPopup,viewfeedback:this.state.viewfeedback})]})}}]),n}(i.Component),Ai=Object(s.i)(Si),Di=Object(m.a)(v.a)((function(e){var t=e.theme;return Object(h.a)(Object(h.a)({backgroundColor:"dark"===t.palette.mode?"#1A2027":"#fff"},t.typography.body2),{},{padding:t.spacing(1),textAlign:"center",color:t.palette.text.secondary})})),Pi={inputBox:{width:"100%",marginBottom:"10px"},gridStyle:{width:"80%",margin:"auto"},paddingInnerGrids:{paddingRight:"10px",paddingLeft:"10px",paddingTop:"10px"}},Ti=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).showDialog=function(e,t,n){i.setState({toast:{open:e,msg:n,duration:5e3,type:t}})},i.closeDialog=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];i.setState({toast:{open:e,msg:"",duration:5e3,type:""}})},i.handleChange=function(e){var t=e.target,n=t.name,a=t.value;i.setState(Object(o.a)({},n,a),(function(){console.log(i.state)}))},i.handleChangeCheckBox=function(e){i.setState({is_paid:e.target.checked});var t=e.target,n=t.name,a=(t.value,t.checked);i.setState(Object(o.a)({},n,a),(function(){console.log(i.state,"values are")}))},i.handleRegister=function(){var e,t,n,a=i.state,s=a.roleName,l=a.addCenter,o=a.updateCenterFullAccess,r=a.deleteCenter,d=a.viewCenterDetailsFullAccess,c=a.viewCenterDetailsViewPincode,u=a.addTechnician,h=a.updateTechnicianFullAccess,p=a.deleteTechnician,m=a.viewTechnicianDetailsFullAccess,v=a.viewTechnicianDetailsTechnicianPhone,b=a.viewDashboardFullAccess,j=a.addNewServices,g=a.updateServicesFullAccess,x=a.inActiveActive,O=a.viewServicesListFullAccess,f=a.addTicket,_=a.editTicketFullAccess,y=a.deleteTicket,C=a.viewTicketFullAccess,k=a.addClients,w=a.editClientsFullAccess,S=a.viewClientsFullAccess,A=a.viewBroadcastedListFullAccess,D=a.addRole,P=a.editRoleFullAccess,T=a.deleteRole,I=a.viewRoleFullAccess;if(!s)return i.setState({isFormValid:!0}),void i.showDialog(!0,"error","Please fill in all required details");i.setState({isRegistering:!0});var F={role_name:s,role_created_user:null===(e=i.props)||void 0===e||null===(t=e.reduxState)||void 0===t||null===(n=t.adminDetails)||void 0===n?void 0:n._id,permissions:{add_center:l,update_center:{full_access:o},delete_center:r,view_center_details:{full_access:d,view_pincode:c},add_technician:u,update_technician:{full_access:h},delete_technician:p,view_technician_details:{full_access:m,technician_phone:v},view_dashboard_full_access:b,add_new_services:j,update_services:{full_access:g},inactive_active:x,view_services_list:{full_access:O},add_ticket:f,edit_ticket:{full_access:_},delete_ticket:y,view_ticket:{full_access:C},add_clients:k,edit_clients:{full_access:w},view_clients:{full_access:S},view_broadcastedList:A,add_role:D,edit_role_permissions:{full_access:P},delete_role:T,view_role:{full_access:I}}};if(i.state.isEditDetailsExists)return F.role_obj_id=i.getRoleObjIdForEdit(),F.role_name=s||!1,F["permissions.add_center"]=l||!1,F["permissions.update_center.full_access"]=o||!1,F["permissions.delete_center"]=r||!1,F["permissions.view_center_details.full_access"]=d||!1,F["permissions.view_center_details.view_pincode"]=c||!1,F["permissions.add_technician"]=u||!1,F["permissions.update_technician.full_access"]=h||!1,F["permissions.delete_technician"]=p||!1,F["permissions.view_technician_details.full_access"]=m||!1,F["permissions.view_technician_details.technician_phone"]=v||!1,F["permissions.view_dashboard_full_access"]=b||!1,F["permissions.add_new_services"]=j||!1,F["permissions.update_services.full_access"]=g||!1,F["permissions.inactive_active"]=x||!1,F["permissions.view_services_list.full_access"]=O||!1,F["permissions.add_ticket"]=f||!1,F["permissions.edit_ticket.full_access"]=_||!1,F["permissions.delete_ticket"]=y||!1,F["permissions.view_ticket.full_access"]=C||!1,F["permissions.add_clients"]=k||!1,F["permissions.edit_clients.full_access"]=w||!1,F["permissions.view_clients.full_access"]=S||!1,F["permissions.view_broadcastedList"]=A||!1,F["permissions.add_role"]=D||!1,F["permissions.edit_role_permissions.full_access"]=P||!1,F["permissions.delete_role"]=T||!1,F["permissions.view_role.full_access"]=I||!1,void(new te).adminUpdateRole(F).then((function(e){i.showDialog(!0,"success","Role updated successfully"),i.setState({isRegistering:!1}),i.props.history.push("/roles")})).catch((function(e){var t,n;console.log(e),i.showDialog(!0,"error",null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message),i.setState({isRegistering:!1})}));(new te).adminAddRole(F).then((function(e){i.showDialog(!0,"success","Role Created successfully"),i.handleResetValues(),i.props.history.push("/roles")})).catch((function(e){var t,n;console.log(e),i.setState({isRegistering:!1}),i.showDialog(!0,"error",null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)}))},i.state={roleName:"",addCenter:!1,updateCenterFullAccess:!1,deleteCenter:!1,viewCenterDetailsFullAccess:!1,viewCenterDetailsViewPincode:!1,addTechnician:!1,updateTechnicianFullAccess:!1,deleteTechnician:!1,viewTechnicianDetailsFullAccess:!1,viewTechnicianDetailsTechnicianPhone:!1,viewDashboardFullAccess:!1,addNewServices:!1,updateServicesFullAccess:!1,inActiveActive:!1,viewServicesListFullAccess:!1,addTicket:!1,editTicketFullAccess:!1,deleteTicket:!1,viewTicketFullAccess:!1,addClients:!1,editClientsFullAccess:!1,viewClientsFullAccess:!1,viewBroadcastedListFullAccess:!1,addRole:!1,editRoleFullAccess:!1,deleteRole:!1,viewRoleFullAccess:!1,toast:{open:!1,msg:"",duration:5e3,type:""},isFormValid:!1,isRegistering:!1,isEditDetailsExists:!1,doesRoleExists:!1},i}return Object(d.a)(n,[{key:"componentDidMount",value:function(){console.log("hey man",this.props.reduxState);var e=new URLSearchParams(this.props.location.search).get("edit");console.log(e,"edit role id"),null!=e&&this.getRoleDetails(e)}},{key:"getRoleObjIdForEdit",value:function(){return new URLSearchParams(this.props.location.search).get("edit")}},{key:"getRoleDetails",value:function(e){var t=this,n={role_obj_id:e};this.setState({isEditDetailsExists:!0}),(new te).getAllAvailableRoles(n).then((function(e){var n,i;null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.length&&(t.setState({doesRoleExists:!0}),t.updateRoleDetails(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i[0]))})).catch((function(e){console.log(e)}))}},{key:"updateRoleDetails",value:function(e){var t,n,i,a,s,l,o,r,d,c,u,h,p,m,v,b,j,g,x,O,f,_,y,C,k,w,S,A,D,P,T,I,F,R,E,B,N,L,G,V;console.log("roleDetails are",null===e||void 0===e?void 0:e.add_center),this.setState({roleName:null===e||void 0===e?void 0:e.role_name,addCenter:null===e||void 0===e||null===(t=e.permissions)||void 0===t?void 0:t.add_center,updateCenterFullAccess:null===e||void 0===e||null===(n=e.permissions)||void 0===n||null===(i=n.update_center)||void 0===i?void 0:i.full_access,deleteCenter:null===e||void 0===e||null===(a=e.permissions)||void 0===a?void 0:a.delete_center,viewCenterDetailsFullAccess:null===e||void 0===e||null===(s=e.permissions)||void 0===s||null===(l=s.view_center_details)||void 0===l?void 0:l.full_access,viewCenterDetailsViewPincode:null===e||void 0===e||null===(o=e.permissions)||void 0===o||null===(r=o.view_center_details)||void 0===r?void 0:r.view_pincode,addTechnician:null===e||void 0===e||null===(d=e.permissions)||void 0===d?void 0:d.add_technician,updateTechnicianFullAccess:null===e||void 0===e||null===(c=e.permissions)||void 0===c||null===(u=c.update_technician)||void 0===u?void 0:u.full_access,deleteTechnician:null===e||void 0===e||null===(h=e.permissions)||void 0===h?void 0:h.delete_technician,viewTechnicianDetailsFullAccess:null===e||void 0===e||null===(p=e.permissions)||void 0===p||null===(m=p.view_technician_details)||void 0===m?void 0:m.full_access,viewTechnicianDetailsTechnicianPhone:null===e||void 0===e||null===(v=e.permissions)||void 0===v||null===(b=v.view_technician_details)||void 0===b?void 0:b.technician_phone,viewDashboardFullAccess:null===e||void 0===e||null===(j=e.permissions)||void 0===j?void 0:j.view_dashboard_full_access,addNewServices:null===e||void 0===e||null===(g=e.permissions)||void 0===g?void 0:g.add_new_services,updateServicesFullAccess:null===e||void 0===e||null===(x=e.permissions)||void 0===x||null===(O=x.update_services)||void 0===O?void 0:O.full_access,inActiveActive:null===e||void 0===e||null===(f=e.permissions)||void 0===f?void 0:f.inactive_active,viewServicesListFullAccess:null===e||void 0===e||null===(_=e.permissions)||void 0===_||null===(y=_.view_services_list)||void 0===y?void 0:y.full_access,addTicket:null===e||void 0===e||null===(C=e.permissions)||void 0===C?void 0:C.add_ticket,editTicketFullAccess:null===e||void 0===e||null===(k=e.permissions)||void 0===k||null===(w=k.edit_ticket)||void 0===w?void 0:w.full_access,deleteTicket:null===e||void 0===e||null===(S=e.permissions)||void 0===S?void 0:S.delete_ticket,viewTicketFullAccess:null===e||void 0===e||null===(A=e.permissions)||void 0===A||null===(D=A.view_ticket)||void 0===D?void 0:D.full_access,addClients:null===e||void 0===e||null===(P=e.permissions)||void 0===P?void 0:P.add_clients,editClientsFullAccess:null===e||void 0===e||null===(T=e.permissions)||void 0===T||null===(I=T.edit_clients)||void 0===I?void 0:I.full_access,viewClientsFullAccess:null===e||void 0===e||null===(F=e.permissions)||void 0===F||null===(R=F.view_clients)||void 0===R?void 0:R.full_access,viewBroadcastedListFullAccess:null===e||void 0===e||null===(E=e.permissions)||void 0===E?void 0:E.view_broadcastedList,addRole:null===e||void 0===e||null===(B=e.permissions)||void 0===B?void 0:B.add_role,editRoleFullAccess:null===e||void 0===e||null===(N=e.permissions)||void 0===N?void 0:N.edit_role_full_access,deleteRole:null===e||void 0===e||null===(L=e.permissions)||void 0===L?void 0:L.delete_role,viewRoleFullAccess:null===e||void 0===e||null===(G=e.permissions)||void 0===G||null===(V=G.view_role)||void 0===V?void 0:V.full_access})}},{key:"handleResetValues",value:function(){this.setState({isRegistering:!1,roleName:"",addCenter:!1,updateCenterFullAccess:!1,deleteCenter:!1,viewCenterDetailsFullAccess:!1,viewCenterDetailsViewPincode:!1,addTechnician:!1,updateTechnicianFullAccess:!1,deleteTechnician:!1,viewTechnicianDetailsFullAccess:!1,viewTechnicianDetailsTechnicianPhone:!1,viewDashboardFullAccess:!1,addNewServices:!1,updateServicesFullAccess:!1,inActiveActive:!1,viewServicesListFullAccess:!1,addTicket:!1,editTicketFullAccess:!1,deleteTicket:!1,viewTicketFullAccess:!1,addClients:!1,editClientsFullAccess:!1,viewClientsFullAccess:!1,viewBroadcastedListFullAccess:!1,addRole:!1,editRoleFullAccess:!1,deleteRole:!1,viewRoleFullAccess:!1})}},{key:"render",value:function(){var e=this,t=this.state,n=t.toast,i=t.isFormValid,a=t.roleName,s=t.addCenter,o=t.updateCenterFullAccess,r=t.deleteCenter,d=t.viewCenterDetailsFullAccess,c=t.viewCenterDetailsViewPincode,u=t.addTechnician,h=t.updateTechnicianFullAccess,m=t.deleteTechnician,v=t.viewTechnicianDetailsFullAccess,j=t.viewTechnicianDetailsTechnicianPhone,g=t.viewDashboardFullAccess,x=t.addNewServices,O=t.updateServicesFullAccess,C=t.inActiveActive,k=t.viewServicesListFullAccess,w=t.addTicket,S=t.editTicketFullAccess,A=t.deleteTicket,D=t.viewTicketFullAccess,P=t.addClients,T=t.editClientsFullAccess,I=t.viewClientsFullAccess,F=t.viewBroadcastedListFullAccess,R=t.addRole,E=t.editRoleFullAccess,B=t.deleteRole,N=t.viewRoleFullAccess;return this.state.isEditDetailsExists&&!this.state.doesRoleExists?Object(l.jsx)(l.Fragment,{children:'"Page not found !!!"'}):Object(l.jsxs)("div",{children:[n.open&&Object(l.jsx)(_.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:n.open,autoHideDuration:n.duration,onClose:this.closeDialog,children:Object(l.jsx)(y.a,{onClose:this.closeDialog,severity:n.type,sx:{width:"100%"},children:n.msg})}),Object(l.jsx)("h2",{className:"text-align-center",children:this.state.isEditDetailsExists?"Update Role":"Add Role"}),Object(l.jsx)(Di,{children:Object(l.jsxs)(p.a,{container:!0,children:[Object(l.jsx)(p.a,{item:!0,style:Pi.paddingInnerGrids,md:12,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Role Name",style:Pi.inputBox,name:"roleName",value:a,onChange:this.handleChange,error:i&&!a})}),Object(l.jsx)(p.a,{style:Pi.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(An.a,{children:Object(l.jsx)(Dn.a,{control:Object(l.jsx)(Pn.a,{name:"addCenter",checked:s,onChange:this.handleChangeCheckBox}),label:"Add Center"})})}),Object(l.jsx)(p.a,{style:Pi.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(An.a,{children:Object(l.jsx)(Dn.a,{control:Object(l.jsx)(Pn.a,{name:"updateCenterFullAccess",checked:o,onChange:this.handleChangeCheckBox}),label:"Update Center Full Access"})})}),Object(l.jsx)(p.a,{style:Pi.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(An.a,{children:Object(l.jsx)(Dn.a,{control:Object(l.jsx)(Pn.a,{name:"deleteCenter",checked:r,onChange:this.handleChangeCheckBox}),label:"Delete Center"})})}),Object(l.jsx)(p.a,{style:Pi.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(An.a,{children:Object(l.jsx)(Dn.a,{control:Object(l.jsx)(Pn.a,{name:"viewCenterDetailsFullAccess",checked:d,onChange:this.handleChangeCheckBox}),label:"View Center Details Full Access"})})}),Object(l.jsx)(p.a,{style:Pi.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(An.a,{children:Object(l.jsx)(Dn.a,{control:Object(l.jsx)(Pn.a,{name:"viewCenterDetailsViewPincode",checked:c,onChange:this.handleChangeCheckBox}),label:"View Center Details Only Pincode"})})}),Object(l.jsx)(p.a,{style:Pi.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(An.a,{children:Object(l.jsx)(Dn.a,{control:Object(l.jsx)(Pn.a,{name:"addTechnician",checked:u,onChange:this.handleChangeCheckBox}),label:"Add Technician"})})}),Object(l.jsx)(p.a,{style:Pi.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(An.a,{children:Object(l.jsx)(Dn.a,{control:Object(l.jsx)(Pn.a,{name:"updateTechnicianFullAccess",checked:h,onChange:this.handleChangeCheckBox}),label:"Update Technician Full Access"})})}),Object(l.jsx)(p.a,{style:Pi.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(An.a,{children:Object(l.jsx)(Dn.a,{control:Object(l.jsx)(Pn.a,{name:"deleteTechnician",checked:m,onChange:this.handleChangeCheckBox}),label:"Delete Technician"})})}),Object(l.jsx)(p.a,{style:Pi.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(An.a,{children:Object(l.jsx)(Dn.a,{control:Object(l.jsx)(Pn.a,{name:"viewTechnicianDetailsFullAccess",checked:v,onChange:this.handleChangeCheckBox}),label:"View Technician Details Full Access"})})}),Object(l.jsx)(p.a,{style:Pi.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(An.a,{children:Object(l.jsx)(Dn.a,{control:Object(l.jsx)(Pn.a,{name:"viewTechnicianDetailsTechnicianPhone",checked:j,onChange:this.handleChangeCheckBox}),label:"View Technician Details Technician Phone"})})}),Object(l.jsx)(p.a,{style:Pi.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(An.a,{children:Object(l.jsx)(Dn.a,{control:Object(l.jsx)(Pn.a,{name:"viewDashboardFullAccess",checked:g,onChange:this.handleChangeCheckBox}),label:"View Dashboard Full Access"})})}),Object(l.jsx)(p.a,{style:Pi.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(An.a,{children:Object(l.jsx)(Dn.a,{control:Object(l.jsx)(Pn.a,{name:"addNewServices",checked:x,onChange:this.handleChangeCheckBox}),label:"Add New Services"})})}),Object(l.jsx)(p.a,{style:Pi.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(An.a,{children:Object(l.jsx)(Dn.a,{control:Object(l.jsx)(Pn.a,{name:"updateServicesFullAccess",checked:O,onChange:this.handleChangeCheckBox}),label:"Update Services Full Access"})})}),Object(l.jsx)(p.a,{style:Pi.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(An.a,{children:Object(l.jsx)(Dn.a,{control:Object(l.jsx)(Pn.a,{name:"inActiveActive",checked:C,onChange:this.handleChangeCheckBox}),label:"InActive Active"})})}),Object(l.jsx)(p.a,{style:Pi.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(An.a,{children:Object(l.jsx)(Dn.a,{control:Object(l.jsx)(Pn.a,{name:"viewServicesListFullAccess",checked:k,onChange:this.handleChangeCheckBox}),label:"View Services List Full Access"})})}),Object(l.jsx)(p.a,{style:Pi.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(An.a,{children:Object(l.jsx)(Dn.a,{control:Object(l.jsx)(Pn.a,{name:"addTicket",checked:w,onChange:this.handleChangeCheckBox}),label:"Add Ticket"})})}),Object(l.jsx)(p.a,{style:Pi.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(An.a,{children:Object(l.jsx)(Dn.a,{control:Object(l.jsx)(Pn.a,{name:"editTicketFullAccess",checked:S,onChange:this.handleChangeCheckBox}),label:"Edit Ticket Full Access"})})}),Object(l.jsx)(p.a,{style:Pi.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(An.a,{children:Object(l.jsx)(Dn.a,{control:Object(l.jsx)(Pn.a,{name:"deleteTicket",checked:A,onChange:this.handleChangeCheckBox}),label:"Delete Ticket"})})}),Object(l.jsx)(p.a,{style:Pi.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(An.a,{children:Object(l.jsx)(Dn.a,{control:Object(l.jsx)(Pn.a,{name:"viewTicketFullAccess",checked:D,onChange:this.handleChangeCheckBox}),label:"View Ticket Full Access"})})}),Object(l.jsx)(p.a,{style:Pi.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(An.a,{children:Object(l.jsx)(Dn.a,{control:Object(l.jsx)(Pn.a,{name:"addClients",checked:P,onChange:this.handleChangeCheckBox}),label:"Add Clients"})})}),Object(l.jsx)(p.a,{style:Pi.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(An.a,{children:Object(l.jsx)(Dn.a,{control:Object(l.jsx)(Pn.a,{name:"editClientsFullAccess",checked:T,onChange:this.handleChangeCheckBox}),label:"Edit Clients Full Access"})})}),Object(l.jsx)(p.a,{style:Pi.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(An.a,{children:Object(l.jsx)(Dn.a,{control:Object(l.jsx)(Pn.a,{name:"viewClientsFullAccess",checked:I,onChange:this.handleChangeCheckBox}),label:"View Clients Full Access"})})}),Object(l.jsx)(p.a,{style:Pi.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(An.a,{children:Object(l.jsx)(Dn.a,{control:Object(l.jsx)(Pn.a,{name:"viewBroadcastedListFullAccess",checked:F,onChange:this.handleChangeCheckBox}),label:"View Broadcasted List Full Access"})})}),Object(l.jsx)(p.a,{style:Pi.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(An.a,{children:Object(l.jsx)(Dn.a,{control:Object(l.jsx)(Pn.a,{name:"addRole",checked:R,onChange:this.handleChangeCheckBox}),label:"Add Role"})})}),Object(l.jsx)(p.a,{style:Pi.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(An.a,{children:Object(l.jsx)(Dn.a,{control:Object(l.jsx)(Pn.a,{name:"editRoleFullAccess",checked:E,onChange:this.handleChangeCheckBox}),label:"Edit Role Full Access"})})}),Object(l.jsx)(p.a,{style:Pi.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(An.a,{children:Object(l.jsx)(Dn.a,{control:Object(l.jsx)(Pn.a,{name:"deleteRole",checked:B,onChange:this.handleChangeCheckBox}),label:"Delete Role"})})}),Object(l.jsx)(p.a,{style:Pi.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(An.a,{children:Object(l.jsx)(Dn.a,{control:Object(l.jsx)(Pn.a,{name:"viewRoleFullAccess",checked:N,onChange:this.handleChangeCheckBox}),label:"View Role Full Access"})})}),Object(l.jsx)(p.a,{style:Pi.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(f.a,{variant:"contained",onClick:function(){return e.handleRegister()},disabled:this.state.isRegistering,children:this.state.isEditDetailsExists?"Update ":"Save"})})]})})]})}}]),n}(i.Component),Ii=Object(ve.b)((function(e){return{reduxState:e.userReducer}}),null)(Object(s.i)(Ti)),Fi={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"65%",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4,height:"80%",overflowY:"scroll"},Ri={width:"100%",maxWidth:"100%",bgcolor:"background.paper"},Ei={textAlignLeft:{textAlign:"left"},textAlignEnd:{textAlign:"end"}},Bi=function(e){var t=e.roleObject;return console.log("roleObject is",t),Object(l.jsx)(be.a,{sx:Ri,component:"nav","aria-label":"mailbox folders",children:Object.keys(t).map((function(e){return Object(l.jsxs)("div",{children:[Object(l.jsxs)(je.a,{button:!0,children:[Object(l.jsx)(ge.a,{sx:Ei.textAlignLeft,children:e}),Object(l.jsx)(ge.a,{sx:Ei.textAlignEnd,children:t[e]?Object(l.jsx)(qe.a,{color:"success",children:Object(l.jsx)(Kn.a,{})}):Object(l.jsx)(qe.a,{color:"error",children:Object(l.jsx)(Qn.a,{})})})]}),Object(l.jsx)(xe.a,{})]})}))})};function Ni(e){var t=e.isViewRoleOpen,n=e.handleCloseViewRole,i=e.roleObject;return Object(l.jsx)("div",{children:Object(l.jsx)(ae.a,{open:t,onClose:n,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(l.jsxs)(ie.a,{sx:Fi,children:[Object(l.jsx)("h2",{children:"Permissions"}),Object(l.jsx)(Bi,{roleObject:i})]})})})}var Li=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).parseUserObject=function(e){var t;return{userName:null===e||void 0===e?void 0:e.user_name,password:null===e||void 0===e?void 0:e.password,phoneNumber:null===e||void 0===e||null===(t=e.phone)||void 0===t?void 0:t.mobile_number,roleName:null===e||void 0===e?void 0:e.role_id.role_name}},i.handleViewUser=function(e){var t=i.parseUserObject(e);console.log("userObjectValue is",t),i.setState({isViewUserOpen:!0,selectedUser:t})},i.handleCloseViewUser=function(){i.setState({isViewUserOpen:!1})},i.componentDidMount=function(){i.getAllUsers()},i.showDialog=function(e,t,n){i.setState({toast:{open:e,msg:n,duration:5e3,type:t}})},i.closeDialog=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];i.setState({toast:{open:e,msg:"",duration:5e3,type:""}})},i.getFormattedServices=function(e){console.log(e);var t=[];return e&&e.length>0&&e.map((function(e){t.push(e.secondary_services_id.service_name)})),t.length>0?t.join(", "):""},i.handleAddUser=function(){i.props.history.push("/add-user")},i.handleClose=function(){i.setState({isUserEdit:!1})},i.handleDeleteUser=function(e){var t={user_object_id:e};(new te).adminRemoveUser(t).then((function(e){e&&i.showDialog(!0,"success","User deleted successfully"),i.getAllUsers()})).catch((function(e){var t,n;console.log(e),i.showDialog(!0,"error",null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)}))},i.state={usersList:[],isUserEdit:!1,viewfeedback:[],isViewUserOpen:!1,selectedUser:{},toast:{open:!1,msg:"",duration:5e3,type:""}},i}return Object(d.a)(n,[{key:"getAllUsers",value:function(){var e=this;(new te).getAllUsers().then((function(t){var n=[];t&&t.data&&t.data.allUsers&&t.data.allUsers.length>0&&(n=t.data.allUsers),e.setState({usersList:n})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.usersList;return Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:"add-service-button",children:Object(l.jsx)(f.a,{variant:"contained",className:"text-transform-none",onClick:this.handleAddUser,children:"Add a User"})}),Object(l.jsx)("div",{children:Object(l.jsx)(kn.a,{component:v.a,children:Object(l.jsxs)(_n.a,{sx:{minWidth:650},"aria-label":"simple table",children:[Object(l.jsx)(wn.a,{children:Object(l.jsxs)(Sn.a,{children:[Object(l.jsx)(Cn.a,{children:"User Name"}),Object(l.jsx)(Cn.a,{children:"Mobile Number"}),Object(l.jsx)(Cn.a,{children:"Role Given"}),Object(l.jsx)(Cn.a,{children:"Action"})]})}),Object(l.jsxs)(yn.a,{children:[console.log("usersList is",t),t&&t.length>0&&t.map((function(t){var n;return Object(l.jsxs)(Sn.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(l.jsx)(Cn.a,{component:"th",scope:"row",children:t.user_name}),Object(l.jsx)(Cn.a,{component:"th",scope:"row",children:t.phone.country_code+t.phone.mobile_number}),Object(l.jsx)(Cn.a,{component:"th",scope:"row",children:null===t||void 0===t||null===(n=t.role_id)||void 0===n?void 0:n.role_name}),Object(l.jsx)(Cn.a,{component:"th",scope:"row",children:Object(l.jsx)(f.a,{variant:"outlined",onClick:function(){return e.handleDeleteUser(t._id)},children:"Delete User"})}),Object(l.jsx)(Cn.a,{component:"th",scope:"row",children:Object(l.jsx)(f.a,{variant:"outlined",onClick:function(){return e.handleViewUser(t)},children:"View User"})})]},t._id)}))]})]})})}),Object(l.jsx)("div",{children:Object(l.jsx)(Ni,{isViewUserOpen:this.state.isViewUserOpen,handleCloseViewUser:this.handleCloseViewUser,userObject:this.state.selectedUser})})]})}}]),n}(i.Component),Gi=Object(s.i)(Li),Vi=Object(m.a)(v.a)((function(e){var t=e.theme;return Object(h.a)(Object(h.a)({backgroundColor:"dark"===t.palette.mode?"#1A2027":"#fff"},t.typography.body2),{},{padding:t.spacing(1),textAlign:"center",color:t.palette.text.secondary})})),qi={inputBox:{width:"100%",marginBottom:"10px"},gridStyle:{width:"80%",margin:"auto"},paddingInnerGrids:{paddingRight:"10px",paddingLeft:"10px",paddingTop:"10px"}},Ui=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).showDialog=function(e,t,n){i.setState({toast:{open:e,msg:n,duration:5e3,type:t}})},i.closeDialog=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];i.setState({toast:{open:e,msg:"",duration:5e3,type:""}})},i.handleChange=function(e){var t=e.target,n=t.name,a=t.value;i.setState(Object(o.a)({},n,a),(function(){console.log(i.state)}))},i.handleRegister=function(){var e=i.state,t=e.userName,n=e.password,a=e.phoneNumber,s=e.roleChosenId;if(!t)return i.setState({isFormValid:!0}),void i.showDialog(!0,"error","Please fill in all required details");i.setState({isRegistering:!0});var l={user_name:t,password:n,country_code:"+91",phone_number:a,role_id:s};if(i.state.isEditDetailsExists)return l.user_obj_id=i.getUserObjIdForEdit(),l.user_name=t||"",l.password=n||"",l.phone_number=a||"",l.role_id=s||"",void(new te).adminUpdateRole(l).then((function(e){i.showDialog(!0,"success","User updated successfully"),i.setState({isRegistering:!1}),i.props.history.push("/users")})).catch((function(e){var t,n;console.log(e),i.showDialog(!0,"error",null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message),i.setState({isRegistering:!1})}));(new te).adminCreateUser(l).then((function(e){i.showDialog(!0,"success","User Created successfully"),i.handleResetValues(),i.props.history.push("/users")})).catch((function(e){var t,n;console.log(e),i.setState({isRegistering:!1}),i.showDialog(!0,"error",null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)}))},i.state={userName:"",password:"",phoneNumber:"",roleChosenId:"",rolesList:[],toast:{open:!1,msg:"",duration:5e3,type:""},isFormValid:!1,isRegistering:!1,isEditDetailsExists:!1,doesUserExists:!1},i}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.getAllRolesExists(),console.log("hey man",this.props.reduxState);var e=new URLSearchParams(this.props.location.search).get("edit");console.log(e,"edit user id"),null!=e&&this.getUserDetails(e)}},{key:"getAllRolesExists",value:function(){var e=this;(new te).getAllAvailableRoles().then((function(t){e.setState({rolesList:t.data})})).catch((function(e){console.log(e)}))}},{key:"getUserObjIdForEdit",value:function(){return new URLSearchParams(this.props.location.search).get("edit")}},{key:"getUserDetails",value:function(e){var t=this,n={user_obj_id:e};this.setState({isEditDetailsExists:!0}),(new te).getAllUsers(n).then((function(e){var n,i;null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.length&&(t.setState({doesUserExists:!0}),t.updateUserDetails(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i[0]))})).catch((function(e){console.log(e)}))}},{key:"updateUserDetails",value:function(e){this.setState({userName:null===e||void 0===e?void 0:e.user_name,password:null===e||void 0===e?void 0:e.password,phoneNumber:null===e||void 0===e?void 0:e.phone_number,roleChosenId:null===e||void 0===e?void 0:e.role_id})}},{key:"handleResetValues",value:function(){this.setState({isRegistering:!1,userName:"",password:"",phoneNumber:"",roleChosenId:""})}},{key:"render",value:function(){var e,t=this,n=this.state,i=n.toast,a=n.isFormValid,s=n.userName,o=n.password,r=n.phoneNumber,d=n.roleChosenId;return this.state.isEditDetailsExists&&!this.state.doesUserExists?Object(l.jsx)(l.Fragment,{children:'"Page not found !!!"'}):Object(l.jsxs)("div",{children:[i.open&&Object(l.jsx)(_.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:i.open,autoHideDuration:i.duration,onClose:this.closeDialog,children:Object(l.jsx)(y.a,{onClose:this.closeDialog,severity:i.type,sx:{width:"100%"},children:i.msg})}),Object(l.jsx)("h2",{className:"text-align-center",children:this.state.isEditDetailsExists?"Update User":"Add User"}),Object(l.jsx)(Vi,{children:Object(l.jsxs)(p.a,{container:!0,children:[Object(l.jsx)(p.a,{item:!0,style:qi.paddingInnerGrids,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"User Name",style:qi.inputBox,name:"userName",value:s,onChange:this.handleChange,error:a&&!s})}),Object(l.jsx)(p.a,{item:!0,style:qi.paddingInnerGrids,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Password",style:qi.inputBox,name:"password",value:o,onChange:this.handleChange,error:a&&!o,type:"password"})}),Object(l.jsx)(p.a,{item:!0,style:qi.paddingInnerGrids,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Mobile Number",name:"phoneNumber",onChange:this.handleChange,style:qi.inputBox,error:a&&!r,value:r,InputProps:{startAdornment:Object(l.jsx)(C.a,{position:"start",children:Object(l.jsx)(k.a,{children:"+91"})})},inputProps:{maxLength:10}})}),Object(l.jsx)(p.a,{item:!0,md:6,style:qi.paddingInnerGrids,children:Object(l.jsxs)(x.a,{md:6,style:qi.inputBox,sx:{minWidth:120},children:[Object(l.jsx)(j.a,{id:"demo-simple-select-helper-label",children:"Choose Role"}),Object(l.jsx)(O.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",label:"Choose Role",name:"roleChosenId",onChange:this.handleChange,error:a&&!d,value:d,children:null===(e=this.state.rolesList)||void 0===e?void 0:e.map((function(e){return Object(l.jsx)(g.a,{value:e._id,children:e.role_name})}))})]})}),Object(l.jsx)(p.a,{style:qi.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(f.a,{variant:"contained",onClick:function(){return t.handleRegister()},disabled:this.state.isRegistering,children:this.state.isEditDetailsExists?"Update ":"Save"})})]})})]})}}]),n}(i.Component),Mi=Object(ve.b)((function(e){return{reduxState:e.userReducer}}),null)(Object(s.i)(Ui)),zi=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).componentDidMount=function(){i.getAllCenterOnBoarders()},i.showDialog=function(e,t,n){i.setState({toast:{open:e,msg:n,duration:5e3,type:t}})},i.closeDialog=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];i.setState({toast:{open:e,msg:"",duration:5e3,type:""}})},i.getFormattedList=function(e){var t=[];return e&&e.length>0&&e.map((function(e){t.push(e)})),t.length>0?t.join(", "):""},i.handleAddCenterOnboarder=function(){i.props.history.push("/admin-add-center-onboarder")},i.handleClose=function(){i.setState({isCenterOnboarderEdit:!1})},i.handleUpdateOnboarder=function(e){i.props.history.push("/admin-add-center-onboarder?edit="+e)},i.state={centerOnboardersList:[],isCenterOnboarderEdit:!1,viewfeedback:[],isViewCenterOnboarderOpen:!1,selectedCenterOnboarder:{},toast:{open:!1,msg:"",duration:5e3,type:""}},i}return Object(d.a)(n,[{key:"getAllCenterOnBoarders",value:function(){var e=this;(new te).getAllCenterOnBoarder().then((function(t){var n=[];t&&t.data&&t.data.length>0&&(n=t.data),e.setState({centerOnboardersList:n})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.centerOnboardersList;return Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:"add-service-button",children:Object(l.jsx)(f.a,{variant:"contained",className:"text-transform-none",onClick:this.handleAddCenterOnboarder,children:"Add a Center Onboarder"})}),Object(l.jsx)("div",{children:Object(l.jsx)(kn.a,{component:v.a,children:Object(l.jsxs)(_n.a,{sx:{minWidth:650},"aria-label":"simple table",children:[Object(l.jsx)(wn.a,{children:Object(l.jsxs)(Sn.a,{children:[Object(l.jsx)(Cn.a,{children:"Center Onboarder Id"}),Object(l.jsx)(Cn.a,{children:"Name"}),Object(l.jsx)(Cn.a,{children:"Mobile Number"}),Object(l.jsx)(Cn.a,{children:"Primary Services"}),Object(l.jsx)(Cn.a,{children:"Allowed States"}),Object(l.jsx)(Cn.a,{children:"Allowed Cities"}),Object(l.jsx)(Cn.a,{children:"Action"})]})}),Object(l.jsx)(yn.a,{children:t&&t.length>0&&t.map((function(t){var n,i;return Object(l.jsxs)(Sn.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(l.jsx)(Cn.a,{component:"th",scope:"row",children:t.center_onboarder_id||"-"}),Object(l.jsx)(Cn.a,{component:"th",scope:"row",children:t.name}),Object(l.jsx)(Cn.a,{component:"th",scope:"row",children:t.phone_details.country_code+t.phone_details.mobile_number}),Object(l.jsx)(Cn.a,{component:"th",scope:"row",children:null===t||void 0===t||null===(n=t.services)||void 0===n||null===(i=n.primary_services)||void 0===i?void 0:i.service_name}),Object(l.jsx)(Cn.a,{component:"th",scope:"row",children:e.getFormattedList(null===t||void 0===t?void 0:t.allowed_states)}),Object(l.jsx)(Cn.a,{component:"th",scope:"row",children:e.getFormattedList(null===t||void 0===t?void 0:t.allowed_cities)}),Object(l.jsx)(Cn.a,{component:"th",scope:"row",children:Object(l.jsx)(f.a,{variant:"outlined",onClick:function(){return e.handleUpdateOnboarder(t._id)},children:"Edit Onboarder"})})]},t._id)}))})]})})})]})}}]),n}(i.Component),Wi=Object(s.i)(zi),Hi=Object(m.a)("li")((function(e){return{margin:e.theme.spacing(.5)}}));function Yi(e){var t=e.chipData,n=e.handleDelete;return Object(l.jsx)(v.a,{sx:{display:"flex",justifyContent:"center",flexWrap:"wrap",listStyle:"none",p:.5,m:0},component:"ul",children:t&&t.length>0&&t.map((function(e){return Object(l.jsx)(Hi,{children:Object(l.jsx)(Oi.a,{label:e.label,onDelete:"React"===e.label?void 0:n(e)})},e.key)}))})}var Ki=Object(m.a)(v.a)((function(e){var t=e.theme;return Object(h.a)(Object(h.a)({backgroundColor:"dark"===t.palette.mode?"#1A2027":"#fff"},t.typography.body2),{},{padding:t.spacing(1),textAlign:"center",color:t.palette.text.secondary})})),Ji={inputBox:{width:"100%",marginBottom:"10px"},gridStyle:{width:"80%",margin:"auto"},paddingInnerGrids:{paddingRight:"10px",paddingLeft:"10px",paddingTop:"10px"}},Qi=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).mapArrayToKeyLabel=function(e){return e&&e.length>0&&e.map((function(e){return{key:e,label:e}}))},i.showDialog=function(e,t,n){i.setState({toast:{open:e,msg:n,duration:5e3,type:t}})},i.closeDialog=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];i.setState({toast:{open:e,msg:"",duration:5e3,type:""}})},i.handleChange=function(e){var t=e.target,n=t.name,a=t.value;i.setState(Object(o.a)({},n,a),(function(){console.log(i.state)}))},i.handleChangeStates=function(e){var t=e.target,n=(t.name,t.value),a=Object(it.a)(i.state.allowedStates);a.push({key:n,label:n}),i.setState({allowedStates:a})},i.getArrayOfStrings=function(e){return e&&e.length>0&&e.map((function(e){return e.label}))},i.handleRegister=function(){if(!i.state.name||!i.state.mobileNumber)return i.setState({isFormValid:!0}),void i.showDialog(!0,"error","Please fill in all required details");i.setState({isRegistering:!0});var e={name:i.state.name,phone_details:{country_code:"+91",mobile_number:i.state.mobileNumber}};if(i.state.isEditDetailsExists)return e.center_onboarder_id=i.getCenterOnboarderObjIdForEdit(),e.name=i.state.name||"",i.state.mobileNumber&&(e.phone_details={country_code:"+91",mobile_number:i.state.mobileNumber}),void(new te).adminUpdateCenterOnBoarder(e).then((function(e){i.showDialog(!0,"success","Center Onboarder updated successfully"),i.setState({isRegistering:!1}),i.props.history.push("/admin-center-onboarders")})).catch((function(e){var t,n;console.log(e),i.showDialog(!0,"error",null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message),i.setState({isRegistering:!1})}));(new te).adminCreateCenterOnBoarder(e).then((function(e){i.showDialog(!0,"success","Center Onboarder Created successfully"),i.handleResetValues(),i.props.history.push("/admin-center-onboarders")})).catch((function(e){var t,n;console.log(e),i.setState({isRegistering:!1}),i.showDialog(!0,"error",null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)}))},i.handleDeleteChipData=function(e,t){return function(){console.log("chipToDelete is",e);var n=[];"allowedStates"===t?n=i.state.allowedStates.filter((function(t){return t.key!==e.key})):"allowedCities"===t&&(n=i.state.allowedCities.filter((function(t){return t.key!==e.key}))),i.setState(Object(o.a)({},t,n))}},i.handleAddAllowedCities=function(e){if(i.state.allowedCities&&i.state.allowedCities.length>0&&i.state.allowedCities.find((function(t){return t.label===e})))i.showDialog(!0,"error","City already entered");else{var t=Object(it.a)(i.state.allowedCities);t.push({key:e,label:e}),i.setState({allowedCities:t,cityValue:""})}},i.state={name:"",countryCode:"+91",mobileNumber:"",uniqueId:"",toast:{open:!1,msg:"",duration:5e3,type:""},isFormValid:!1,isRegistering:!1,isEditDetailsExists:!1,doesCenterOnboarderExists:!1},i}return Object(d.a)(n,[{key:"componentDidMount",value:function(){console.log("hey man",this.props.reduxState);var e=new URLSearchParams(this.props.location.search).get("edit");console.log(e,"edit center onboarder id"),null!=e&&this.getCenterOnboarderDetails(e)}},{key:"getCenterOnboarderObjIdForEdit",value:function(){return new URLSearchParams(this.props.location.search).get("edit")}},{key:"getCenterOnboarderDetails",value:function(e){var t=this,n={center_onboarder_id:e};this.setState({isEditDetailsExists:!0}),(new te).getAllCenterOnBoarder(n).then((function(e){var n,i;null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.length&&(t.setState({doesCenterOnboarderExists:!0}),t.updateCenterOnboarderDetails(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i[0]))})).catch((function(e){console.log(e)}))}},{key:"updateCenterOnboarderDetails",value:function(e){var t;this.setState({name:null===e||void 0===e?void 0:e.name,countryCode:"+91",mobileNumber:null===e||void 0===e||null===(t=e.phone_details)||void 0===t?void 0:t.mobile_number})}},{key:"handleResetValues",value:function(){this.setState({isRegistering:!1,name:"",countryCode:"+91",mobileNumber:""})}},{key:"render",value:function(){var e=this,t=this.state,n=t.toast,i=t.isFormValid,a=t.name,s=(t.countryCode,t.mobileNumber);t.allowedStates,t.allowedCities,t.cityValue;return this.state.isEditDetailsExists&&!this.state.doesCenterOnboarderExists?Object(l.jsx)(l.Fragment,{children:'"Page not found !!!"'}):Object(l.jsxs)("div",{children:[n.open&&Object(l.jsx)(_.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:n.open,autoHideDuration:n.duration,onClose:this.closeDialog,children:Object(l.jsx)(y.a,{onClose:this.closeDialog,severity:n.type,sx:{width:"100%"},children:n.msg})}),Object(l.jsx)("h2",{className:"text-align-center",children:this.state.isEditDetailsExists?"Update Center Onboarder":"Add Center Onboarder"}),Object(l.jsx)(Ki,{children:Object(l.jsxs)(p.a,{container:!0,children:[Object(l.jsx)(p.a,{item:!0,style:Ji.paddingInnerGrids,md:6,children:Object(l.jsx)(b.a,{helperText:"Please provide your Shop / Center (Name)",id:"demo-helper-text-misaligned",label:"Shop / Center (Name)",name:"name",onChange:this.handleChange,style:Ji.inputBox,error:i&&!a,value:a})}),Object(l.jsx)(p.a,{item:!0,style:Ji.paddingInnerGrids,md:6,children:Object(l.jsx)(b.a,{helperText:"Please provide your mobile number",id:"demo-helper-text-misaligned",label:"Mobile Number",name:"mobileNumber",disabled:this.state.isOtpSentSuccess,onChange:this.handleChange,style:Ji.inputBox,error:i&&!s,value:s,InputProps:{startAdornment:Object(l.jsx)(C.a,{position:"start",children:Object(l.jsx)(k.a,{children:"+91"})})},inputProps:{maxLength:10}})}),Object(l.jsx)(p.a,{style:Ji.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(f.a,{variant:"contained",onClick:function(){return e.handleRegister()},disabled:this.state.isRegistering,children:this.state.isEditDetailsExists?"Update ":"Save"})})]})})]})}}]),n}(i.Component),Zi=Object(ve.b)((function(e){return{reduxState:e.userReducer}}),null)(Object(s.i)(Qi)),$i=function(){function e(){Object(r.a)(this,e),this.base_url=T}return Object(d.a)(e,[{key:"SendOtpOnboarder",value:function(e){var t=this;return new Promise((function(n,i){P()({method:"post",url:"".concat(t.base_url,"centerOnboarding/sendotp-onboarder"),data:e}).then((function(e){n(e.data)})).catch((function(e){i(e)}))}))}},{key:"RegisterOnboarder",value:function(e){var t=this;return new Promise((function(n,i){P()({method:"post",url:"".concat(t.base_url,"centerOnboarding/register-onboarder"),data:e}).then((function(e){n(e.data)})).catch((function(e){i(e)}))}))}},{key:"SendOtpOnboarderLogin",value:function(e){var t=this;return new Promise((function(n,i){P()({method:"post",url:"".concat(t.base_url,"centerOnboarding/send-otp-login"),data:e}).then((function(e){n(e.data)})).catch((function(e){i(e)}))}))}},{key:"VerifyOtpOnboarder",value:function(e){var t=this;return new Promise((function(n,i){P()({method:"post",url:"".concat(t.base_url,"centerOnboarding/verify-otp-login"),data:e}).then((function(e){n(e.data)})).catch((function(e){i(e)}))}))}},{key:"OnboarderCreateCenter",value:function(e){var t=this;return new Promise((function(n,i){P()({method:"post",url:"".concat(t.base_url,"centerOnboarding/create-center"),data:e}).then((function(e){n(e.data)})).catch((function(e){i(e)}))}))}},{key:"OnboarderGetAllCenters",value:function(e){var t=this;return new Promise((function(n,i){P()({method:"get",url:"".concat(t.base_url,"centerOnboarding/get-center"),params:e}).then((function(e){n(e.data)})).catch((function(e){i(e)}))}))}}]),e}(),Xi=Object(m.a)(v.a)((function(e){var t=e.theme;return Object(h.a)(Object(h.a)({backgroundColor:"dark"===t.palette.mode?"#1A2027":"#fff"},t.typography.body2),{},{padding:t.spacing(1),textAlign:"center",color:t.palette.text.secondary})})),ea={inputBox:{width:"100%",marginBottom:"10px"},gridStyle:{width:"80%",margin:"auto"},paddingInnerGrids:{paddingRight:"10px",paddingLeft:"10px",paddingTop:"10px"}},ta=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).showDialog=function(e,t,n){i.setState({toast:{open:e,msg:n,duration:5e3,type:t}})},i.closeDialog=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];i.setState({toast:{open:e,msg:"",duration:5e3,type:""}})},i.handleChange=function(e){var t=e.target,n=t.name,a=t.value;i.setState(Object(o.a)({},n,a),(function(){console.log(i.state)}))},i.handleChangeStates=function(e){var t=e.target,n=(t.name,t.value),a=Object(it.a)(i.state.allowedStates);a.push({key:n,label:n}),i.setState({allowedStates:a})},i.getArrayOfStrings=function(e){return e&&e.length>0&&e.map((function(e){return e.label}))},i.handleSendOtp=function(){if(!(i.state.name&&i.state.mobileNumber&&i.state.primary_services&&i.state.allowedStates&&i.state.allowedCities))return i.setState({isFormValid:!0}),void i.showDialog(!0,"error","Please fill in all required details");i.setState({sendingOtp:!0});var e={name:i.state.name,country_code:"+91",mobile_number:i.state.mobileNumber,allowed_cities:i.getArrayOfStrings(i.state.allowedCities),allowed_states:i.getArrayOfStrings(i.state.allowedStates),primary_services:i.state.primary_services};(new $i).SendOtpOnboarder(e).then((function(e){var t;i.showDialog(!0,"success","otp sent successfully"),i.setState({sendingOtp:!1,isOtpSentSuccess:!0,uniqueId:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.uniqueId})})).catch((function(e){var t,n;console.log(e),i.setState({sendingOtp:!1}),i.showDialog(!0,"error",null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)}))},i.handleVerifyOtp=function(){var e=i.state.otpEntered;if(e){var t={uniqueId:i.state.uniqueId,otp:e};i.setState({isVerifyingOtp:!0}),(new $i).RegisterOnboarder(t).then((function(e){i.showDialog(!0,"success","Registered successfully , register "),i.setState({isVerifyingOtp:!1,isOtpVerfied:!0}),setTimeout((function(){i.props.history.push("/center-onboard-login")}),5e3)})).catch((function(e){var t,n;console.log(e),i.setState({isVerifyingOtp:!1}),i.showDialog(!0,"error",null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)}))}else i.showDialog(!0,"error","otp not entered")},i.handleRegister=function(){var e={name:i.state.name,country_code:"+91",mobile_number:i.state.mobileNumber,allowed_cities:i.state.allowedCities,allowed_states:i.state.allowedStates,primary_services:i.state.primary_services};i.setState({isRegistering:!0}),(new $i).RegisterOnboarder(e).then((function(e){i.showDialog(!0,"success","Registered successfully , Please Login "),i.setState({isRegistering:!1}),setTimeout((function(){i.props.history.push("/center-onboard-login")}),5e3)})).catch((function(e){var t,n;console.log(e),i.setState({isRegistering:!1}),i.showDialog(!0,"error",null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)}))},i.handleDeleteChipData=function(e,t){return function(){console.log("chipToDelete is",e);var n=[];"allowedStates"===t?n=i.state.allowedStates.filter((function(t){return t.key!==e.key})):"allowedCities"===t&&(n=i.state.allowedCities.filter((function(t){return t.key!==e.key}))),i.setState(Object(o.a)({},t,n))}},i.handleAddAllowedCities=function(e){if(i.state.allowedCities&&i.state.allowedCities.length>0&&i.state.allowedCities.find((function(t){return t.label===e})))i.showDialog(!0,"error","City already entered");else{var t=Object(it.a)(i.state.allowedCities);t.push({key:e,label:e}),i.setState({allowedCities:t,cityValue:""})}},i.state={name:"",countryCode:"+91",mobileNumber:"",primary_services:"",secondary_services:{secondary_services_id:"",priority:""},allowedStates:[],allowedCities:[],cityValue:"",uniqueId:"",servicesList:[],toast:{open:!1,msg:"",duration:5e3,type:""},isFormValid:!1,sendingOtp:!1,isOtpSentSuccess:!1,otpEntered:"",isVerifyingOtp:!1,isOtpVerfied:!1,isRegistering:!1},i}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.getAllServicesExists()}},{key:"getAllServicesExists",value:function(){var e=this;(new I).getAllActiveServices().then((function(t){e.setState({servicesList:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e,t=this,n=this.state,i=n.toast,a=n.isFormValid,s=n.name,o=(n.countryCode,n.mobileNumber),r=n.allowedStates,d=n.allowedCities,c=n.cityValue;return Object(l.jsxs)("div",{children:[i.open&&Object(l.jsx)(_.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:i.open,autoHideDuration:i.duration,onClose:this.closeDialog,children:Object(l.jsx)(y.a,{onClose:this.closeDialog,severity:i.type,sx:{width:"100%"},children:i.msg})}),Object(l.jsx)("h2",{className:"text-align-center",children:"Center Onboard Registration"}),Object(l.jsx)(Xi,{children:Object(l.jsxs)(p.a,{container:!0,children:[Object(l.jsx)(p.a,{item:!0,style:ea.paddingInnerGrids,md:6,children:Object(l.jsx)(b.a,{helperText:"Please provide your Shop / Center (Name)",id:"demo-helper-text-misaligned",label:"Shop / Center (Name)",name:"name",onChange:this.handleChange,style:ea.inputBox,error:a&&!s,value:s})}),Object(l.jsx)(p.a,{item:!0,style:ea.paddingInnerGrids,md:6,children:Object(l.jsx)(b.a,{helperText:"Please provide your mobile number",id:"demo-helper-text-misaligned",label:"Mobile Number",name:"mobileNumber",disabled:this.state.isOtpSentSuccess,onChange:this.handleChange,style:ea.inputBox,error:a&&!o,value:o,InputProps:{startAdornment:Object(l.jsx)(C.a,{position:"start",children:Object(l.jsx)(k.a,{children:"+91"})})},inputProps:{maxLength:10}})}),Object(l.jsx)(p.a,{item:!0,md:6,style:ea.paddingInnerGrids,children:Object(l.jsxs)(x.a,{md:6,style:ea.inputBox,sx:{minWidth:120},children:[Object(l.jsx)(j.a,{id:"demo-simple-select-helper-label",children:"Main Service You Offer / Need"}),Object(l.jsx)(O.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",label:"Main Service You Offer / Need",name:"primary_services",onChange:this.handleChange,error:a&&!this.state.primary_services,value:this.state.primary_services,children:null===(e=this.state.servicesList)||void 0===e?void 0:e.map((function(e){return Object(l.jsx)(g.a,{value:e._id,children:e.service_name})}))})]})}),Object(l.jsxs)(p.a,{item:!0,style:ea.paddingInnerGrids,md:6,children:[Object(l.jsx)(Yi,{chipData:r,handleDelete:function(e){return t.handleDeleteChipData(e,"allowedStates")}}),Object(l.jsxs)(x.a,{md:6,style:ea.inputBox,sx:{minWidth:120},children:[Object(l.jsx)(j.a,{id:"demo-simple-select-helper-label",children:"State"}),Object(l.jsx)(O.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",label:"State",name:"state",onChange:this.handleChangeStates,value:r,error:a&&!r,children:null===R||void 0===R?void 0:R.map((function(e){return Object(l.jsx)(g.a,{value:e.value,children:e.value})}))})]})]}),Object(l.jsxs)(p.a,{item:!0,style:ea.paddingInnerGrids,md:6,children:[Object(l.jsx)(Yi,{chipData:d,handleDelete:function(e){return t.handleDeleteChipData(e,"allowedCities")}}),Object(l.jsx)(b.a,{helperText:"Allowed Cities",id:"demo-helper-text-misaligned",label:"Allowed Cities",name:"cityValue",onChange:this.handleChange,style:ea.inputBox,error:a&&!c,value:c,InputProps:{endAdornment:Object(l.jsx)(f.a,{onClick:function(){return t.handleAddAllowedCities(c)},variant:"contained",children:"Add"})}})]}),this.state.isOtpSentSuccess?Object(l.jsx)(p.a,{item:!0,style:ea.paddingInnerGrids,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Enter otp",name:"otpEntered",onChange:this.handleChange,value:this.state.otpEntered,style:ea.inputBox})}):"",Object(l.jsxs)(p.a,{style:ea.paddingInnerGrids,item:!0,md:6,children:[!this.state.isOtpSentSuccess&&Object(l.jsx)(f.a,{onClick:function(){return t.handleSendOtp()},variant:"contained",disabled:this.state.sendingOtp,children:this.state.sendingOtp?"Sending otp":"Send Otp"}),this.state.isOtpSentSuccess?Object(l.jsx)(f.a,{onClick:function(){return t.handleVerifyOtp()},variant:"contained",disabled:this.state.isVerifyingOtp,children:this.state.isVerifyingOtp?"Registering...":"Register"}):""]})]})})]})}}]),n}(i.Component),na=ta,ia={layout:{width:400,textAlign:"center",position:"absolute",top:"50%",left:"50%",margin:"auto",transform:"translate(-50%, -50%)"},inputBox:{width:350,textAlign:"center",marginTop:10},btnLayout:{width:350,textAlign:"center",margin:"auto",height:50,marginBottom:20},btnHorLayout:{width:350,textAlign:"center",marginLeft:20,marginRight:20,height:40,marginBottom:20}};function aa(){var e=Object(i.useState)(""),t=Object(ne.a)(e,2),n=t[0],a=t[1],o=Object(i.useState)({open:!1,msg:"",duration:5e3,type:""}),r=Object(ne.a)(o,2),d=r[0],c=r[1],u=(Object(ve.d)((function(e){return e.centerOnboardReducer})),Object(ve.c)()),h=Object(s.g)(),p=function(e,t,n){c({open:e,msg:n,duration:5e3,type:t})},m=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];c({open:e,msg:"",duration:5e3,type:""})},v=Object(i.useState)(!1),j=Object(ne.a)(v,2),g=j[0],x=j[1],O=Object(i.useState)(""),w=Object(ne.a)(O,2),S=w[0],A=w[1],D=Object(i.useState)(!1),P=Object(ne.a)(D,2),T=P[0],I=P[1],F=Object(i.useState)(!1),R=Object(ne.a)(F,2),E=R[0],B=R[1],N=function(){if(n)if(10==n.toString().length){var e={country_code:"+91",mobile_number:n};I(!0),(new $i).SendOtpOnboarderLogin(e,{action:"login"}).then((function(e){p(!0,"success",Ee),x(!0),I(!1)})).catch((function(e){var t,n;console.log(e),p(!0,"error",null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message),I(!1)}))}else p(!0,"error",Re);else p(!0,"error",Fe)};return Object(l.jsxs)(Pe.a,{style:ia.layout,sx:{minWidth:200},children:[d.open&&Object(l.jsx)(_.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:d.open,autoHideDuration:d.duration,onClose:m,children:Object(l.jsx)(y.a,{onClose:m,severity:d.type,sx:{width:"100%"},children:d.msg})}),Object(l.jsxs)(Ie.a,{children:[Object(l.jsx)(k.a,{sx:{fontSize:25},color:"text.secondary",align:"center",gutterBottom:!0,children:"Center Onboard Login"}),Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Enter registered Phone Number *",style:ia.inputBox,type:"number",disabled:g,onChange:function(e){var t=e.target.value;console.log(t.length," value "),t.length>10||a(e.target.value)},value:n,InputProps:{startAdornment:Object(l.jsx)(C.a,{position:"start",children:Object(l.jsx)(k.a,{children:"+91"})})}}),g&&Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Enter Otp",style:ia.inputBox,type:"number",onChange:function(e){A(e.target.value)}})})]}),Object(l.jsxs)(Te.a,{children:[!g&&Object(l.jsx)(f.a,{style:ia.btnLayout,onClick:function(){return N()},disabled:T,variant:"contained",children:T?"Sending otp":"Send otp"}),g&&Object(l.jsx)(f.a,{style:ia.btnHorLayout,onClick:function(){return N()},disabled:T,variant:"contained",children:T?"Resending":"Resend otp"}),g&&Object(l.jsx)(f.a,{style:ia.btnHorLayout,onClick:function(){return function(){if(S){var e={country_code:"+91",mobile_number:n,otp:S};B(!0),(new $i).VerifyOtpOnboarder(e).then((function(e){p(!0,"success",Ne),console.log("res is",e),u(Object(vn.a)({centerOnboardDetails:e.data.latest_details,isCenterOnboardLoggedIn:!0,userTokens:{accessToken:e.data.token}})),console.log("redirect it"),h.push("/center-onboard-view-centers"),x(!0),B(!1)})).catch((function(e){var t,n;console.log(e),p(!0,"error",null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message),B(!1)}))}else p(!0,"error",Be)}()},disabled:E,variant:"contained",children:E?"Logging In , please wait":"Login"})]})]})}var sa=Object(m.a)(v.a)((function(e){var t=e.theme;return Object(h.a)(Object(h.a)({backgroundColor:"dark"===t.palette.mode?"#1A2027":"#fff"},t.typography.body2),{},{padding:t.spacing(1),textAlign:"center",color:t.palette.text.secondary})})),la={inputBox:{width:"100%",marginBottom:"10px"},gridStyle:{width:"80%",margin:"auto"},paddingInnerGrids:{paddingRight:"10px",paddingLeft:"10px",paddingTop:"10px"}},oa=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).showDialog=function(e,t,n){i.setState({toast:{open:e,msg:n,duration:5e3,type:t}})},i.closeDialog=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];i.setState({toast:{open:e,msg:"",duration:5e3,type:""}})},i.handleInputChangeClients=function(e){var t=e.target.value;console.log(t),i.setState({clients_ids_list:"string"===typeof t?t.split(","):t})},i.handleChangeInputOuter=function(e){var t=e.target,n=t.name,a=t.value;"primary_services"===n&&i.setState({secondary_services:Object(h.a)(Object(h.a)({},i.state.secondary_services),{},{secondary_services_id:a})}),i.setState(Object(o.a)({},n,a),(function(){console.log(i.state)}))},i.handleChangePersonalDetails=function(e){var t=e.target,n=t.name,a=t.value;i.setState({personal_details:{phone:Object(h.a)(Object(h.a)({},i.state.personal_details.phone),{},Object(o.a)({},n,a))}},(function(){console.log(i.state)}))},i.handleResetStateValues=function(){i.setState({center_name:"",personal_details:{phone:{country_code:"+91",mobile_number:""},email:"",name:"",user_name:"",about:""},primary_services:"",secondary_services:{secondary_services_id:"",priority:""},address_details:{address_line:"",city:"",state:"",pincode:"",additional_pincode:"",country:"INDIA"},no_of_technicians:"",qr_code:"",upi_id:"",isFormValid:!1,sendingOtp:!1,isOtpSentSuccess:!1,otpEntered:"",isVerifyingOtp:!1,isOtpVerfied:!1,isRegistering:!1,clients_ids_list:[]})},i.handleChangeAddressDetails=function(e){var t=e.target,n=t.name,a=t.value;"pincode"!==n?i.setState({address_details:Object(h.a)(Object(h.a)({},i.state.address_details),{},Object(o.a)({},n,a))}):a.length<=6&&i.setState({address_details:Object(h.a)(Object(h.a)({},i.state.address_details),{},{additional_pincode:a})},(function(){i.setState({address_details:Object(h.a)(Object(h.a)({},i.state.address_details),{},Object(o.a)({},n,a))})}))},i.handleChangeSecondaryServiceDetails=function(e){var t=e.target,n=t.name,a=t.value;i.setState({secondary_services:Object(h.a)(Object(h.a)({},i.state.secondary_services),{},Object(o.a)({},n,a))})},i.handleRegister=function(){if(!(i.state.center_name&&i.state.personal_details.phone.mobile_number&&i.state.primary_services&&i.state.secondary_services.secondary_services_id&&i.state.address_details.address_line&&i.state.address_details.city&&i.state.address_details.state&&i.state.address_details.pincode&&i.state.address_details.country&&(0===i.state.no_of_technicians||i.state.no_of_technicians)&&i.state.address_details.additional_pincode))return i.setState({isFormValid:!0}),void i.showDialog(!0,"error","Please fill in all required details");var e={center_name:i.state.center_name,personal_details:i.state.personal_details,primary_services:i.state.primary_services,secondary_services:[{secondary_services_id:i.state.secondary_services.secondary_services_id,priority:1}],address_details:i.state.address_details,no_of_technicians:i.state.no_of_technicians,clients_ids_list:i.state.clients_ids_list};if(i.setState({isRegistering:!0}),i.state.isEditDetailsExists)return e.center_obj_id=i.getCenterIdForEdit(),e=Object(h.a)(Object(h.a)({},e),{},{login_into_application:i.state.login_into_application,accepting_broadcast_ticket:i.state.accepting_broadcast_ticket,upi_id:i.state.upi_id}),void(new I).updateCenterAdmin(e).then((function(e){i.showDialog(!0,"success","Center Updated "),i.setState({isRegistering:!1})})).catch((function(e){var t,n;console.log(e),i.setState({isRegistering:!1}),i.showDialog(!0,"error",null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)}));e=Object(h.a)(Object(h.a)({},e),{},{qr_code:i.state.qr_code,automate_qr_code:i.state.automate_qr_code}),(new $i).OnboarderCreateCenter(e).then((function(e){i.showDialog(!0,"success","Center added ! Add more centers "),i.setState({isRegistering:!1}),i.handleResetStateValues()})).catch((function(e){var t,n;console.log(e),i.setState({isRegistering:!1}),i.showDialog(!0,"error",null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)}))},i.handleChangeCheckBox=function(e,t){i.setState(Object(o.a)({},t,e.target.checked))},i.state={center_name:"",personal_details:{phone:{country_code:"+91",mobile_number:""},email:"",name:"",user_name:"",about:""},primary_services:"",secondary_services:{secondary_services_id:"",priority:""},address_details:{address_line:"",city:"",state:"",pincode:"",additional_pincode:"",country:"INDIA"},no_of_technicians:"",automate_qr_code:!1,qr_code:"",upi_id:"",toast:{open:!1,msg:"",duration:5e3,type:""},isFormValid:!1,servicesList:[],sendingOtp:!1,isOtpSentSuccess:!1,otpEntered:"",isVerifyingOtp:!1,isOtpVerfied:!1,isRegistering:!1,allClientsList:[],clients_ids_list:[],login_into_application:!1,accepting_broadcast_ticket:!1,doesCenterExists:!1,isEditDetailsExists:!1},i}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.getAllServicesExists(),this.getAllClients();var e=window.location.hash.split("?");console.log(e,"path",new URLSearchParams(this.props.location.search).get("edit"));var t=new URLSearchParams(this.props.location.search).get("edit");null!=t&&this.getCenterDetails(t)}},{key:"getCenterIdForEdit",value:function(){return new URLSearchParams(this.props.location.search).get("edit")}},{key:"getCenterDetails",value:function(e){var t=this,n={center_obj_id:e};this.setState({isEditDetailsExists:!0}),(new I).getCenterDetails(n).then((function(e){var n,i;null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.length&&(t.setState({doesCenterExists:!0}),t.updateStateOfEditData(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i[0]))})).catch((function(e){console.log(e)}))}},{key:"updateStateOfEditData",value:function(e){var t,n,i,a,s,l,o,r,d,c,u,h,p,m,v,b,j,g,x,O,f,_,y,C,k;this.setState({center_name:null===e||void 0===e?void 0:e.center_name,personal_details:{phone:{country_code:"+91",mobile_number:null===e||void 0===e||null===(t=e.personal_details)||void 0===t||null===(n=t.phone)||void 0===n?void 0:n.mobile_number},email:null===e||void 0===e||null===(i=e.personal_details)||void 0===i?void 0:i.email,name:null===e||void 0===e||null===(a=e.personal_details)||void 0===a?void 0:a.name,user_name:null===e||void 0===e||null===(s=e.personal_details)||void 0===s?void 0:s.user_name,about:null===e||void 0===e||null===(l=e.personal_details)||void 0===l?void 0:l.about},primary_services:null===e||void 0===e||null===(o=e.services)||void 0===o||null===(r=o.primary_services)||void 0===r?void 0:r._id,secondary_services:{secondary_services_id:null===e||void 0===e||null===(d=e.services)||void 0===d||null===(c=d.secondary_services)||void 0===c||null===(u=c[0])||void 0===u||null===(h=u.secondary_services_id)||void 0===h?void 0:h._id,priority:null===e||void 0===e||null===(p=e.services)||void 0===p||null===(m=p.secondary_services)||void 0===m||null===(v=m[0])||void 0===v||null===(b=v.secondary_services_id)||void 0===b?void 0:b.priority},address_details:{address_line:null===e||void 0===e||null===(j=e.address_details)||void 0===j?void 0:j.address_line,city:null===e||void 0===e||null===(g=e.address_details)||void 0===g?void 0:g.city,state:null===e||void 0===e||null===(x=e.address_details)||void 0===x?void 0:x.state,pincode:null===e||void 0===e||null===(O=e.address_details)||void 0===O?void 0:O.pincode,additional_pincode:null===e||void 0===e||null===(f=e.address_details)||void 0===f?void 0:f.additional_pincode,country:"INDIA"},upi_id:null===e||void 0===e||null===(_=e.payment_details)||void 0===_?void 0:_.upi_id,no_of_technicians:null===e||void 0===e?void 0:e.no_of_technicians,clients_ids_list:null===e||void 0===e||null===(y=e.clients_ids_list)||void 0===y?void 0:y.map((function(e){return e._id})),login_into_application:null===e||void 0===e||null===(C=e.disabled_for)||void 0===C?void 0:C.login_into_application,accepting_broadcast_ticket:null===e||void 0===e||null===(k=e.disabled_for)||void 0===k?void 0:k.accepting_broadcast_ticket})}},{key:"getAllClients",value:function(){var e=this;(new I).getAllClients().then((function(t){e.setState({allClientsList:t.data})})).catch((function(e){console.log(e)}))}},{key:"getAllServicesExists",value:function(){var e=this;(new I).getAllActiveServices().then((function(t){e.setState({servicesList:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e,t,n,i=this,a=this.state,s=a.toast,o=a.isFormValid;return Object(l.jsxs)("div",{children:[s.open&&Object(l.jsx)(_.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:s.open,autoHideDuration:s.duration,onClose:this.closeDialog,children:Object(l.jsx)(y.a,{onClose:this.closeDialog,severity:s.type,sx:{width:"100%"},children:s.msg})}),Object(l.jsx)("h2",{className:"text-align-center",children:this.state.isEditDetailsExists?"Update center":"Add Center"}),Object(l.jsx)(sa,{children:Object(l.jsxs)(p.a,{container:!0,children:[Object(l.jsx)(p.a,{item:!0,style:la.paddingInnerGrids,md:6,children:Object(l.jsx)(b.a,{helperText:"Please provide your Shop / Center (Name)",id:"demo-helper-text-misaligned",label:"Shop / Center (Name)",name:"center_name",onChange:this.handleChangeInputOuter,style:la.inputBox,error:o&&!this.state.center_name,value:this.state.center_name})}),Object(l.jsx)(p.a,{item:!0,style:la.paddingInnerGrids,md:6,children:Object(l.jsx)(b.a,{helperText:"Please provide your Shop / Center (Name)",id:"demo-helper-text-misaligned",label:"What's App Number",name:"mobile_number",disabled:this.state.isOtpSentSuccess,onChange:this.handleChangePersonalDetails,style:la.inputBox,error:o&&!this.state.personal_details.phone.mobile_number,value:this.state.personal_details.phone.mobile_number,InputProps:{startAdornment:Object(l.jsx)(C.a,{position:"start",children:Object(l.jsx)(k.a,{children:"+91"})})},inputProps:{maxLength:10}})}),Object(l.jsx)(p.a,{item:!0,md:6,style:la.paddingInnerGrids,children:Object(l.jsxs)(x.a,{md:6,style:la.inputBox,sx:{minWidth:120},children:[Object(l.jsx)(j.a,{id:"demo-simple-select-helper-label",children:"Main Service You Offer / Need"}),Object(l.jsx)(O.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",label:"Main Service You Offer / Need",name:"primary_services",input:Object(l.jsx)(ui.a,{id:"select-multiple-chip",label:"Chip"}),onChange:this.handleChangeInputOuter,error:o&&!this.state.primary_services,value:this.state.primary_services,children:null===(e=this.state.servicesList)||void 0===e?void 0:e.map((function(e){return Object(l.jsx)(g.a,{value:e._id,children:e.service_name})}))})]})}),Object(l.jsx)(p.a,{item:!0,md:6,style:la.paddingInnerGrids,children:Object(l.jsxs)(x.a,{md:6,style:la.inputBox,sx:{minWidth:120},children:[Object(l.jsx)(j.a,{id:"demo-simple-select-helper-label",children:"Choose clients"}),Object(l.jsx)(O.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",label:"Choose clients",name:"clients_ids_list",multiple:!0,onChange:this.handleInputChangeClients,error:o&&!this.state.clients_ids_list.length,value:this.state.clients_ids_list,children:null===(t=this.state.allClientsList)||void 0===t?void 0:t.map((function(e){return Object(l.jsx)(g.a,{value:e._id,children:e.client_name})}))})]})}),Object(l.jsx)(p.a,{item:!0,md:6,style:la.paddingInnerGrids,children:Object(l.jsxs)(x.a,{md:6,style:la.inputBox,sx:{minWidth:120},children:[Object(l.jsx)(j.a,{id:"demo-simple-select-helper-label",children:"Other Service You Offer / Need"}),Object(l.jsx)(O.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",label:"Other Service You Offer / Need",name:"secondary_services_id",onChange:this.handleChangeSecondaryServiceDetails,error:o&&!this.state.secondary_services.secondary_services_id,value:this.state.secondary_services.secondary_services_id,children:null===(n=this.state.servicesList)||void 0===n?void 0:n.map((function(e){return Object(l.jsx)(g.a,{value:e._id,children:e.service_name})}))})]})}),Object(l.jsx)(p.a,{item:!0,style:la.paddingInnerGrids,md:6,children:Object(l.jsx)(b.a,{helperText:"Please enter your address",id:"demo-helper-text-misaligned",label:"Address",name:"address_line",onChange:this.handleChangeAddressDetails,style:la.inputBox,error:o&&!this.state.address_details.address_line,value:this.state.address_details.address_line})}),Object(l.jsx)(p.a,{item:!0,style:la.paddingInnerGrids,md:6,children:Object(l.jsx)(b.a,{helperText:"Please enter your city",id:"demo-helper-text-misaligned",label:"City",name:"city",onChange:this.handleChangeAddressDetails,error:o&&!this.state.address_details.city,value:this.state.address_details.city,style:la.inputBox})}),Object(l.jsx)(p.a,{item:!0,style:la.paddingInnerGrids,md:6,children:Object(l.jsxs)(x.a,{md:6,style:la.inputBox,sx:{minWidth:120},children:[Object(l.jsx)(j.a,{id:"demo-simple-select-helper-label",children:"State"}),Object(l.jsx)(O.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",label:"State",name:"state",onChange:this.handleChangeAddressDetails,value:this.state.address_details.state,error:o&&!this.state.address_details.state,children:null===R||void 0===R?void 0:R.map((function(e){return Object(l.jsx)(g.a,{value:e.value,children:e.value})}))})]})}),Object(l.jsx)(p.a,{item:!0,style:la.paddingInnerGrids,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Country",name:"country",onChange:this.handleChangeAddressDetails,error:o&&!this.state.address_details.country,value:this.state.address_details.country,style:la.inputBox,disabled:!0})}),this.state.isEditDetailsExists&&Object(l.jsx)(p.a,{style:la.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(An.a,{children:Object(l.jsx)(Dn.a,{control:Object(l.jsx)(Pn.a,{checked:this.state.login_into_application,onChange:function(e){return i.handleChangeCheckBox(e,"login_into_application")}}),label:"Disable login"})})}),this.state.isEditDetailsExists&&Object(l.jsx)(p.a,{style:la.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(An.a,{children:Object(l.jsx)(Dn.a,{control:Object(l.jsx)(Pn.a,{checked:this.state.accepting_broadcast_ticket,onChange:function(e){return i.handleChangeCheckBox(e,"accepting_broadcast_ticket")}}),label:"Disable accepting ticket"})})}),Object(l.jsx)(p.a,{item:!0,style:la.paddingInnerGrids,md:6,children:Object(l.jsx)(b.a,{helperText:"Please enter your pincode",id:"demo-helper-text-misaligned",label:"Service Area Pincode (main)",name:"pincode",type:"number",onChange:this.handleChangeAddressDetails,error:o&&!this.state.address_details.pincode,value:this.state.address_details.pincode,style:la.inputBox,inputProps:{maxLength:6}})}),Object(l.jsx)(p.a,{item:!0,style:la.paddingInnerGrids,md:6,children:Object(l.jsx)(b.a,{helperText:"Please enter your additional pincode",id:"demo-helper-text-misaligned",label:"Addtional Service Area Pincode (other)",name:"additional_pincode",onChange:this.handleChangeAddressDetails,error:o&&!this.state.address_details.additional_pincode,value:this.state.address_details.additional_pincode,style:la.inputBox,inputProps:{maxLength:6}})}),Object(l.jsx)(p.a,{item:!0,md:6,style:la.paddingInnerGrids,children:Object(l.jsxs)(x.a,{style:la.inputBox,sx:{minWidth:120},children:[Object(l.jsx)(j.a,{id:"demo-simple-select-helper-label",children:"Technician Associate"}),Object(l.jsx)(O.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",label:"Technician Associate",name:"no_of_technicians",onChange:this.handleChangeInputOuter,error:o&&""===this.state.no_of_technicians,value:this.state.no_of_technicians,children:[0,1,2,3,4,5,6,7,8,9,10].map((function(e){return Object(l.jsx)(g.a,{value:e,children:e})}))})]})}),this.state.isEditDetailsExists?"":Object(l.jsx)(p.a,{style:la.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(An.a,{children:Object(l.jsx)(Dn.a,{control:Object(l.jsx)(Pn.a,{checked:this.state.automate_qr_code,onChange:function(e){return i.handleChangeCheckBox(e,"automate_qr_code")}}),label:"Automate qr code"})})}),this.state.isEditDetailsExists||this.state.automate_qr_code?"":Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(p.a,{item:!0,md:6,style:la.paddingInnerGrids,children:Object(l.jsx)(b.a,{helperText:"Please enter your additional pincode",id:"demo-helper-text-misaligned",label:"Enter qr code",name:"qr_code",onChange:function(e){i.setState({qr_code:e.target.value})},value:this.state.qr_code,style:la.inputBox})})}),this.state.isEditDetailsExists?Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(p.a,{item:!0,md:6,style:la.paddingInnerGrids,children:Object(l.jsx)(b.a,{helperText:"Please enter your additional pincode",id:"demo-helper-text-misaligned",label:"Enter upi id",name:"upi_id",onChange:function(e){i.setState({upi_id:e.target.value})},value:this.state.upi_id,style:la.inputBox})})}):"",this.state.isOtpSentSuccess&&!this.state.isOtpVerfied?Object(l.jsx)(p.a,{item:!0,style:la.paddingInnerGrids,md:6,children:Object(l.jsx)(b.a,{id:"demo-helper-text-misaligned",label:"Enter otp",name:"otpEntered",onChange:this.handleChangeInputOuter,value:this.state.otpEntered,style:la.inputBox})}):"",Object(l.jsx)(p.a,{style:la.paddingInnerGrids,item:!0,md:6,children:Object(l.jsx)(f.a,{onClick:function(){return i.handleRegister()},variant:"contained",disabled:this.state.isRegistering,children:this.state.isRegistering?this.state.isEditDetailsExists?"Updating....":"Adding ....":this.state.isEditDetailsExists?"Update center":"Add center"})})]})})]})}}]),n}(i.Component),ra=Object(ve.b)((function(e){return{reduxState:e.userReducer}}),null)(Object(s.i)(oa)),da={year:"numeric",month:"short",day:"numeric"},ca=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).componentDidMount=function(){i.OnboarderGetAllCenters()},i.showDialog=function(e,t,n){i.setState({toast:{open:e,msg:n,duration:5e3,type:t}})},i.closeDialog=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];i.setState({toast:{open:e,msg:"",duration:5e3,type:""}})},i.getFormattedList=function(e){console.log(e);var t=[];return e&&e.length>0&&e.map((function(e){t.push(e)})),t.length>0?t.join(", "):""},i.handleAddCenter=function(){i.props.history.push("/center-onboard-add-center")},i.handleClose=function(){i.setState({isCenterEdit:!1})},i.handleDeleteCenter=function(e){var t={user_object_id:e};(new $i).adminRemoveUser(t).then((function(e){e&&i.showDialog(!0,"success","Center deleted successfully"),i.OnboarderGetAllCenters()})).catch((function(e){var t,n;console.log(e),i.showDialog(!0,"error",null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)}))},i.getFormattedServices=function(e){var t=[];return e&&e.length>0&&e.map((function(e){var n;t.push(null===e||void 0===e||null===(n=e.secondary_services_id)||void 0===n?void 0:n.service_name)})),t.length>0?t.join(", "):""},i.getFormattedClients=function(e){var t=[];return e&&e.length>0&&e.map((function(e){t.push(e.client_name)})),t.length>0?t.join(", "):""},i.state={centersList:[],isCenterEdit:!1,toast:{open:!1,msg:"",duration:5e3,type:""}},i}return Object(d.a)(n,[{key:"OnboarderGetAllCenters",value:function(){var e=this;(new $i).OnboarderGetAllCenters().then((function(t){var n=[];t&&t.data&&t.data.length>0&&(n=t.data),e.setState({centersList:n})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.centersList;return Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:"add-service-button",children:Object(l.jsx)(f.a,{variant:"contained",className:"text-transform-none",onClick:this.handleAddCenter,children:"Add a Center"})}),Object(l.jsx)("div",{children:Object(l.jsx)(kn.a,{component:v.a,children:Object(l.jsxs)(_n.a,{sx:{minWidth:650},"aria-label":"simple table",children:[Object(l.jsx)(wn.a,{children:Object(l.jsxs)(Sn.a,{children:[Object(l.jsx)(Cn.a,{children:"Center Name"}),Object(l.jsx)(Cn.a,{children:"Phone"}),Object(l.jsx)(Cn.a,{children:"QR Code"}),Object(l.jsx)(Cn.a,{children:"Primary Pincode"}),Object(l.jsx)(Cn.a,{children:"Secondary Pincode"}),Object(l.jsx)(Cn.a,{children:"Primary Skill"}),Object(l.jsx)(Cn.a,{children:"Secondary Skill"}),Object(l.jsx)(Cn.a,{children:"Status"}),Object(l.jsx)(Cn.a,{children:"Created At"}),Object(l.jsx)(Cn.a,{children:"Authorized For Clients"}),Object(l.jsx)(Cn.a,{children:"Total ticket closed"}),Object(l.jsx)(Cn.a,{children:"Action"})]})}),Object(l.jsxs)(yn.a,{children:[console.log("centersList is",t),t&&t.length>0&&t.map((function(t){var n,i,a,s,o,r,d,c,u,h,p,m;return Object(l.jsxs)(Sn.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(l.jsx)(Cn.a,{component:"th",scope:"row",children:t.center_name}),Object(l.jsx)(Cn.a,{component:"th",scope:"row",children:(null===t||void 0===t||null===(n=t.personal_details)||void 0===n||null===(i=n.phone)||void 0===i?void 0:i.country_code)+(null===t||void 0===t||null===(a=t.personal_details)||void 0===a||null===(s=a.phone)||void 0===s?void 0:s.mobile_number)}),Object(l.jsx)(Cn.a,{component:"th",scope:"row",children:null===t||void 0===t||null===(o=t.qr_details)||void 0===o?void 0:o.qr_id}),Object(l.jsx)(Cn.a,{component:"th",scope:"row",children:null===t||void 0===t||null===(r=t.address_details)||void 0===r?void 0:r.pincode}),Object(l.jsx)(Cn.a,{component:"th",scope:"row",children:null===t||void 0===t||null===(d=t.address_details)||void 0===d?void 0:d.additional_pincode}),Object(l.jsx)(Cn.a,{component:"th",scope:"row",children:null===t||void 0===t||null===(c=t.services)||void 0===c||null===(u=c.primary_services)||void 0===u?void 0:u.service_name}),Object(l.jsx)(Cn.a,{component:"th",scope:"row",children:null===e||void 0===e?void 0:e.getFormattedServices(null===t||void 0===t||null===(h=t.services)||void 0===h?void 0:h.secondary_services)}),Object(l.jsx)(Cn.a,{component:"th",scope:"row",children:t.is_active}),Object(l.jsx)(Cn.a,{component:"th",scope:"row",children:null===(p=new Date(null===t||void 0===t?void 0:t.createdAt))||void 0===p?void 0:p.toLocaleDateString("en-US",da)}),Object(l.jsx)(Cn.a,{component:"th",scope:"row",children:e.getFormattedClients(null===t||void 0===t?void 0:t.clients_ids_list)}),Object(l.jsx)(Cn.a,{component:"th",scope:"row",children:null===t||void 0===t||null===(m=t.count_details)||void 0===m?void 0:m.closed_ticket_count})]},t._id)}))]})]})})})]})}}]),n}(i.Component),ua=Object(s.i)(ca),ha={styleForDiv:{marginTop:"8%",marginLeft:"20%",marginRight:"5%"}};t.a=function(){return Object(l.jsx)(i.Suspense,{children:Object(l.jsxs)(s.d,{children:[Object(l.jsx)(It,{exact:!0,path:"/",children:Object(l.jsx)(s.a,{to:"/booking"})}),Object(l.jsx)(s.b,{path:"/registration/:centerOnboarderId?",component:K}),Object(l.jsx)(s.b,{path:"/feedback/:id",component:ki}),Object(l.jsx)(s.b,{path:"/booking/:id",exact:!0,component:z}),Object(l.jsx)(s.b,{path:"/booking",exact:!0,component:G}),Object(l.jsx)(It,{path:"/login",component:nt}),Object(l.jsx)(Pt,{path:"/center-dashboard",component:function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(Xe,{}),Object(l.jsx)("div",{style:ha.styleForDiv,children:Object(l.jsx)(en,{})})]})}}),Object(l.jsx)(Pt,{path:"/Technicians",component:function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(Xe,{}),Object(l.jsx)("div",{style:ha.styleForDiv,children:Object(l.jsx)(ee,{})})]})}}),Object(l.jsx)(Pt,{path:"/brodcast-requests",component:function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(Xe,{}),Object(l.jsx)("div",{style:ha.styleForDiv,children:Object(l.jsx)(rn,{})})]})}}),Object(l.jsx)(Pt,{path:"/payments",component:function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(Xe,{}),Object(l.jsx)("div",{style:ha.styleForDiv,children:Object(l.jsx)(xi,{})})]})}}),Object(l.jsx)(Pt,{path:"/AddTechnician",component:function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(Xe,{}),Object(l.jsx)("div",{style:ha.styleForDiv,children:Object(l.jsx)(jt,{})})]})}}),Object(l.jsx)(Pt,{path:"/AddTicket",component:function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(Xe,{}),Object(l.jsx)("div",{style:ha.styleForDiv,children:Object(l.jsx)(_t,{})})]})}}),Object(l.jsx)(Pt,{path:"/ticket-created-by-you",component:function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(Xe,{}),Object(l.jsx)("div",{style:ha.styleForDiv,children:Object(l.jsx)(un,{})})]})}}),Object(l.jsx)(Pt,{component:function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(Xe,{}),Object(l.jsx)("div",{style:ha.styleForDiv,children:Object(l.jsx)(Zt,{})})]})},path:"/tickets-center"}),Object(l.jsx)(Bt,{path:"/admin-login",component:St}),Object(l.jsx)(Rt,{path:"/admin-dashboard",component:function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(mn,{}),Object(l.jsx)("div",{style:ha.styleForDiv,children:Object(l.jsx)(In,{})})]})}}),Object(l.jsx)(Rt,{path:"/broad-casted-list",component:function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(mn,{}),Object(l.jsx)("div",{style:ha.styleForDiv,children:Object(l.jsx)(ci,{})})]})}}),Object(l.jsx)(Rt,{path:"/add-center",component:function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(mn,{}),Object(l.jsx)("div",{style:ha.styleForDiv,children:Object(l.jsx)(vi,{})})]})}}),Object(l.jsx)(Rt,{path:"/view-ticket",component:function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(mn,{}),Object(l.jsx)("div",{style:ha.styleForDiv,children:Object(l.jsx)(yi,{})})]})}}),Object(l.jsx)(Rt,{path:"/admin-centers",component:function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(mn,{}),Object(l.jsx)("div",{style:ha.styleForDiv,children:Object(l.jsx)(ut,{})})]})}}),Object(l.jsx)(Rt,{path:"/admin-ticket",component:function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(mn,{}),Object(l.jsx)("div",{style:ha.styleForDiv,children:Object(l.jsx)(ri,{})})]})}}),Object(l.jsx)(Rt,{path:"/admin-feedBack",component:function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(mn,{}),Object(l.jsx)("div",{style:ha.styleForDiv,children:Object(l.jsx)(Ai,{})})]})}}),Object(l.jsx)(Rt,{path:"/Tickets",component:function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(mn,{}),Object(l.jsx)("div",{style:ha.styleForDiv,children:Object(l.jsx)(De,{})})]})}}),Object(l.jsx)(Rt,{component:function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(mn,{}),Object(l.jsx)("div",{style:ha.styleForDiv,children:Object(l.jsx)(kt,{})})]})},path:"/admin-technician"}),Object(l.jsx)(Rt,{path:"/admin-broadcast-tickets",component:function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(mn,{}),Object(l.jsx)("div",{style:ha.styleForDiv,children:Object(l.jsx)(Fn,{})})]})}}),Object(l.jsx)(Rt,{path:"/admin-clients",component:function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(mn,{}),Object(l.jsx)("div",{style:ha.styleForDiv,children:Object(l.jsx)(Vn,{})})]})}}),Object(l.jsx)(Rt,{path:"/roles",component:function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(mn,{}),Object(l.jsx)("div",{style:ha.styleForDiv,children:Object(l.jsx)(ii,{})})]})}}),Object(l.jsx)(Rt,{path:"/add-role",component:function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(mn,{}),Object(l.jsx)("div",{style:ha.styleForDiv,children:Object(l.jsx)(Ii,{})})]})}}),Object(l.jsx)(Rt,{path:"/users",component:function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(mn,{}),Object(l.jsx)("div",{style:ha.styleForDiv,children:Object(l.jsx)(Gi,{})})]})}}),Object(l.jsx)(Rt,{path:"/add-user",component:function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(mn,{}),Object(l.jsx)("div",{style:ha.styleForDiv,children:Object(l.jsx)(Mi,{})})]})}}),Object(l.jsx)(Rt,{path:"/admin-center-onboarders",component:function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(mn,{}),Object(l.jsx)("div",{style:ha.styleForDiv,children:Object(l.jsx)(Wi,{})})]})}}),Object(l.jsx)(Rt,{path:"/admin-add-center-onboarder",component:function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(mn,{}),Object(l.jsx)("div",{style:ha.styleForDiv,children:Object(l.jsx)(Zi,{})})]})}}),Object(l.jsx)(s.b,{path:"/center-onboard-registration",component:na}),Object(l.jsx)(s.b,{path:"/center-onboard-login",component:aa}),Object(l.jsx)(Lt,{path:"/center-onboard-add-center",component:function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(gn,{}),Object(l.jsx)("div",{style:ha.styleForDiv,children:Object(l.jsx)(ra,{})})]})}}),Object(l.jsx)(Lt,{path:"/center-onboard-view-centers",component:function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(gn,{}),Object(l.jsx)("div",{style:ha.styleForDiv,children:Object(l.jsx)(ua,{})})]})}})]})})}},41:function(e,t,n){},436:function(e,t,n){"use strict";(function(e){n(1);var i=n(56),a=(n(36),n(263)),s=n(443),l=n(21),o=n(326),r=n(439),d=(n(776),n(0));t.a=s.a.withRedux((function(){var t=Object(l.e)((function(e){return e}));return Object(r.a)(t),e.browser?Object(d.jsx)(o.a,{persistor:t.__persistor,loading:Object(d.jsx)("div",{children:"Loading"}),children:Object(d.jsx)(i.a,{children:Object(d.jsx)(a.a,{})})}):Object(d.jsx)(o.a,{persistor:t,children:Object(d.jsx)(i.a,{children:Object(d.jsx)(a.a,{})})})}))}).call(this,n(343))},439:function(e,t,n){"use strict";var i=n(17),a=n.n(i),s=n(21),l=n(152),o=n(153),r=n(177);t.a=function(e){var t,n=Object(s.d)((function(e){return e.userReducer})),i=Object(s.d)((function(e){return e.AdminReducer})),d=Object(s.d)((function(e){return e.centerOnboardReducer}));if(function(e,t,n){a.a.interceptors.response.use((function(e){return e}),(function(i){var a,s;console.log({axiosInterceptorError:i});var d,c,u=null===(a=i.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message;return console.log({axiosError:u}),(null!==u&&void 0!==u&&u.includes("jwt expired")||null!==u&&void 0!==u&&u.includes("Permission denied")||null!==u&&void 0!==u&&u.includes("User not found")||null!==u&&void 0!==u&&u.includes("Token is invalid"))&&(console.log("adminState is",t),null!==t&&void 0!==t&&null!==(d=t.adminDetails)&&void 0!==d&&d.user_name?(e.dispatch(Object(o.a)({adminDetails:{},isAdminLoggedIn:!1,userTokens:{accessToken:""}})),window.location.replace("http://onit.fit/#/admin-login")):null!==n&&void 0!==n&&null!==(c=n.centerOnboardDetails)&&void 0!==c&&c.name?(e.dispatch(Object(r.a)({centerOnboardDetails:{},isCenterOnboardLoggedIn:!1,userTokens:{accessToken:""}})),window.location.replace("http://onit.fit/#/admin-login")):(e.dispatch(Object(l.a)({userDetails:{},isUserLoggedIn:!1,userTokens:{accessToken:""}})),window.location.replace("http://onit.fit/#/login"))),Promise.reject(i)}))}(e,i,d),i.isAdminLoggedIn)a.a.defaults.headers.common["x-access-token"]=null===i||void 0===i||null===(t=i.userTokens)||void 0===t?void 0:t.accessToken;else if(null!==d&&void 0!==d&&d.isCenterOnboardLoggedIn){var c;a.a.defaults.headers.common["x-access-token"]=null===n||void 0===n||null===(c=n.userTokens)||void 0===c?void 0:c.accessToken}else{var u;a.a.defaults.headers.common["x-access-token"]=null===n||void 0===n||null===(u=n.userTokens)||void 0===u?void 0:u.accessToken}}},443:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var i=n(26),a=n(107),s=n(437),l=n(325),o=n(9),r=n(142),d={userDetails:{},userTokens:{accessToken:""},isUserLoggedIn:!1,centerDetailsPopulated:{}};var c=n(179),u={adminDetails:{},userTokens:{accessToken:""},isAdminLoggedIn:!1};var h=n(180),p={centerOnboardDetails:{},userTokens:{accessToken:""},isCenterOnboardLoggedIn:!1};var m=n(438),v="undefined"!==typeof window?n.n(m)()("local"):{getItem:function(e){return Promise.resolve(null)},setItem:function(e,t){return Promise.resolve(t)},removeItem:function(e){return Promise.resolve()}},b=Object(a.b)({userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.a:case r.b:return Object(o.a)(Object(o.a)({},e),t.payload);case r.c:return Object(o.a)(Object(o.a)({},e),{},{userDetails:t.payload});default:return e}},AdminReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.a:return Object(o.a)({},t.payload);case c.b:return Object(o.a)(Object(o.a)({},e),t.payload);default:return e}},centerOnboardReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.a:return Object(o.a)({},t.payload);case h.b:return Object(o.a)(Object(o.a)({},e),t.payload);default:return e}}}),j=function(e){return a.a.apply(void 0,Object(i.a)(e))},g=Object(s.a)((function(e){if(e.isServer)return Object(a.c)(b,j([l.a]));var t=n(779),i=t.persistStore,s=(0,t.persistReducer)({key:"nextjs",whitelist:["userReducer","AdminReducer","centerOnboardReducer"],storage:v},b),o=Object(a.c)(s,j([l.a]));return o.__persistor=i(o),o}))},451:function(e,t,n){"use strict";n.r(t);n(1);var i=n(36),a=n.n(i),s=(n(263),n(436)),l=n(0);a.a.render(Object(l.jsx)(s.a,{}),document.getElementById("root"))},776:function(e,t,n){}},[[451,1,2]]]);
//# sourceMappingURL=main.6b854283.chunk.js.map